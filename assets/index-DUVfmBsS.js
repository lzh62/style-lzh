(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))o(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(i){if(i.ep)return;i.ep=!0;const r=n(i);fetch(i.href,r)}})();function jp(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Kc={exports:{}},Xi={},Yc={exports:{}},V={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xo=Symbol.for("react.element"),em=Symbol.for("react.portal"),tm=Symbol.for("react.fragment"),nm=Symbol.for("react.strict_mode"),om=Symbol.for("react.profiler"),im=Symbol.for("react.provider"),rm=Symbol.for("react.context"),sm=Symbol.for("react.forward_ref"),lm=Symbol.for("react.suspense"),am=Symbol.for("react.memo"),um=Symbol.for("react.lazy"),ra=Symbol.iterator;function cm(t){return t===null||typeof t!="object"?null:(t=ra&&t[ra]||t["@@iterator"],typeof t=="function"?t:null)}var Qc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Xc=Object.assign,Zc={};function Fn(t,e,n){this.props=t,this.context=e,this.refs=Zc,this.updater=n||Qc}Fn.prototype.isReactComponent={};Fn.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Fn.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function bc(){}bc.prototype=Fn.prototype;function tl(t,e,n){this.props=t,this.context=e,this.refs=Zc,this.updater=n||Qc}var nl=tl.prototype=new bc;nl.constructor=tl;Xc(nl,Fn.prototype);nl.isPureReactComponent=!0;var sa=Array.isArray,jc=Object.prototype.hasOwnProperty,ol={current:null},ed={key:!0,ref:!0,__self:!0,__source:!0};function td(t,e,n){var o,i={},r=null,l=null;if(e!=null)for(o in e.ref!==void 0&&(l=e.ref),e.key!==void 0&&(r=""+e.key),e)jc.call(e,o)&&!ed.hasOwnProperty(o)&&(i[o]=e[o]);var u=arguments.length-2;if(u===1)i.children=n;else if(1<u){for(var c=Array(u),d=0;d<u;d++)c[d]=arguments[d+2];i.children=c}if(t&&t.defaultProps)for(o in u=t.defaultProps,u)i[o]===void 0&&(i[o]=u[o]);return{$$typeof:xo,type:t,key:r,ref:l,props:i,_owner:ol.current}}function dm(t,e){return{$$typeof:xo,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function il(t){return typeof t=="object"&&t!==null&&t.$$typeof===xo}function fm(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var la=/\/+/g;function _r(t,e){return typeof t=="object"&&t!==null&&t.key!=null?fm(""+t.key):e.toString(36)}function si(t,e,n,o,i){var r=typeof t;(r==="undefined"||r==="boolean")&&(t=null);var l=!1;if(t===null)l=!0;else switch(r){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case xo:case em:l=!0}}if(l)return l=t,i=i(l),t=o===""?"."+_r(l,0):o,sa(i)?(n="",t!=null&&(n=t.replace(la,"$&/")+"/"),si(i,e,n,"",function(d){return d})):i!=null&&(il(i)&&(i=dm(i,n+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(la,"$&/")+"/")+t)),e.push(i)),1;if(l=0,o=o===""?".":o+":",sa(t))for(var u=0;u<t.length;u++){r=t[u];var c=o+_r(r,u);l+=si(r,e,n,c,i)}else if(c=cm(t),typeof c=="function")for(t=c.call(t),u=0;!(r=t.next()).done;)r=r.value,c=o+_r(r,u++),l+=si(r,e,n,c,i);else if(r==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return l}function Go(t,e,n){if(t==null)return t;var o=[],i=0;return si(t,o,"","",function(r){return e.call(n,r,i++)}),o}function pm(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ye={current:null},li={transition:null},mm={ReactCurrentDispatcher:ye,ReactCurrentBatchConfig:li,ReactCurrentOwner:ol};function nd(){throw Error("act(...) is not supported in production builds of React.")}V.Children={map:Go,forEach:function(t,e,n){Go(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Go(t,function(){e++}),e},toArray:function(t){return Go(t,function(e){return e})||[]},only:function(t){if(!il(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};V.Component=Fn;V.Fragment=tm;V.Profiler=om;V.PureComponent=tl;V.StrictMode=nm;V.Suspense=lm;V.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mm;V.act=nd;V.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var o=Xc({},t.props),i=t.key,r=t.ref,l=t._owner;if(e!=null){if(e.ref!==void 0&&(r=e.ref,l=ol.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var u=t.type.defaultProps;for(c in e)jc.call(e,c)&&!ed.hasOwnProperty(c)&&(o[c]=e[c]===void 0&&u!==void 0?u[c]:e[c])}var c=arguments.length-2;if(c===1)o.children=n;else if(1<c){u=Array(c);for(var d=0;d<c;d++)u[d]=arguments[d+2];o.children=u}return{$$typeof:xo,type:t.type,key:i,ref:r,props:o,_owner:l}};V.createContext=function(t){return t={$$typeof:rm,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:im,_context:t},t.Consumer=t};V.createElement=td;V.createFactory=function(t){var e=td.bind(null,t);return e.type=t,e};V.createRef=function(){return{current:null}};V.forwardRef=function(t){return{$$typeof:sm,render:t}};V.isValidElement=il;V.lazy=function(t){return{$$typeof:um,_payload:{_status:-1,_result:t},_init:pm}};V.memo=function(t,e){return{$$typeof:am,type:t,compare:e===void 0?null:e}};V.startTransition=function(t){var e=li.transition;li.transition={};try{t()}finally{li.transition=e}};V.unstable_act=nd;V.useCallback=function(t,e){return ye.current.useCallback(t,e)};V.useContext=function(t){return ye.current.useContext(t)};V.useDebugValue=function(){};V.useDeferredValue=function(t){return ye.current.useDeferredValue(t)};V.useEffect=function(t,e){return ye.current.useEffect(t,e)};V.useId=function(){return ye.current.useId()};V.useImperativeHandle=function(t,e,n){return ye.current.useImperativeHandle(t,e,n)};V.useInsertionEffect=function(t,e){return ye.current.useInsertionEffect(t,e)};V.useLayoutEffect=function(t,e){return ye.current.useLayoutEffect(t,e)};V.useMemo=function(t,e){return ye.current.useMemo(t,e)};V.useReducer=function(t,e,n){return ye.current.useReducer(t,e,n)};V.useRef=function(t){return ye.current.useRef(t)};V.useState=function(t){return ye.current.useState(t)};V.useSyncExternalStore=function(t,e,n){return ye.current.useSyncExternalStore(t,e,n)};V.useTransition=function(){return ye.current.useTransition()};V.version="18.3.1";Yc.exports=V;var Tt=Yc.exports;const hm=jp(Tt);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gm=Tt,vm=Symbol.for("react.element"),ym=Symbol.for("react.fragment"),Em=Object.prototype.hasOwnProperty,_m=gm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Tm={key:!0,ref:!0,__self:!0,__source:!0};function od(t,e,n){var o,i={},r=null,l=null;n!==void 0&&(r=""+n),e.key!==void 0&&(r=""+e.key),e.ref!==void 0&&(l=e.ref);for(o in e)Em.call(e,o)&&!Tm.hasOwnProperty(o)&&(i[o]=e[o]);if(t&&t.defaultProps)for(o in e=t.defaultProps,e)i[o]===void 0&&(i[o]=e[o]);return{$$typeof:vm,type:t,key:r,ref:l,props:i,_owner:_m.current}}Xi.Fragment=ym;Xi.jsx=od;Xi.jsxs=od;Kc.exports=Xi;var R=Kc.exports,Yr={},id={exports:{}},ke={},rd={exports:{}},sd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(D,U){var F=D.length;D.push(U);e:for(;0<F;){var Z=F-1>>>1,ne=D[Z];if(0<i(ne,U))D[Z]=U,D[F]=ne,F=Z;else break e}}function n(D){return D.length===0?null:D[0]}function o(D){if(D.length===0)return null;var U=D[0],F=D.pop();if(F!==U){D[0]=F;e:for(var Z=0,ne=D.length,Fo=ne>>>1;Z<Fo;){var Bt=2*(Z+1)-1,Er=D[Bt],qt=Bt+1,Vo=D[qt];if(0>i(Er,F))qt<ne&&0>i(Vo,Er)?(D[Z]=Vo,D[qt]=F,Z=qt):(D[Z]=Er,D[Bt]=F,Z=Bt);else if(qt<ne&&0>i(Vo,F))D[Z]=Vo,D[qt]=F,Z=qt;else break e}}return U}function i(D,U){var F=D.sortIndex-U.sortIndex;return F!==0?F:D.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var r=performance;t.unstable_now=function(){return r.now()}}else{var l=Date,u=l.now();t.unstable_now=function(){return l.now()-u}}var c=[],d=[],f=1,m=null,p=3,h=!1,E=!1,_=!1,T=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(D){for(var U=n(d);U!==null;){if(U.callback===null)o(d);else if(U.startTime<=D)o(d),U.sortIndex=U.expirationTime,e(c,U);else break;U=n(d)}}function S(D){if(_=!1,y(D),!E)if(n(c)!==null)E=!0,Re(C);else{var U=n(d);U!==null&&Ht(S,U.startTime-D)}}function C(D,U){E=!1,_&&(_=!1,v(N),N=-1),h=!0;var F=p;try{for(y(U),m=n(c);m!==null&&(!(m.expirationTime>U)||D&&!B());){var Z=m.callback;if(typeof Z=="function"){m.callback=null,p=m.priorityLevel;var ne=Z(m.expirationTime<=U);U=t.unstable_now(),typeof ne=="function"?m.callback=ne:m===n(c)&&o(c),y(U)}else o(c);m=n(c)}if(m!==null)var Fo=!0;else{var Bt=n(d);Bt!==null&&Ht(S,Bt.startTime-U),Fo=!1}return Fo}finally{m=null,p=F,h=!1}}var w=!1,I=null,N=-1,x=5,k=-1;function B(){return!(t.unstable_now()-k<x)}function _e(){if(I!==null){var D=t.unstable_now();k=D;var U=!0;try{U=I(!0,D)}finally{U?z():(w=!1,I=null)}}else w=!1}var z;if(typeof g=="function")z=function(){g(_e)};else if(typeof MessageChannel<"u"){var Ae=new MessageChannel,Uo=Ae.port2;Ae.port1.onmessage=_e,z=function(){Uo.postMessage(null)}}else z=function(){T(_e,0)};function Re(D){I=D,w||(w=!0,z())}function Ht(D,U){N=T(function(){D(t.unstable_now())},U)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(D){D.callback=null},t.unstable_continueExecution=function(){E||h||(E=!0,Re(C))},t.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<D?Math.floor(1e3/D):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(D){switch(p){case 1:case 2:case 3:var U=3;break;default:U=p}var F=p;p=U;try{return D()}finally{p=F}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(D,U){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var F=p;p=D;try{return U()}finally{p=F}},t.unstable_scheduleCallback=function(D,U,F){var Z=t.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?Z+F:Z):F=Z,D){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=F+ne,D={id:f++,callback:U,priorityLevel:D,startTime:F,expirationTime:ne,sortIndex:-1},F>Z?(D.sortIndex=F,e(d,D),n(c)===null&&D===n(d)&&(_?(v(N),N=-1):_=!0,Ht(S,F-Z))):(D.sortIndex=ne,e(c,D),E||h||(E=!0,Re(C))),D},t.unstable_shouldYield=B,t.unstable_wrapCallback=function(D){var U=p;return function(){var F=p;p=U;try{return D.apply(this,arguments)}finally{p=F}}}})(sd);rd.exports=sd;var Sm=rd.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cm=Tt,Me=Sm;function A(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ld=new Set,po={};function tn(t,e){Pn(t,e),Pn(t+"Capture",e)}function Pn(t,e){for(po[t]=e,t=0;t<e.length;t++)ld.add(e[t])}var at=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Qr=Object.prototype.hasOwnProperty,Im=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,aa={},ua={};function wm(t){return Qr.call(ua,t)?!0:Qr.call(aa,t)?!1:Im.test(t)?ua[t]=!0:(aa[t]=!0,!1)}function Am(t,e,n,o){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return o?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Rm(t,e,n,o){if(e===null||typeof e>"u"||Am(t,e,n,o))return!0;if(o)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ee(t,e,n,o,i,r,l){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=o,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=r,this.removeEmptyString=l}var ae={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ae[t]=new Ee(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ae[e]=new Ee(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ae[t]=new Ee(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ae[t]=new Ee(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ae[t]=new Ee(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ae[t]=new Ee(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ae[t]=new Ee(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ae[t]=new Ee(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ae[t]=new Ee(t,5,!1,t.toLowerCase(),null,!1,!1)});var rl=/[\-:]([a-z])/g;function sl(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(rl,sl);ae[e]=new Ee(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(rl,sl);ae[e]=new Ee(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(rl,sl);ae[e]=new Ee(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ae[t]=new Ee(t,1,!1,t.toLowerCase(),null,!1,!1)});ae.xlinkHref=new Ee("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ae[t]=new Ee(t,1,!1,t.toLowerCase(),null,!0,!0)});function ll(t,e,n,o){var i=ae.hasOwnProperty(e)?ae[e]:null;(i!==null?i.type!==0:o||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Rm(e,n,i,o)&&(n=null),o||i===null?wm(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,o=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,o?t.setAttributeNS(o,e,n):t.setAttribute(e,n))))}var pt=Cm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ho=Symbol.for("react.element"),ln=Symbol.for("react.portal"),an=Symbol.for("react.fragment"),al=Symbol.for("react.strict_mode"),Xr=Symbol.for("react.profiler"),ad=Symbol.for("react.provider"),ud=Symbol.for("react.context"),ul=Symbol.for("react.forward_ref"),Zr=Symbol.for("react.suspense"),br=Symbol.for("react.suspense_list"),cl=Symbol.for("react.memo"),vt=Symbol.for("react.lazy"),cd=Symbol.for("react.offscreen"),ca=Symbol.iterator;function zn(t){return t===null||typeof t!="object"?null:(t=ca&&t[ca]||t["@@iterator"],typeof t=="function"?t:null)}var Q=Object.assign,Tr;function bn(t){if(Tr===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Tr=e&&e[1]||""}return`
`+Tr+t}var Sr=!1;function Cr(t,e){if(!t||Sr)return"";Sr=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var o=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){o=d}t.call(e.prototype)}else{try{throw Error()}catch(d){o=d}t()}}catch(d){if(d&&o&&typeof d.stack=="string"){for(var i=d.stack.split(`
`),r=o.stack.split(`
`),l=i.length-1,u=r.length-1;1<=l&&0<=u&&i[l]!==r[u];)u--;for(;1<=l&&0<=u;l--,u--)if(i[l]!==r[u]){if(l!==1||u!==1)do if(l--,u--,0>u||i[l]!==r[u]){var c=`
`+i[l].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=l&&0<=u);break}}}finally{Sr=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?bn(t):""}function Nm(t){switch(t.tag){case 5:return bn(t.type);case 16:return bn("Lazy");case 13:return bn("Suspense");case 19:return bn("SuspenseList");case 0:case 2:case 15:return t=Cr(t.type,!1),t;case 11:return t=Cr(t.type.render,!1),t;case 1:return t=Cr(t.type,!0),t;default:return""}}function jr(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case an:return"Fragment";case ln:return"Portal";case Xr:return"Profiler";case al:return"StrictMode";case Zr:return"Suspense";case br:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case ud:return(t.displayName||"Context")+".Consumer";case ad:return(t._context.displayName||"Context")+".Provider";case ul:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case cl:return e=t.displayName||null,e!==null?e:jr(t.type)||"Memo";case vt:e=t._payload,t=t._init;try{return jr(t(e))}catch{}}return null}function Pm(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return jr(e);case 8:return e===al?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Dt(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function dd(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function xm(t){var e=dd(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),o=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,r=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(l){o=""+l,r.call(this,l)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return o},setValue:function(l){o=""+l},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Bo(t){t._valueTracker||(t._valueTracker=xm(t))}function fd(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),o="";return t&&(o=dd(t)?t.checked?"true":"false":t.value),t=o,t!==n?(e.setValue(t),!0):!1}function _i(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function es(t,e){var n=e.checked;return Q({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function da(t,e){var n=e.defaultValue==null?"":e.defaultValue,o=e.checked!=null?e.checked:e.defaultChecked;n=Dt(e.value!=null?e.value:n),t._wrapperState={initialChecked:o,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function pd(t,e){e=e.checked,e!=null&&ll(t,"checked",e,!1)}function ts(t,e){pd(t,e);var n=Dt(e.value),o=e.type;if(n!=null)o==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(o==="submit"||o==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?ns(t,e.type,n):e.hasOwnProperty("defaultValue")&&ns(t,e.type,Dt(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function fa(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var o=e.type;if(!(o!=="submit"&&o!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function ns(t,e,n){(e!=="number"||_i(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var jn=Array.isArray;function Tn(t,e,n,o){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&o&&(t[n].defaultSelected=!0)}else{for(n=""+Dt(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,o&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function os(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(A(91));return Q({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function pa(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(A(92));if(jn(n)){if(1<n.length)throw Error(A(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Dt(n)}}function md(t,e){var n=Dt(e.value),o=Dt(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),o!=null&&(t.defaultValue=""+o)}function ma(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function hd(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function is(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?hd(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var qo,gd=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,o,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,o,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(qo=qo||document.createElement("div"),qo.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=qo.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function mo(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var oo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Mm=["Webkit","ms","Moz","O"];Object.keys(oo).forEach(function(t){Mm.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),oo[e]=oo[t]})});function vd(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||oo.hasOwnProperty(t)&&oo[t]?(""+e).trim():e+"px"}function yd(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var o=n.indexOf("--")===0,i=vd(n,e[n],o);n==="float"&&(n="cssFloat"),o?t.setProperty(n,i):t[n]=i}}var km=Q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function rs(t,e){if(e){if(km[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(A(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(A(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(A(61))}if(e.style!=null&&typeof e.style!="object")throw Error(A(62))}}function ss(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ls=null;function dl(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var as=null,Sn=null,Cn=null;function ha(t){if(t=Do(t)){if(typeof as!="function")throw Error(A(280));var e=t.stateNode;e&&(e=tr(e),as(t.stateNode,t.type,e))}}function Ed(t){Sn?Cn?Cn.push(t):Cn=[t]:Sn=t}function _d(){if(Sn){var t=Sn,e=Cn;if(Cn=Sn=null,ha(t),e)for(t=0;t<e.length;t++)ha(e[t])}}function Td(t,e){return t(e)}function Sd(){}var Ir=!1;function Cd(t,e,n){if(Ir)return t(e,n);Ir=!0;try{return Td(t,e,n)}finally{Ir=!1,(Sn!==null||Cn!==null)&&(Sd(),_d())}}function ho(t,e){var n=t.stateNode;if(n===null)return null;var o=tr(n);if(o===null)return null;n=o[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(A(231,e,typeof n));return n}var us=!1;if(at)try{var $n={};Object.defineProperty($n,"passive",{get:function(){us=!0}}),window.addEventListener("test",$n,$n),window.removeEventListener("test",$n,$n)}catch{us=!1}function Dm(t,e,n,o,i,r,l,u,c){var d=Array.prototype.slice.call(arguments,3);try{e.apply(n,d)}catch(f){this.onError(f)}}var io=!1,Ti=null,Si=!1,cs=null,Lm={onError:function(t){io=!0,Ti=t}};function Um(t,e,n,o,i,r,l,u,c){io=!1,Ti=null,Dm.apply(Lm,arguments)}function Fm(t,e,n,o,i,r,l,u,c){if(Um.apply(this,arguments),io){if(io){var d=Ti;io=!1,Ti=null}else throw Error(A(198));Si||(Si=!0,cs=d)}}function nn(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Id(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function ga(t){if(nn(t)!==t)throw Error(A(188))}function Vm(t){var e=t.alternate;if(!e){if(e=nn(t),e===null)throw Error(A(188));return e!==t?null:t}for(var n=t,o=e;;){var i=n.return;if(i===null)break;var r=i.alternate;if(r===null){if(o=i.return,o!==null){n=o;continue}break}if(i.child===r.child){for(r=i.child;r;){if(r===n)return ga(i),t;if(r===o)return ga(i),e;r=r.sibling}throw Error(A(188))}if(n.return!==o.return)n=i,o=r;else{for(var l=!1,u=i.child;u;){if(u===n){l=!0,n=i,o=r;break}if(u===o){l=!0,o=i,n=r;break}u=u.sibling}if(!l){for(u=r.child;u;){if(u===n){l=!0,n=r,o=i;break}if(u===o){l=!0,o=r,n=i;break}u=u.sibling}if(!l)throw Error(A(189))}}if(n.alternate!==o)throw Error(A(190))}if(n.tag!==3)throw Error(A(188));return n.stateNode.current===n?t:e}function wd(t){return t=Vm(t),t!==null?Ad(t):null}function Ad(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Ad(t);if(e!==null)return e;t=t.sibling}return null}var Rd=Me.unstable_scheduleCallback,va=Me.unstable_cancelCallback,Gm=Me.unstable_shouldYield,Hm=Me.unstable_requestPaint,b=Me.unstable_now,Bm=Me.unstable_getCurrentPriorityLevel,fl=Me.unstable_ImmediatePriority,Nd=Me.unstable_UserBlockingPriority,Ci=Me.unstable_NormalPriority,qm=Me.unstable_LowPriority,Pd=Me.unstable_IdlePriority,Zi=null,tt=null;function zm(t){if(tt&&typeof tt.onCommitFiberRoot=="function")try{tt.onCommitFiberRoot(Zi,t,void 0,(t.current.flags&128)===128)}catch{}}var We=Math.clz32?Math.clz32:Om,$m=Math.log,Jm=Math.LN2;function Om(t){return t>>>=0,t===0?32:31-($m(t)/Jm|0)|0}var zo=64,$o=4194304;function eo(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ii(t,e){var n=t.pendingLanes;if(n===0)return 0;var o=0,i=t.suspendedLanes,r=t.pingedLanes,l=n&268435455;if(l!==0){var u=l&~i;u!==0?o=eo(u):(r&=l,r!==0&&(o=eo(r)))}else l=n&~i,l!==0?o=eo(l):r!==0&&(o=eo(r));if(o===0)return 0;if(e!==0&&e!==o&&!(e&i)&&(i=o&-o,r=e&-e,i>=r||i===16&&(r&4194240)!==0))return e;if(o&4&&(o|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=o;0<e;)n=31-We(e),i=1<<n,o|=t[n],e&=~i;return o}function Wm(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Km(t,e){for(var n=t.suspendedLanes,o=t.pingedLanes,i=t.expirationTimes,r=t.pendingLanes;0<r;){var l=31-We(r),u=1<<l,c=i[l];c===-1?(!(u&n)||u&o)&&(i[l]=Wm(u,e)):c<=e&&(t.expiredLanes|=u),r&=~u}}function ds(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function xd(){var t=zo;return zo<<=1,!(zo&4194240)&&(zo=64),t}function wr(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Mo(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-We(e),t[e]=n}function Ym(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var o=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-We(n),r=1<<i;e[i]=0,o[i]=-1,t[i]=-1,n&=~r}}function pl(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var o=31-We(n),i=1<<o;i&e|t[o]&e&&(t[o]|=e),n&=~i}}var q=0;function Md(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var kd,ml,Dd,Ld,Ud,fs=!1,Jo=[],wt=null,At=null,Rt=null,go=new Map,vo=new Map,Et=[],Qm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ya(t,e){switch(t){case"focusin":case"focusout":wt=null;break;case"dragenter":case"dragleave":At=null;break;case"mouseover":case"mouseout":Rt=null;break;case"pointerover":case"pointerout":go.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":vo.delete(e.pointerId)}}function Jn(t,e,n,o,i,r){return t===null||t.nativeEvent!==r?(t={blockedOn:e,domEventName:n,eventSystemFlags:o,nativeEvent:r,targetContainers:[i]},e!==null&&(e=Do(e),e!==null&&ml(e)),t):(t.eventSystemFlags|=o,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Xm(t,e,n,o,i){switch(e){case"focusin":return wt=Jn(wt,t,e,n,o,i),!0;case"dragenter":return At=Jn(At,t,e,n,o,i),!0;case"mouseover":return Rt=Jn(Rt,t,e,n,o,i),!0;case"pointerover":var r=i.pointerId;return go.set(r,Jn(go.get(r)||null,t,e,n,o,i)),!0;case"gotpointercapture":return r=i.pointerId,vo.set(r,Jn(vo.get(r)||null,t,e,n,o,i)),!0}return!1}function Fd(t){var e=Ot(t.target);if(e!==null){var n=nn(e);if(n!==null){if(e=n.tag,e===13){if(e=Id(n),e!==null){t.blockedOn=e,Ud(t.priority,function(){Dd(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ai(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=ps(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var o=new n.constructor(n.type,n);ls=o,n.target.dispatchEvent(o),ls=null}else return e=Do(n),e!==null&&ml(e),t.blockedOn=n,!1;e.shift()}return!0}function Ea(t,e,n){ai(t)&&n.delete(e)}function Zm(){fs=!1,wt!==null&&ai(wt)&&(wt=null),At!==null&&ai(At)&&(At=null),Rt!==null&&ai(Rt)&&(Rt=null),go.forEach(Ea),vo.forEach(Ea)}function On(t,e){t.blockedOn===e&&(t.blockedOn=null,fs||(fs=!0,Me.unstable_scheduleCallback(Me.unstable_NormalPriority,Zm)))}function yo(t){function e(i){return On(i,t)}if(0<Jo.length){On(Jo[0],t);for(var n=1;n<Jo.length;n++){var o=Jo[n];o.blockedOn===t&&(o.blockedOn=null)}}for(wt!==null&&On(wt,t),At!==null&&On(At,t),Rt!==null&&On(Rt,t),go.forEach(e),vo.forEach(e),n=0;n<Et.length;n++)o=Et[n],o.blockedOn===t&&(o.blockedOn=null);for(;0<Et.length&&(n=Et[0],n.blockedOn===null);)Fd(n),n.blockedOn===null&&Et.shift()}var In=pt.ReactCurrentBatchConfig,wi=!0;function bm(t,e,n,o){var i=q,r=In.transition;In.transition=null;try{q=1,hl(t,e,n,o)}finally{q=i,In.transition=r}}function jm(t,e,n,o){var i=q,r=In.transition;In.transition=null;try{q=4,hl(t,e,n,o)}finally{q=i,In.transition=r}}function hl(t,e,n,o){if(wi){var i=ps(t,e,n,o);if(i===null)Ur(t,e,o,Ai,n),ya(t,o);else if(Xm(i,t,e,n,o))o.stopPropagation();else if(ya(t,o),e&4&&-1<Qm.indexOf(t)){for(;i!==null;){var r=Do(i);if(r!==null&&kd(r),r=ps(t,e,n,o),r===null&&Ur(t,e,o,Ai,n),r===i)break;i=r}i!==null&&o.stopPropagation()}else Ur(t,e,o,null,n)}}var Ai=null;function ps(t,e,n,o){if(Ai=null,t=dl(o),t=Ot(t),t!==null)if(e=nn(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Id(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ai=t,null}function Vd(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Bm()){case fl:return 1;case Nd:return 4;case Ci:case qm:return 16;case Pd:return 536870912;default:return 16}default:return 16}}var St=null,gl=null,ui=null;function Gd(){if(ui)return ui;var t,e=gl,n=e.length,o,i="value"in St?St.value:St.textContent,r=i.length;for(t=0;t<n&&e[t]===i[t];t++);var l=n-t;for(o=1;o<=l&&e[n-o]===i[r-o];o++);return ui=i.slice(t,1<o?1-o:void 0)}function ci(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Oo(){return!0}function _a(){return!1}function De(t){function e(n,o,i,r,l){this._reactName=n,this._targetInst=i,this.type=o,this.nativeEvent=r,this.target=l,this.currentTarget=null;for(var u in t)t.hasOwnProperty(u)&&(n=t[u],this[u]=n?n(r):r[u]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?Oo:_a,this.isPropagationStopped=_a,this}return Q(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Oo)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Oo)},persist:function(){},isPersistent:Oo}),e}var Vn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vl=De(Vn),ko=Q({},Vn,{view:0,detail:0}),eh=De(ko),Ar,Rr,Wn,bi=Q({},ko,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yl,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Wn&&(Wn&&t.type==="mousemove"?(Ar=t.screenX-Wn.screenX,Rr=t.screenY-Wn.screenY):Rr=Ar=0,Wn=t),Ar)},movementY:function(t){return"movementY"in t?t.movementY:Rr}}),Ta=De(bi),th=Q({},bi,{dataTransfer:0}),nh=De(th),oh=Q({},ko,{relatedTarget:0}),Nr=De(oh),ih=Q({},Vn,{animationName:0,elapsedTime:0,pseudoElement:0}),rh=De(ih),sh=Q({},Vn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),lh=De(sh),ah=Q({},Vn,{data:0}),Sa=De(ah),uh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ch={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fh(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=dh[t])?!!e[t]:!1}function yl(){return fh}var ph=Q({},ko,{key:function(t){if(t.key){var e=uh[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ci(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ch[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yl,charCode:function(t){return t.type==="keypress"?ci(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ci(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),mh=De(ph),hh=Q({},bi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ca=De(hh),gh=Q({},ko,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yl}),vh=De(gh),yh=Q({},Vn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Eh=De(yh),_h=Q({},bi,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Th=De(_h),Sh=[9,13,27,32],El=at&&"CompositionEvent"in window,ro=null;at&&"documentMode"in document&&(ro=document.documentMode);var Ch=at&&"TextEvent"in window&&!ro,Hd=at&&(!El||ro&&8<ro&&11>=ro),Ia=" ",wa=!1;function Bd(t,e){switch(t){case"keyup":return Sh.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qd(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var un=!1;function Ih(t,e){switch(t){case"compositionend":return qd(e);case"keypress":return e.which!==32?null:(wa=!0,Ia);case"textInput":return t=e.data,t===Ia&&wa?null:t;default:return null}}function wh(t,e){if(un)return t==="compositionend"||!El&&Bd(t,e)?(t=Gd(),ui=gl=St=null,un=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Hd&&e.locale!=="ko"?null:e.data;default:return null}}var Ah={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Aa(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Ah[t.type]:e==="textarea"}function zd(t,e,n,o){Ed(o),e=Ri(e,"onChange"),0<e.length&&(n=new vl("onChange","change",null,n,o),t.push({event:n,listeners:e}))}var so=null,Eo=null;function Rh(t){jd(t,0)}function ji(t){var e=fn(t);if(fd(e))return t}function Nh(t,e){if(t==="change")return e}var $d=!1;if(at){var Pr;if(at){var xr="oninput"in document;if(!xr){var Ra=document.createElement("div");Ra.setAttribute("oninput","return;"),xr=typeof Ra.oninput=="function"}Pr=xr}else Pr=!1;$d=Pr&&(!document.documentMode||9<document.documentMode)}function Na(){so&&(so.detachEvent("onpropertychange",Jd),Eo=so=null)}function Jd(t){if(t.propertyName==="value"&&ji(Eo)){var e=[];zd(e,Eo,t,dl(t)),Cd(Rh,e)}}function Ph(t,e,n){t==="focusin"?(Na(),so=e,Eo=n,so.attachEvent("onpropertychange",Jd)):t==="focusout"&&Na()}function xh(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ji(Eo)}function Mh(t,e){if(t==="click")return ji(e)}function kh(t,e){if(t==="input"||t==="change")return ji(e)}function Dh(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Xe=typeof Object.is=="function"?Object.is:Dh;function _o(t,e){if(Xe(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),o=Object.keys(e);if(n.length!==o.length)return!1;for(o=0;o<n.length;o++){var i=n[o];if(!Qr.call(e,i)||!Xe(t[i],e[i]))return!1}return!0}function Pa(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function xa(t,e){var n=Pa(t);t=0;for(var o;n;){if(n.nodeType===3){if(o=t+n.textContent.length,t<=e&&o>=e)return{node:n,offset:e-t};t=o}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Pa(n)}}function Od(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Od(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Wd(){for(var t=window,e=_i();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=_i(t.document)}return e}function _l(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Lh(t){var e=Wd(),n=t.focusedElem,o=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Od(n.ownerDocument.documentElement,n)){if(o!==null&&_l(n)){if(e=o.start,t=o.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,r=Math.min(o.start,i);o=o.end===void 0?r:Math.min(o.end,i),!t.extend&&r>o&&(i=o,o=r,r=i),i=xa(n,r);var l=xa(n,o);i&&l&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==l.node||t.focusOffset!==l.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),r>o?(t.addRange(e),t.extend(l.node,l.offset)):(e.setEnd(l.node,l.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Uh=at&&"documentMode"in document&&11>=document.documentMode,cn=null,ms=null,lo=null,hs=!1;function Ma(t,e,n){var o=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;hs||cn==null||cn!==_i(o)||(o=cn,"selectionStart"in o&&_l(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),lo&&_o(lo,o)||(lo=o,o=Ri(ms,"onSelect"),0<o.length&&(e=new vl("onSelect","select",null,e,n),t.push({event:e,listeners:o}),e.target=cn)))}function Wo(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var dn={animationend:Wo("Animation","AnimationEnd"),animationiteration:Wo("Animation","AnimationIteration"),animationstart:Wo("Animation","AnimationStart"),transitionend:Wo("Transition","TransitionEnd")},Mr={},Kd={};at&&(Kd=document.createElement("div").style,"AnimationEvent"in window||(delete dn.animationend.animation,delete dn.animationiteration.animation,delete dn.animationstart.animation),"TransitionEvent"in window||delete dn.transitionend.transition);function er(t){if(Mr[t])return Mr[t];if(!dn[t])return t;var e=dn[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Kd)return Mr[t]=e[n];return t}var Yd=er("animationend"),Qd=er("animationiteration"),Xd=er("animationstart"),Zd=er("transitionend"),bd=new Map,ka="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ut(t,e){bd.set(t,e),tn(e,[t])}for(var kr=0;kr<ka.length;kr++){var Dr=ka[kr],Fh=Dr.toLowerCase(),Vh=Dr[0].toUpperCase()+Dr.slice(1);Ut(Fh,"on"+Vh)}Ut(Yd,"onAnimationEnd");Ut(Qd,"onAnimationIteration");Ut(Xd,"onAnimationStart");Ut("dblclick","onDoubleClick");Ut("focusin","onFocus");Ut("focusout","onBlur");Ut(Zd,"onTransitionEnd");Pn("onMouseEnter",["mouseout","mouseover"]);Pn("onMouseLeave",["mouseout","mouseover"]);Pn("onPointerEnter",["pointerout","pointerover"]);Pn("onPointerLeave",["pointerout","pointerover"]);tn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));tn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));tn("onBeforeInput",["compositionend","keypress","textInput","paste"]);tn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));tn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));tn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var to="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Gh=new Set("cancel close invalid load scroll toggle".split(" ").concat(to));function Da(t,e,n){var o=t.type||"unknown-event";t.currentTarget=n,Fm(o,e,void 0,t),t.currentTarget=null}function jd(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var o=t[n],i=o.event;o=o.listeners;e:{var r=void 0;if(e)for(var l=o.length-1;0<=l;l--){var u=o[l],c=u.instance,d=u.currentTarget;if(u=u.listener,c!==r&&i.isPropagationStopped())break e;Da(i,u,d),r=c}else for(l=0;l<o.length;l++){if(u=o[l],c=u.instance,d=u.currentTarget,u=u.listener,c!==r&&i.isPropagationStopped())break e;Da(i,u,d),r=c}}}if(Si)throw t=cs,Si=!1,cs=null,t}function J(t,e){var n=e[_s];n===void 0&&(n=e[_s]=new Set);var o=t+"__bubble";n.has(o)||(ef(e,t,2,!1),n.add(o))}function Lr(t,e,n){var o=0;e&&(o|=4),ef(n,t,o,e)}var Ko="_reactListening"+Math.random().toString(36).slice(2);function To(t){if(!t[Ko]){t[Ko]=!0,ld.forEach(function(n){n!=="selectionchange"&&(Gh.has(n)||Lr(n,!1,t),Lr(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ko]||(e[Ko]=!0,Lr("selectionchange",!1,e))}}function ef(t,e,n,o){switch(Vd(e)){case 1:var i=bm;break;case 4:i=jm;break;default:i=hl}n=i.bind(null,e,n,t),i=void 0,!us||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),o?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Ur(t,e,n,o,i){var r=o;if(!(e&1)&&!(e&2)&&o!==null)e:for(;;){if(o===null)return;var l=o.tag;if(l===3||l===4){var u=o.stateNode.containerInfo;if(u===i||u.nodeType===8&&u.parentNode===i)break;if(l===4)for(l=o.return;l!==null;){var c=l.tag;if((c===3||c===4)&&(c=l.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;l=l.return}for(;u!==null;){if(l=Ot(u),l===null)return;if(c=l.tag,c===5||c===6){o=r=l;continue e}u=u.parentNode}}o=o.return}Cd(function(){var d=r,f=dl(n),m=[];e:{var p=bd.get(t);if(p!==void 0){var h=vl,E=t;switch(t){case"keypress":if(ci(n)===0)break e;case"keydown":case"keyup":h=mh;break;case"focusin":E="focus",h=Nr;break;case"focusout":E="blur",h=Nr;break;case"beforeblur":case"afterblur":h=Nr;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=Ta;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=nh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=vh;break;case Yd:case Qd:case Xd:h=rh;break;case Zd:h=Eh;break;case"scroll":h=eh;break;case"wheel":h=Th;break;case"copy":case"cut":case"paste":h=lh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=Ca}var _=(e&4)!==0,T=!_&&t==="scroll",v=_?p!==null?p+"Capture":null:p;_=[];for(var g=d,y;g!==null;){y=g;var S=y.stateNode;if(y.tag===5&&S!==null&&(y=S,v!==null&&(S=ho(g,v),S!=null&&_.push(So(g,S,y)))),T)break;g=g.return}0<_.length&&(p=new h(p,E,null,n,f),m.push({event:p,listeners:_}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",h=t==="mouseout"||t==="pointerout",p&&n!==ls&&(E=n.relatedTarget||n.fromElement)&&(Ot(E)||E[ut]))break e;if((h||p)&&(p=f.window===f?f:(p=f.ownerDocument)?p.defaultView||p.parentWindow:window,h?(E=n.relatedTarget||n.toElement,h=d,E=E?Ot(E):null,E!==null&&(T=nn(E),E!==T||E.tag!==5&&E.tag!==6)&&(E=null)):(h=null,E=d),h!==E)){if(_=Ta,S="onMouseLeave",v="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(_=Ca,S="onPointerLeave",v="onPointerEnter",g="pointer"),T=h==null?p:fn(h),y=E==null?p:fn(E),p=new _(S,g+"leave",h,n,f),p.target=T,p.relatedTarget=y,S=null,Ot(f)===d&&(_=new _(v,g+"enter",E,n,f),_.target=y,_.relatedTarget=T,S=_),T=S,h&&E)t:{for(_=h,v=E,g=0,y=_;y;y=rn(y))g++;for(y=0,S=v;S;S=rn(S))y++;for(;0<g-y;)_=rn(_),g--;for(;0<y-g;)v=rn(v),y--;for(;g--;){if(_===v||v!==null&&_===v.alternate)break t;_=rn(_),v=rn(v)}_=null}else _=null;h!==null&&La(m,p,h,_,!1),E!==null&&T!==null&&La(m,T,E,_,!0)}}e:{if(p=d?fn(d):window,h=p.nodeName&&p.nodeName.toLowerCase(),h==="select"||h==="input"&&p.type==="file")var C=Nh;else if(Aa(p))if($d)C=kh;else{C=xh;var w=Ph}else(h=p.nodeName)&&h.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(C=Mh);if(C&&(C=C(t,d))){zd(m,C,n,f);break e}w&&w(t,p,d),t==="focusout"&&(w=p._wrapperState)&&w.controlled&&p.type==="number"&&ns(p,"number",p.value)}switch(w=d?fn(d):window,t){case"focusin":(Aa(w)||w.contentEditable==="true")&&(cn=w,ms=d,lo=null);break;case"focusout":lo=ms=cn=null;break;case"mousedown":hs=!0;break;case"contextmenu":case"mouseup":case"dragend":hs=!1,Ma(m,n,f);break;case"selectionchange":if(Uh)break;case"keydown":case"keyup":Ma(m,n,f)}var I;if(El)e:{switch(t){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else un?Bd(t,n)&&(N="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(Hd&&n.locale!=="ko"&&(un||N!=="onCompositionStart"?N==="onCompositionEnd"&&un&&(I=Gd()):(St=f,gl="value"in St?St.value:St.textContent,un=!0)),w=Ri(d,N),0<w.length&&(N=new Sa(N,t,null,n,f),m.push({event:N,listeners:w}),I?N.data=I:(I=qd(n),I!==null&&(N.data=I)))),(I=Ch?Ih(t,n):wh(t,n))&&(d=Ri(d,"onBeforeInput"),0<d.length&&(f=new Sa("onBeforeInput","beforeinput",null,n,f),m.push({event:f,listeners:d}),f.data=I))}jd(m,e)})}function So(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ri(t,e){for(var n=e+"Capture",o=[];t!==null;){var i=t,r=i.stateNode;i.tag===5&&r!==null&&(i=r,r=ho(t,n),r!=null&&o.unshift(So(t,r,i)),r=ho(t,e),r!=null&&o.push(So(t,r,i))),t=t.return}return o}function rn(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function La(t,e,n,o,i){for(var r=e._reactName,l=[];n!==null&&n!==o;){var u=n,c=u.alternate,d=u.stateNode;if(c!==null&&c===o)break;u.tag===5&&d!==null&&(u=d,i?(c=ho(n,r),c!=null&&l.unshift(So(n,c,u))):i||(c=ho(n,r),c!=null&&l.push(So(n,c,u)))),n=n.return}l.length!==0&&t.push({event:e,listeners:l})}var Hh=/\r\n?/g,Bh=/\u0000|\uFFFD/g;function Ua(t){return(typeof t=="string"?t:""+t).replace(Hh,`
`).replace(Bh,"")}function Yo(t,e,n){if(e=Ua(e),Ua(t)!==e&&n)throw Error(A(425))}function Ni(){}var gs=null,vs=null;function ys(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Es=typeof setTimeout=="function"?setTimeout:void 0,qh=typeof clearTimeout=="function"?clearTimeout:void 0,Fa=typeof Promise=="function"?Promise:void 0,zh=typeof queueMicrotask=="function"?queueMicrotask:typeof Fa<"u"?function(t){return Fa.resolve(null).then(t).catch($h)}:Es;function $h(t){setTimeout(function(){throw t})}function Fr(t,e){var n=e,o=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(o===0){t.removeChild(i),yo(e);return}o--}else n!=="$"&&n!=="$?"&&n!=="$!"||o++;n=i}while(n);yo(e)}function Nt(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Va(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Gn=Math.random().toString(36).slice(2),et="__reactFiber$"+Gn,Co="__reactProps$"+Gn,ut="__reactContainer$"+Gn,_s="__reactEvents$"+Gn,Jh="__reactListeners$"+Gn,Oh="__reactHandles$"+Gn;function Ot(t){var e=t[et];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ut]||n[et]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Va(t);t!==null;){if(n=t[et])return n;t=Va(t)}return e}t=n,n=t.parentNode}return null}function Do(t){return t=t[et]||t[ut],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function fn(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(A(33))}function tr(t){return t[Co]||null}var Ts=[],pn=-1;function Ft(t){return{current:t}}function O(t){0>pn||(t.current=Ts[pn],Ts[pn]=null,pn--)}function $(t,e){pn++,Ts[pn]=t.current,t.current=e}var Lt={},pe=Ft(Lt),Ce=Ft(!1),Xt=Lt;function xn(t,e){var n=t.type.contextTypes;if(!n)return Lt;var o=t.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===e)return o.__reactInternalMemoizedMaskedChildContext;var i={},r;for(r in n)i[r]=e[r];return o&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Ie(t){return t=t.childContextTypes,t!=null}function Pi(){O(Ce),O(pe)}function Ga(t,e,n){if(pe.current!==Lt)throw Error(A(168));$(pe,e),$(Ce,n)}function tf(t,e,n){var o=t.stateNode;if(e=e.childContextTypes,typeof o.getChildContext!="function")return n;o=o.getChildContext();for(var i in o)if(!(i in e))throw Error(A(108,Pm(t)||"Unknown",i));return Q({},n,o)}function xi(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Lt,Xt=pe.current,$(pe,t),$(Ce,Ce.current),!0}function Ha(t,e,n){var o=t.stateNode;if(!o)throw Error(A(169));n?(t=tf(t,e,Xt),o.__reactInternalMemoizedMergedChildContext=t,O(Ce),O(pe),$(pe,t)):O(Ce),$(Ce,n)}var it=null,nr=!1,Vr=!1;function nf(t){it===null?it=[t]:it.push(t)}function Wh(t){nr=!0,nf(t)}function Vt(){if(!Vr&&it!==null){Vr=!0;var t=0,e=q;try{var n=it;for(q=1;t<n.length;t++){var o=n[t];do o=o(!0);while(o!==null)}it=null,nr=!1}catch(i){throw it!==null&&(it=it.slice(t+1)),Rd(fl,Vt),i}finally{q=e,Vr=!1}}return null}var mn=[],hn=0,Mi=null,ki=0,Le=[],Ue=0,Zt=null,rt=1,st="";function zt(t,e){mn[hn++]=ki,mn[hn++]=Mi,Mi=t,ki=e}function of(t,e,n){Le[Ue++]=rt,Le[Ue++]=st,Le[Ue++]=Zt,Zt=t;var o=rt;t=st;var i=32-We(o)-1;o&=~(1<<i),n+=1;var r=32-We(e)+i;if(30<r){var l=i-i%5;r=(o&(1<<l)-1).toString(32),o>>=l,i-=l,rt=1<<32-We(e)+i|n<<i|o,st=r+t}else rt=1<<r|n<<i|o,st=t}function Tl(t){t.return!==null&&(zt(t,1),of(t,1,0))}function Sl(t){for(;t===Mi;)Mi=mn[--hn],mn[hn]=null,ki=mn[--hn],mn[hn]=null;for(;t===Zt;)Zt=Le[--Ue],Le[Ue]=null,st=Le[--Ue],Le[Ue]=null,rt=Le[--Ue],Le[Ue]=null}var xe=null,Pe=null,W=!1,Oe=null;function rf(t,e){var n=Fe(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Ba(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,xe=t,Pe=Nt(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,xe=t,Pe=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Zt!==null?{id:rt,overflow:st}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Fe(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,xe=t,Pe=null,!0):!1;default:return!1}}function Ss(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Cs(t){if(W){var e=Pe;if(e){var n=e;if(!Ba(t,e)){if(Ss(t))throw Error(A(418));e=Nt(n.nextSibling);var o=xe;e&&Ba(t,e)?rf(o,n):(t.flags=t.flags&-4097|2,W=!1,xe=t)}}else{if(Ss(t))throw Error(A(418));t.flags=t.flags&-4097|2,W=!1,xe=t}}}function qa(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;xe=t}function Qo(t){if(t!==xe)return!1;if(!W)return qa(t),W=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!ys(t.type,t.memoizedProps)),e&&(e=Pe)){if(Ss(t))throw sf(),Error(A(418));for(;e;)rf(t,e),e=Nt(e.nextSibling)}if(qa(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(A(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Pe=Nt(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Pe=null}}else Pe=xe?Nt(t.stateNode.nextSibling):null;return!0}function sf(){for(var t=Pe;t;)t=Nt(t.nextSibling)}function Mn(){Pe=xe=null,W=!1}function Cl(t){Oe===null?Oe=[t]:Oe.push(t)}var Kh=pt.ReactCurrentBatchConfig;function Kn(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(A(309));var o=n.stateNode}if(!o)throw Error(A(147,t));var i=o,r=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===r?e.ref:(e=function(l){var u=i.refs;l===null?delete u[r]:u[r]=l},e._stringRef=r,e)}if(typeof t!="string")throw Error(A(284));if(!n._owner)throw Error(A(290,t))}return t}function Xo(t,e){throw t=Object.prototype.toString.call(e),Error(A(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function za(t){var e=t._init;return e(t._payload)}function lf(t){function e(v,g){if(t){var y=v.deletions;y===null?(v.deletions=[g],v.flags|=16):y.push(g)}}function n(v,g){if(!t)return null;for(;g!==null;)e(v,g),g=g.sibling;return null}function o(v,g){for(v=new Map;g!==null;)g.key!==null?v.set(g.key,g):v.set(g.index,g),g=g.sibling;return v}function i(v,g){return v=kt(v,g),v.index=0,v.sibling=null,v}function r(v,g,y){return v.index=y,t?(y=v.alternate,y!==null?(y=y.index,y<g?(v.flags|=2,g):y):(v.flags|=2,g)):(v.flags|=1048576,g)}function l(v){return t&&v.alternate===null&&(v.flags|=2),v}function u(v,g,y,S){return g===null||g.tag!==6?(g=Jr(y,v.mode,S),g.return=v,g):(g=i(g,y),g.return=v,g)}function c(v,g,y,S){var C=y.type;return C===an?f(v,g,y.props.children,S,y.key):g!==null&&(g.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===vt&&za(C)===g.type)?(S=i(g,y.props),S.ref=Kn(v,g,y),S.return=v,S):(S=vi(y.type,y.key,y.props,null,v.mode,S),S.ref=Kn(v,g,y),S.return=v,S)}function d(v,g,y,S){return g===null||g.tag!==4||g.stateNode.containerInfo!==y.containerInfo||g.stateNode.implementation!==y.implementation?(g=Or(y,v.mode,S),g.return=v,g):(g=i(g,y.children||[]),g.return=v,g)}function f(v,g,y,S,C){return g===null||g.tag!==7?(g=Qt(y,v.mode,S,C),g.return=v,g):(g=i(g,y),g.return=v,g)}function m(v,g,y){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Jr(""+g,v.mode,y),g.return=v,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Ho:return y=vi(g.type,g.key,g.props,null,v.mode,y),y.ref=Kn(v,null,g),y.return=v,y;case ln:return g=Or(g,v.mode,y),g.return=v,g;case vt:var S=g._init;return m(v,S(g._payload),y)}if(jn(g)||zn(g))return g=Qt(g,v.mode,y,null),g.return=v,g;Xo(v,g)}return null}function p(v,g,y,S){var C=g!==null?g.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return C!==null?null:u(v,g,""+y,S);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Ho:return y.key===C?c(v,g,y,S):null;case ln:return y.key===C?d(v,g,y,S):null;case vt:return C=y._init,p(v,g,C(y._payload),S)}if(jn(y)||zn(y))return C!==null?null:f(v,g,y,S,null);Xo(v,y)}return null}function h(v,g,y,S,C){if(typeof S=="string"&&S!==""||typeof S=="number")return v=v.get(y)||null,u(g,v,""+S,C);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Ho:return v=v.get(S.key===null?y:S.key)||null,c(g,v,S,C);case ln:return v=v.get(S.key===null?y:S.key)||null,d(g,v,S,C);case vt:var w=S._init;return h(v,g,y,w(S._payload),C)}if(jn(S)||zn(S))return v=v.get(y)||null,f(g,v,S,C,null);Xo(g,S)}return null}function E(v,g,y,S){for(var C=null,w=null,I=g,N=g=0,x=null;I!==null&&N<y.length;N++){I.index>N?(x=I,I=null):x=I.sibling;var k=p(v,I,y[N],S);if(k===null){I===null&&(I=x);break}t&&I&&k.alternate===null&&e(v,I),g=r(k,g,N),w===null?C=k:w.sibling=k,w=k,I=x}if(N===y.length)return n(v,I),W&&zt(v,N),C;if(I===null){for(;N<y.length;N++)I=m(v,y[N],S),I!==null&&(g=r(I,g,N),w===null?C=I:w.sibling=I,w=I);return W&&zt(v,N),C}for(I=o(v,I);N<y.length;N++)x=h(I,v,N,y[N],S),x!==null&&(t&&x.alternate!==null&&I.delete(x.key===null?N:x.key),g=r(x,g,N),w===null?C=x:w.sibling=x,w=x);return t&&I.forEach(function(B){return e(v,B)}),W&&zt(v,N),C}function _(v,g,y,S){var C=zn(y);if(typeof C!="function")throw Error(A(150));if(y=C.call(y),y==null)throw Error(A(151));for(var w=C=null,I=g,N=g=0,x=null,k=y.next();I!==null&&!k.done;N++,k=y.next()){I.index>N?(x=I,I=null):x=I.sibling;var B=p(v,I,k.value,S);if(B===null){I===null&&(I=x);break}t&&I&&B.alternate===null&&e(v,I),g=r(B,g,N),w===null?C=B:w.sibling=B,w=B,I=x}if(k.done)return n(v,I),W&&zt(v,N),C;if(I===null){for(;!k.done;N++,k=y.next())k=m(v,k.value,S),k!==null&&(g=r(k,g,N),w===null?C=k:w.sibling=k,w=k);return W&&zt(v,N),C}for(I=o(v,I);!k.done;N++,k=y.next())k=h(I,v,N,k.value,S),k!==null&&(t&&k.alternate!==null&&I.delete(k.key===null?N:k.key),g=r(k,g,N),w===null?C=k:w.sibling=k,w=k);return t&&I.forEach(function(_e){return e(v,_e)}),W&&zt(v,N),C}function T(v,g,y,S){if(typeof y=="object"&&y!==null&&y.type===an&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Ho:e:{for(var C=y.key,w=g;w!==null;){if(w.key===C){if(C=y.type,C===an){if(w.tag===7){n(v,w.sibling),g=i(w,y.props.children),g.return=v,v=g;break e}}else if(w.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===vt&&za(C)===w.type){n(v,w.sibling),g=i(w,y.props),g.ref=Kn(v,w,y),g.return=v,v=g;break e}n(v,w);break}else e(v,w);w=w.sibling}y.type===an?(g=Qt(y.props.children,v.mode,S,y.key),g.return=v,v=g):(S=vi(y.type,y.key,y.props,null,v.mode,S),S.ref=Kn(v,g,y),S.return=v,v=S)}return l(v);case ln:e:{for(w=y.key;g!==null;){if(g.key===w)if(g.tag===4&&g.stateNode.containerInfo===y.containerInfo&&g.stateNode.implementation===y.implementation){n(v,g.sibling),g=i(g,y.children||[]),g.return=v,v=g;break e}else{n(v,g);break}else e(v,g);g=g.sibling}g=Or(y,v.mode,S),g.return=v,v=g}return l(v);case vt:return w=y._init,T(v,g,w(y._payload),S)}if(jn(y))return E(v,g,y,S);if(zn(y))return _(v,g,y,S);Xo(v,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,g!==null&&g.tag===6?(n(v,g.sibling),g=i(g,y),g.return=v,v=g):(n(v,g),g=Jr(y,v.mode,S),g.return=v,v=g),l(v)):n(v,g)}return T}var kn=lf(!0),af=lf(!1),Di=Ft(null),Li=null,gn=null,Il=null;function wl(){Il=gn=Li=null}function Al(t){var e=Di.current;O(Di),t._currentValue=e}function Is(t,e,n){for(;t!==null;){var o=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,o!==null&&(o.childLanes|=e)):o!==null&&(o.childLanes&e)!==e&&(o.childLanes|=e),t===n)break;t=t.return}}function wn(t,e){Li=t,Il=gn=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Se=!0),t.firstContext=null)}function He(t){var e=t._currentValue;if(Il!==t)if(t={context:t,memoizedValue:e,next:null},gn===null){if(Li===null)throw Error(A(308));gn=t,Li.dependencies={lanes:0,firstContext:t}}else gn=gn.next=t;return e}var Wt=null;function Rl(t){Wt===null?Wt=[t]:Wt.push(t)}function uf(t,e,n,o){var i=e.interleaved;return i===null?(n.next=n,Rl(e)):(n.next=i.next,i.next=n),e.interleaved=n,ct(t,o)}function ct(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var yt=!1;function Nl(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function cf(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function lt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Pt(t,e,n){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,G&2){var i=o.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),o.pending=e,ct(t,n)}return i=o.interleaved,i===null?(e.next=e,Rl(o)):(e.next=i.next,i.next=e),o.interleaved=e,ct(t,n)}function di(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var o=e.lanes;o&=t.pendingLanes,n|=o,e.lanes=n,pl(t,n)}}function $a(t,e){var n=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,n===o)){var i=null,r=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};r===null?i=r=l:r=r.next=l,n=n.next}while(n!==null);r===null?i=r=e:r=r.next=e}else i=r=e;n={baseState:o.baseState,firstBaseUpdate:i,lastBaseUpdate:r,shared:o.shared,effects:o.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Ui(t,e,n,o){var i=t.updateQueue;yt=!1;var r=i.firstBaseUpdate,l=i.lastBaseUpdate,u=i.shared.pending;if(u!==null){i.shared.pending=null;var c=u,d=c.next;c.next=null,l===null?r=d:l.next=d,l=c;var f=t.alternate;f!==null&&(f=f.updateQueue,u=f.lastBaseUpdate,u!==l&&(u===null?f.firstBaseUpdate=d:u.next=d,f.lastBaseUpdate=c))}if(r!==null){var m=i.baseState;l=0,f=d=c=null,u=r;do{var p=u.lane,h=u.eventTime;if((o&p)===p){f!==null&&(f=f.next={eventTime:h,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var E=t,_=u;switch(p=e,h=n,_.tag){case 1:if(E=_.payload,typeof E=="function"){m=E.call(h,m,p);break e}m=E;break e;case 3:E.flags=E.flags&-65537|128;case 0:if(E=_.payload,p=typeof E=="function"?E.call(h,m,p):E,p==null)break e;m=Q({},m,p);break e;case 2:yt=!0}}u.callback!==null&&u.lane!==0&&(t.flags|=64,p=i.effects,p===null?i.effects=[u]:p.push(u))}else h={eventTime:h,lane:p,tag:u.tag,payload:u.payload,callback:u.callback,next:null},f===null?(d=f=h,c=m):f=f.next=h,l|=p;if(u=u.next,u===null){if(u=i.shared.pending,u===null)break;p=u,u=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(f===null&&(c=m),i.baseState=c,i.firstBaseUpdate=d,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do l|=i.lane,i=i.next;while(i!==e)}else r===null&&(i.shared.lanes=0);jt|=l,t.lanes=l,t.memoizedState=m}}function Ja(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var o=t[e],i=o.callback;if(i!==null){if(o.callback=null,o=n,typeof i!="function")throw Error(A(191,i));i.call(o)}}}var Lo={},nt=Ft(Lo),Io=Ft(Lo),wo=Ft(Lo);function Kt(t){if(t===Lo)throw Error(A(174));return t}function Pl(t,e){switch($(wo,e),$(Io,t),$(nt,Lo),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:is(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=is(e,t)}O(nt),$(nt,e)}function Dn(){O(nt),O(Io),O(wo)}function df(t){Kt(wo.current);var e=Kt(nt.current),n=is(e,t.type);e!==n&&($(Io,t),$(nt,n))}function xl(t){Io.current===t&&(O(nt),O(Io))}var K=Ft(0);function Fi(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Gr=[];function Ml(){for(var t=0;t<Gr.length;t++)Gr[t]._workInProgressVersionPrimary=null;Gr.length=0}var fi=pt.ReactCurrentDispatcher,Hr=pt.ReactCurrentBatchConfig,bt=0,Y=null,ee=null,oe=null,Vi=!1,ao=!1,Ao=0,Yh=0;function ue(){throw Error(A(321))}function kl(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Xe(t[n],e[n]))return!1;return!0}function Dl(t,e,n,o,i,r){if(bt=r,Y=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,fi.current=t===null||t.memoizedState===null?bh:jh,t=n(o,i),ao){r=0;do{if(ao=!1,Ao=0,25<=r)throw Error(A(301));r+=1,oe=ee=null,e.updateQueue=null,fi.current=eg,t=n(o,i)}while(ao)}if(fi.current=Gi,e=ee!==null&&ee.next!==null,bt=0,oe=ee=Y=null,Vi=!1,e)throw Error(A(300));return t}function Ll(){var t=Ao!==0;return Ao=0,t}function je(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return oe===null?Y.memoizedState=oe=t:oe=oe.next=t,oe}function Be(){if(ee===null){var t=Y.alternate;t=t!==null?t.memoizedState:null}else t=ee.next;var e=oe===null?Y.memoizedState:oe.next;if(e!==null)oe=e,ee=t;else{if(t===null)throw Error(A(310));ee=t,t={memoizedState:ee.memoizedState,baseState:ee.baseState,baseQueue:ee.baseQueue,queue:ee.queue,next:null},oe===null?Y.memoizedState=oe=t:oe=oe.next=t}return oe}function Ro(t,e){return typeof e=="function"?e(t):e}function Br(t){var e=Be(),n=e.queue;if(n===null)throw Error(A(311));n.lastRenderedReducer=t;var o=ee,i=o.baseQueue,r=n.pending;if(r!==null){if(i!==null){var l=i.next;i.next=r.next,r.next=l}o.baseQueue=i=r,n.pending=null}if(i!==null){r=i.next,o=o.baseState;var u=l=null,c=null,d=r;do{var f=d.lane;if((bt&f)===f)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),o=d.hasEagerState?d.eagerState:t(o,d.action);else{var m={lane:f,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(u=c=m,l=o):c=c.next=m,Y.lanes|=f,jt|=f}d=d.next}while(d!==null&&d!==r);c===null?l=o:c.next=u,Xe(o,e.memoizedState)||(Se=!0),e.memoizedState=o,e.baseState=l,e.baseQueue=c,n.lastRenderedState=o}if(t=n.interleaved,t!==null){i=t;do r=i.lane,Y.lanes|=r,jt|=r,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function qr(t){var e=Be(),n=e.queue;if(n===null)throw Error(A(311));n.lastRenderedReducer=t;var o=n.dispatch,i=n.pending,r=e.memoizedState;if(i!==null){n.pending=null;var l=i=i.next;do r=t(r,l.action),l=l.next;while(l!==i);Xe(r,e.memoizedState)||(Se=!0),e.memoizedState=r,e.baseQueue===null&&(e.baseState=r),n.lastRenderedState=r}return[r,o]}function ff(){}function pf(t,e){var n=Y,o=Be(),i=e(),r=!Xe(o.memoizedState,i);if(r&&(o.memoizedState=i,Se=!0),o=o.queue,Ul(gf.bind(null,n,o,t),[t]),o.getSnapshot!==e||r||oe!==null&&oe.memoizedState.tag&1){if(n.flags|=2048,No(9,hf.bind(null,n,o,i,e),void 0,null),ie===null)throw Error(A(349));bt&30||mf(n,e,i)}return i}function mf(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Y.updateQueue,e===null?(e={lastEffect:null,stores:null},Y.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function hf(t,e,n,o){e.value=n,e.getSnapshot=o,vf(e)&&yf(t)}function gf(t,e,n){return n(function(){vf(e)&&yf(t)})}function vf(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Xe(t,n)}catch{return!0}}function yf(t){var e=ct(t,1);e!==null&&Ke(e,t,1,-1)}function Oa(t){var e=je();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ro,lastRenderedState:t},e.queue=t,t=t.dispatch=Zh.bind(null,Y,t),[e.memoizedState,t]}function No(t,e,n,o){return t={tag:t,create:e,destroy:n,deps:o,next:null},e=Y.updateQueue,e===null?(e={lastEffect:null,stores:null},Y.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(o=n.next,n.next=t,t.next=o,e.lastEffect=t)),t}function Ef(){return Be().memoizedState}function pi(t,e,n,o){var i=je();Y.flags|=t,i.memoizedState=No(1|e,n,void 0,o===void 0?null:o)}function or(t,e,n,o){var i=Be();o=o===void 0?null:o;var r=void 0;if(ee!==null){var l=ee.memoizedState;if(r=l.destroy,o!==null&&kl(o,l.deps)){i.memoizedState=No(e,n,r,o);return}}Y.flags|=t,i.memoizedState=No(1|e,n,r,o)}function Wa(t,e){return pi(8390656,8,t,e)}function Ul(t,e){return or(2048,8,t,e)}function _f(t,e){return or(4,2,t,e)}function Tf(t,e){return or(4,4,t,e)}function Sf(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Cf(t,e,n){return n=n!=null?n.concat([t]):null,or(4,4,Sf.bind(null,e,t),n)}function Fl(){}function If(t,e){var n=Be();e=e===void 0?null:e;var o=n.memoizedState;return o!==null&&e!==null&&kl(e,o[1])?o[0]:(n.memoizedState=[t,e],t)}function wf(t,e){var n=Be();e=e===void 0?null:e;var o=n.memoizedState;return o!==null&&e!==null&&kl(e,o[1])?o[0]:(t=t(),n.memoizedState=[t,e],t)}function Af(t,e,n){return bt&21?(Xe(n,e)||(n=xd(),Y.lanes|=n,jt|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Se=!0),t.memoizedState=n)}function Qh(t,e){var n=q;q=n!==0&&4>n?n:4,t(!0);var o=Hr.transition;Hr.transition={};try{t(!1),e()}finally{q=n,Hr.transition=o}}function Rf(){return Be().memoizedState}function Xh(t,e,n){var o=Mt(t);if(n={lane:o,action:n,hasEagerState:!1,eagerState:null,next:null},Nf(t))Pf(e,n);else if(n=uf(t,e,n,o),n!==null){var i=ge();Ke(n,t,o,i),xf(n,e,o)}}function Zh(t,e,n){var o=Mt(t),i={lane:o,action:n,hasEagerState:!1,eagerState:null,next:null};if(Nf(t))Pf(e,i);else{var r=t.alternate;if(t.lanes===0&&(r===null||r.lanes===0)&&(r=e.lastRenderedReducer,r!==null))try{var l=e.lastRenderedState,u=r(l,n);if(i.hasEagerState=!0,i.eagerState=u,Xe(u,l)){var c=e.interleaved;c===null?(i.next=i,Rl(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}n=uf(t,e,i,o),n!==null&&(i=ge(),Ke(n,t,o,i),xf(n,e,o))}}function Nf(t){var e=t.alternate;return t===Y||e!==null&&e===Y}function Pf(t,e){ao=Vi=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function xf(t,e,n){if(n&4194240){var o=e.lanes;o&=t.pendingLanes,n|=o,e.lanes=n,pl(t,n)}}var Gi={readContext:He,useCallback:ue,useContext:ue,useEffect:ue,useImperativeHandle:ue,useInsertionEffect:ue,useLayoutEffect:ue,useMemo:ue,useReducer:ue,useRef:ue,useState:ue,useDebugValue:ue,useDeferredValue:ue,useTransition:ue,useMutableSource:ue,useSyncExternalStore:ue,useId:ue,unstable_isNewReconciler:!1},bh={readContext:He,useCallback:function(t,e){return je().memoizedState=[t,e===void 0?null:e],t},useContext:He,useEffect:Wa,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,pi(4194308,4,Sf.bind(null,e,t),n)},useLayoutEffect:function(t,e){return pi(4194308,4,t,e)},useInsertionEffect:function(t,e){return pi(4,2,t,e)},useMemo:function(t,e){var n=je();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var o=je();return e=n!==void 0?n(e):e,o.memoizedState=o.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},o.queue=t,t=t.dispatch=Xh.bind(null,Y,t),[o.memoizedState,t]},useRef:function(t){var e=je();return t={current:t},e.memoizedState=t},useState:Oa,useDebugValue:Fl,useDeferredValue:function(t){return je().memoizedState=t},useTransition:function(){var t=Oa(!1),e=t[0];return t=Qh.bind(null,t[1]),je().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var o=Y,i=je();if(W){if(n===void 0)throw Error(A(407));n=n()}else{if(n=e(),ie===null)throw Error(A(349));bt&30||mf(o,e,n)}i.memoizedState=n;var r={value:n,getSnapshot:e};return i.queue=r,Wa(gf.bind(null,o,r,t),[t]),o.flags|=2048,No(9,hf.bind(null,o,r,n,e),void 0,null),n},useId:function(){var t=je(),e=ie.identifierPrefix;if(W){var n=st,o=rt;n=(o&~(1<<32-We(o)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ao++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Yh++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},jh={readContext:He,useCallback:If,useContext:He,useEffect:Ul,useImperativeHandle:Cf,useInsertionEffect:_f,useLayoutEffect:Tf,useMemo:wf,useReducer:Br,useRef:Ef,useState:function(){return Br(Ro)},useDebugValue:Fl,useDeferredValue:function(t){var e=Be();return Af(e,ee.memoizedState,t)},useTransition:function(){var t=Br(Ro)[0],e=Be().memoizedState;return[t,e]},useMutableSource:ff,useSyncExternalStore:pf,useId:Rf,unstable_isNewReconciler:!1},eg={readContext:He,useCallback:If,useContext:He,useEffect:Ul,useImperativeHandle:Cf,useInsertionEffect:_f,useLayoutEffect:Tf,useMemo:wf,useReducer:qr,useRef:Ef,useState:function(){return qr(Ro)},useDebugValue:Fl,useDeferredValue:function(t){var e=Be();return ee===null?e.memoizedState=t:Af(e,ee.memoizedState,t)},useTransition:function(){var t=qr(Ro)[0],e=Be().memoizedState;return[t,e]},useMutableSource:ff,useSyncExternalStore:pf,useId:Rf,unstable_isNewReconciler:!1};function $e(t,e){if(t&&t.defaultProps){e=Q({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function ws(t,e,n,o){e=t.memoizedState,n=n(o,e),n=n==null?e:Q({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var ir={isMounted:function(t){return(t=t._reactInternals)?nn(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var o=ge(),i=Mt(t),r=lt(o,i);r.payload=e,n!=null&&(r.callback=n),e=Pt(t,r,i),e!==null&&(Ke(e,t,i,o),di(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var o=ge(),i=Mt(t),r=lt(o,i);r.tag=1,r.payload=e,n!=null&&(r.callback=n),e=Pt(t,r,i),e!==null&&(Ke(e,t,i,o),di(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ge(),o=Mt(t),i=lt(n,o);i.tag=2,e!=null&&(i.callback=e),e=Pt(t,i,o),e!==null&&(Ke(e,t,o,n),di(e,t,o))}};function Ka(t,e,n,o,i,r,l){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,r,l):e.prototype&&e.prototype.isPureReactComponent?!_o(n,o)||!_o(i,r):!0}function Mf(t,e,n){var o=!1,i=Lt,r=e.contextType;return typeof r=="object"&&r!==null?r=He(r):(i=Ie(e)?Xt:pe.current,o=e.contextTypes,r=(o=o!=null)?xn(t,i):Lt),e=new e(n,r),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ir,t.stateNode=e,e._reactInternals=t,o&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=r),e}function Ya(t,e,n,o){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,o),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,o),e.state!==t&&ir.enqueueReplaceState(e,e.state,null)}function As(t,e,n,o){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Nl(t);var r=e.contextType;typeof r=="object"&&r!==null?i.context=He(r):(r=Ie(e)?Xt:pe.current,i.context=xn(t,r)),i.state=t.memoizedState,r=e.getDerivedStateFromProps,typeof r=="function"&&(ws(t,e,r,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&ir.enqueueReplaceState(i,i.state,null),Ui(t,n,i,o),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Ln(t,e){try{var n="",o=e;do n+=Nm(o),o=o.return;while(o);var i=n}catch(r){i=`
Error generating stack: `+r.message+`
`+r.stack}return{value:t,source:e,stack:i,digest:null}}function zr(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Rs(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var tg=typeof WeakMap=="function"?WeakMap:Map;function kf(t,e,n){n=lt(-1,n),n.tag=3,n.payload={element:null};var o=e.value;return n.callback=function(){Bi||(Bi=!0,Vs=o),Rs(t,e)},n}function Df(t,e,n){n=lt(-1,n),n.tag=3;var o=t.type.getDerivedStateFromError;if(typeof o=="function"){var i=e.value;n.payload=function(){return o(i)},n.callback=function(){Rs(t,e)}}var r=t.stateNode;return r!==null&&typeof r.componentDidCatch=="function"&&(n.callback=function(){Rs(t,e),typeof o!="function"&&(xt===null?xt=new Set([this]):xt.add(this));var l=e.stack;this.componentDidCatch(e.value,{componentStack:l!==null?l:""})}),n}function Qa(t,e,n){var o=t.pingCache;if(o===null){o=t.pingCache=new tg;var i=new Set;o.set(e,i)}else i=o.get(e),i===void 0&&(i=new Set,o.set(e,i));i.has(n)||(i.add(n),t=hg.bind(null,t,e,n),e.then(t,t))}function Xa(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Za(t,e,n,o,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=lt(-1,1),e.tag=2,Pt(n,e,1))),n.lanes|=1),t)}var ng=pt.ReactCurrentOwner,Se=!1;function he(t,e,n,o){e.child=t===null?af(e,null,n,o):kn(e,t.child,n,o)}function ba(t,e,n,o,i){n=n.render;var r=e.ref;return wn(e,i),o=Dl(t,e,n,o,r,i),n=Ll(),t!==null&&!Se?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,dt(t,e,i)):(W&&n&&Tl(e),e.flags|=1,he(t,e,o,i),e.child)}function ja(t,e,n,o,i){if(t===null){var r=n.type;return typeof r=="function"&&!Jl(r)&&r.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=r,Lf(t,e,r,o,i)):(t=vi(n.type,null,o,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(r=t.child,!(t.lanes&i)){var l=r.memoizedProps;if(n=n.compare,n=n!==null?n:_o,n(l,o)&&t.ref===e.ref)return dt(t,e,i)}return e.flags|=1,t=kt(r,o),t.ref=e.ref,t.return=e,e.child=t}function Lf(t,e,n,o,i){if(t!==null){var r=t.memoizedProps;if(_o(r,o)&&t.ref===e.ref)if(Se=!1,e.pendingProps=o=r,(t.lanes&i)!==0)t.flags&131072&&(Se=!0);else return e.lanes=t.lanes,dt(t,e,i)}return Ns(t,e,n,o,i)}function Uf(t,e,n){var o=e.pendingProps,i=o.children,r=t!==null?t.memoizedState:null;if(o.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},$(yn,Ne),Ne|=n;else{if(!(n&1073741824))return t=r!==null?r.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,$(yn,Ne),Ne|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=r!==null?r.baseLanes:n,$(yn,Ne),Ne|=o}else r!==null?(o=r.baseLanes|n,e.memoizedState=null):o=n,$(yn,Ne),Ne|=o;return he(t,e,i,n),e.child}function Ff(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Ns(t,e,n,o,i){var r=Ie(n)?Xt:pe.current;return r=xn(e,r),wn(e,i),n=Dl(t,e,n,o,r,i),o=Ll(),t!==null&&!Se?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,dt(t,e,i)):(W&&o&&Tl(e),e.flags|=1,he(t,e,n,i),e.child)}function eu(t,e,n,o,i){if(Ie(n)){var r=!0;xi(e)}else r=!1;if(wn(e,i),e.stateNode===null)mi(t,e),Mf(e,n,o),As(e,n,o,i),o=!0;else if(t===null){var l=e.stateNode,u=e.memoizedProps;l.props=u;var c=l.context,d=n.contextType;typeof d=="object"&&d!==null?d=He(d):(d=Ie(n)?Xt:pe.current,d=xn(e,d));var f=n.getDerivedStateFromProps,m=typeof f=="function"||typeof l.getSnapshotBeforeUpdate=="function";m||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(u!==o||c!==d)&&Ya(e,l,o,d),yt=!1;var p=e.memoizedState;l.state=p,Ui(e,o,l,i),c=e.memoizedState,u!==o||p!==c||Ce.current||yt?(typeof f=="function"&&(ws(e,n,f,o),c=e.memoizedState),(u=yt||Ka(e,n,u,o,p,c,d))?(m||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(e.flags|=4194308)):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=o,e.memoizedState=c),l.props=o,l.state=c,l.context=d,o=u):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),o=!1)}else{l=e.stateNode,cf(t,e),u=e.memoizedProps,d=e.type===e.elementType?u:$e(e.type,u),l.props=d,m=e.pendingProps,p=l.context,c=n.contextType,typeof c=="object"&&c!==null?c=He(c):(c=Ie(n)?Xt:pe.current,c=xn(e,c));var h=n.getDerivedStateFromProps;(f=typeof h=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(u!==m||p!==c)&&Ya(e,l,o,c),yt=!1,p=e.memoizedState,l.state=p,Ui(e,o,l,i);var E=e.memoizedState;u!==m||p!==E||Ce.current||yt?(typeof h=="function"&&(ws(e,n,h,o),E=e.memoizedState),(d=yt||Ka(e,n,d,o,p,E,c)||!1)?(f||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(o,E,c),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(o,E,c)),typeof l.componentDidUpdate=="function"&&(e.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof l.componentDidUpdate!="function"||u===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=o,e.memoizedState=E),l.props=o,l.state=E,l.context=c,o=d):(typeof l.componentDidUpdate!="function"||u===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),o=!1)}return Ps(t,e,n,o,r,i)}function Ps(t,e,n,o,i,r){Ff(t,e);var l=(e.flags&128)!==0;if(!o&&!l)return i&&Ha(e,n,!1),dt(t,e,r);o=e.stateNode,ng.current=e;var u=l&&typeof n.getDerivedStateFromError!="function"?null:o.render();return e.flags|=1,t!==null&&l?(e.child=kn(e,t.child,null,r),e.child=kn(e,null,u,r)):he(t,e,u,r),e.memoizedState=o.state,i&&Ha(e,n,!0),e.child}function Vf(t){var e=t.stateNode;e.pendingContext?Ga(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Ga(t,e.context,!1),Pl(t,e.containerInfo)}function tu(t,e,n,o,i){return Mn(),Cl(i),e.flags|=256,he(t,e,n,o),e.child}var xs={dehydrated:null,treeContext:null,retryLane:0};function Ms(t){return{baseLanes:t,cachePool:null,transitions:null}}function Gf(t,e,n){var o=e.pendingProps,i=K.current,r=!1,l=(e.flags&128)!==0,u;if((u=l)||(u=t!==null&&t.memoizedState===null?!1:(i&2)!==0),u?(r=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),$(K,i&1),t===null)return Cs(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(l=o.children,t=o.fallback,r?(o=e.mode,r=e.child,l={mode:"hidden",children:l},!(o&1)&&r!==null?(r.childLanes=0,r.pendingProps=l):r=lr(l,o,0,null),t=Qt(t,o,n,null),r.return=e,t.return=e,r.sibling=t,e.child=r,e.child.memoizedState=Ms(n),e.memoizedState=xs,t):Vl(e,l));if(i=t.memoizedState,i!==null&&(u=i.dehydrated,u!==null))return og(t,e,l,o,u,i,n);if(r){r=o.fallback,l=e.mode,i=t.child,u=i.sibling;var c={mode:"hidden",children:o.children};return!(l&1)&&e.child!==i?(o=e.child,o.childLanes=0,o.pendingProps=c,e.deletions=null):(o=kt(i,c),o.subtreeFlags=i.subtreeFlags&14680064),u!==null?r=kt(u,r):(r=Qt(r,l,n,null),r.flags|=2),r.return=e,o.return=e,o.sibling=r,e.child=o,o=r,r=e.child,l=t.child.memoizedState,l=l===null?Ms(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},r.memoizedState=l,r.childLanes=t.childLanes&~n,e.memoizedState=xs,o}return r=t.child,t=r.sibling,o=kt(r,{mode:"visible",children:o.children}),!(e.mode&1)&&(o.lanes=n),o.return=e,o.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=o,e.memoizedState=null,o}function Vl(t,e){return e=lr({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Zo(t,e,n,o){return o!==null&&Cl(o),kn(e,t.child,null,n),t=Vl(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function og(t,e,n,o,i,r,l){if(n)return e.flags&256?(e.flags&=-257,o=zr(Error(A(422))),Zo(t,e,l,o)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(r=o.fallback,i=e.mode,o=lr({mode:"visible",children:o.children},i,0,null),r=Qt(r,i,l,null),r.flags|=2,o.return=e,r.return=e,o.sibling=r,e.child=o,e.mode&1&&kn(e,t.child,null,l),e.child.memoizedState=Ms(l),e.memoizedState=xs,r);if(!(e.mode&1))return Zo(t,e,l,null);if(i.data==="$!"){if(o=i.nextSibling&&i.nextSibling.dataset,o)var u=o.dgst;return o=u,r=Error(A(419)),o=zr(r,o,void 0),Zo(t,e,l,o)}if(u=(l&t.childLanes)!==0,Se||u){if(o=ie,o!==null){switch(l&-l){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(o.suspendedLanes|l)?0:i,i!==0&&i!==r.retryLane&&(r.retryLane=i,ct(t,i),Ke(o,t,i,-1))}return $l(),o=zr(Error(A(421))),Zo(t,e,l,o)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=gg.bind(null,t),i._reactRetry=e,null):(t=r.treeContext,Pe=Nt(i.nextSibling),xe=e,W=!0,Oe=null,t!==null&&(Le[Ue++]=rt,Le[Ue++]=st,Le[Ue++]=Zt,rt=t.id,st=t.overflow,Zt=e),e=Vl(e,o.children),e.flags|=4096,e)}function nu(t,e,n){t.lanes|=e;var o=t.alternate;o!==null&&(o.lanes|=e),Is(t.return,e,n)}function $r(t,e,n,o,i){var r=t.memoizedState;r===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:o,tail:n,tailMode:i}:(r.isBackwards=e,r.rendering=null,r.renderingStartTime=0,r.last=o,r.tail=n,r.tailMode=i)}function Hf(t,e,n){var o=e.pendingProps,i=o.revealOrder,r=o.tail;if(he(t,e,o.children,n),o=K.current,o&2)o=o&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&nu(t,n,e);else if(t.tag===19)nu(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}o&=1}if($(K,o),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Fi(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),$r(e,!1,i,n,r);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Fi(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}$r(e,!0,n,null,r);break;case"together":$r(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function mi(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function dt(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),jt|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(A(153));if(e.child!==null){for(t=e.child,n=kt(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=kt(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function ig(t,e,n){switch(e.tag){case 3:Vf(e),Mn();break;case 5:df(e);break;case 1:Ie(e.type)&&xi(e);break;case 4:Pl(e,e.stateNode.containerInfo);break;case 10:var o=e.type._context,i=e.memoizedProps.value;$(Di,o._currentValue),o._currentValue=i;break;case 13:if(o=e.memoizedState,o!==null)return o.dehydrated!==null?($(K,K.current&1),e.flags|=128,null):n&e.child.childLanes?Gf(t,e,n):($(K,K.current&1),t=dt(t,e,n),t!==null?t.sibling:null);$(K,K.current&1);break;case 19:if(o=(n&e.childLanes)!==0,t.flags&128){if(o)return Hf(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),$(K,K.current),o)break;return null;case 22:case 23:return e.lanes=0,Uf(t,e,n)}return dt(t,e,n)}var Bf,ks,qf,zf;Bf=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ks=function(){};qf=function(t,e,n,o){var i=t.memoizedProps;if(i!==o){t=e.stateNode,Kt(nt.current);var r=null;switch(n){case"input":i=es(t,i),o=es(t,o),r=[];break;case"select":i=Q({},i,{value:void 0}),o=Q({},o,{value:void 0}),r=[];break;case"textarea":i=os(t,i),o=os(t,o),r=[];break;default:typeof i.onClick!="function"&&typeof o.onClick=="function"&&(t.onclick=Ni)}rs(n,o);var l;n=null;for(d in i)if(!o.hasOwnProperty(d)&&i.hasOwnProperty(d)&&i[d]!=null)if(d==="style"){var u=i[d];for(l in u)u.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(po.hasOwnProperty(d)?r||(r=[]):(r=r||[]).push(d,null));for(d in o){var c=o[d];if(u=i!=null?i[d]:void 0,o.hasOwnProperty(d)&&c!==u&&(c!=null||u!=null))if(d==="style")if(u){for(l in u)!u.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in c)c.hasOwnProperty(l)&&u[l]!==c[l]&&(n||(n={}),n[l]=c[l])}else n||(r||(r=[]),r.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,u=u?u.__html:void 0,c!=null&&u!==c&&(r=r||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(r=r||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(po.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&J("scroll",t),r||u===c||(r=[])):(r=r||[]).push(d,c))}n&&(r=r||[]).push("style",n);var d=r;(e.updateQueue=d)&&(e.flags|=4)}};zf=function(t,e,n,o){n!==o&&(e.flags|=4)};function Yn(t,e){if(!W)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var o=null;n!==null;)n.alternate!==null&&(o=n),n=n.sibling;o===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function ce(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,o=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,o|=i.subtreeFlags&14680064,o|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,o|=i.subtreeFlags,o|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=o,t.childLanes=n,e}function rg(t,e,n){var o=e.pendingProps;switch(Sl(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ce(e),null;case 1:return Ie(e.type)&&Pi(),ce(e),null;case 3:return o=e.stateNode,Dn(),O(Ce),O(pe),Ml(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(t===null||t.child===null)&&(Qo(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Oe!==null&&(Bs(Oe),Oe=null))),ks(t,e),ce(e),null;case 5:xl(e);var i=Kt(wo.current);if(n=e.type,t!==null&&e.stateNode!=null)qf(t,e,n,o,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!o){if(e.stateNode===null)throw Error(A(166));return ce(e),null}if(t=Kt(nt.current),Qo(e)){o=e.stateNode,n=e.type;var r=e.memoizedProps;switch(o[et]=e,o[Co]=r,t=(e.mode&1)!==0,n){case"dialog":J("cancel",o),J("close",o);break;case"iframe":case"object":case"embed":J("load",o);break;case"video":case"audio":for(i=0;i<to.length;i++)J(to[i],o);break;case"source":J("error",o);break;case"img":case"image":case"link":J("error",o),J("load",o);break;case"details":J("toggle",o);break;case"input":da(o,r),J("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!r.multiple},J("invalid",o);break;case"textarea":pa(o,r),J("invalid",o)}rs(n,r),i=null;for(var l in r)if(r.hasOwnProperty(l)){var u=r[l];l==="children"?typeof u=="string"?o.textContent!==u&&(r.suppressHydrationWarning!==!0&&Yo(o.textContent,u,t),i=["children",u]):typeof u=="number"&&o.textContent!==""+u&&(r.suppressHydrationWarning!==!0&&Yo(o.textContent,u,t),i=["children",""+u]):po.hasOwnProperty(l)&&u!=null&&l==="onScroll"&&J("scroll",o)}switch(n){case"input":Bo(o),fa(o,r,!0);break;case"textarea":Bo(o),ma(o);break;case"select":case"option":break;default:typeof r.onClick=="function"&&(o.onclick=Ni)}o=i,e.updateQueue=o,o!==null&&(e.flags|=4)}else{l=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=hd(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=l.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof o.is=="string"?t=l.createElement(n,{is:o.is}):(t=l.createElement(n),n==="select"&&(l=t,o.multiple?l.multiple=!0:o.size&&(l.size=o.size))):t=l.createElementNS(t,n),t[et]=e,t[Co]=o,Bf(t,e,!1,!1),e.stateNode=t;e:{switch(l=ss(n,o),n){case"dialog":J("cancel",t),J("close",t),i=o;break;case"iframe":case"object":case"embed":J("load",t),i=o;break;case"video":case"audio":for(i=0;i<to.length;i++)J(to[i],t);i=o;break;case"source":J("error",t),i=o;break;case"img":case"image":case"link":J("error",t),J("load",t),i=o;break;case"details":J("toggle",t),i=o;break;case"input":da(t,o),i=es(t,o),J("invalid",t);break;case"option":i=o;break;case"select":t._wrapperState={wasMultiple:!!o.multiple},i=Q({},o,{value:void 0}),J("invalid",t);break;case"textarea":pa(t,o),i=os(t,o),J("invalid",t);break;default:i=o}rs(n,i),u=i;for(r in u)if(u.hasOwnProperty(r)){var c=u[r];r==="style"?yd(t,c):r==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&gd(t,c)):r==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&mo(t,c):typeof c=="number"&&mo(t,""+c):r!=="suppressContentEditableWarning"&&r!=="suppressHydrationWarning"&&r!=="autoFocus"&&(po.hasOwnProperty(r)?c!=null&&r==="onScroll"&&J("scroll",t):c!=null&&ll(t,r,c,l))}switch(n){case"input":Bo(t),fa(t,o,!1);break;case"textarea":Bo(t),ma(t);break;case"option":o.value!=null&&t.setAttribute("value",""+Dt(o.value));break;case"select":t.multiple=!!o.multiple,r=o.value,r!=null?Tn(t,!!o.multiple,r,!1):o.defaultValue!=null&&Tn(t,!!o.multiple,o.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Ni)}switch(n){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ce(e),null;case 6:if(t&&e.stateNode!=null)zf(t,e,t.memoizedProps,o);else{if(typeof o!="string"&&e.stateNode===null)throw Error(A(166));if(n=Kt(wo.current),Kt(nt.current),Qo(e)){if(o=e.stateNode,n=e.memoizedProps,o[et]=e,(r=o.nodeValue!==n)&&(t=xe,t!==null))switch(t.tag){case 3:Yo(o.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Yo(o.nodeValue,n,(t.mode&1)!==0)}r&&(e.flags|=4)}else o=(n.nodeType===9?n:n.ownerDocument).createTextNode(o),o[et]=e,e.stateNode=o}return ce(e),null;case 13:if(O(K),o=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(W&&Pe!==null&&e.mode&1&&!(e.flags&128))sf(),Mn(),e.flags|=98560,r=!1;else if(r=Qo(e),o!==null&&o.dehydrated!==null){if(t===null){if(!r)throw Error(A(318));if(r=e.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(A(317));r[et]=e}else Mn(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ce(e),r=!1}else Oe!==null&&(Bs(Oe),Oe=null),r=!0;if(!r)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(o=o!==null,o!==(t!==null&&t.memoizedState!==null)&&o&&(e.child.flags|=8192,e.mode&1&&(t===null||K.current&1?te===0&&(te=3):$l())),e.updateQueue!==null&&(e.flags|=4),ce(e),null);case 4:return Dn(),ks(t,e),t===null&&To(e.stateNode.containerInfo),ce(e),null;case 10:return Al(e.type._context),ce(e),null;case 17:return Ie(e.type)&&Pi(),ce(e),null;case 19:if(O(K),r=e.memoizedState,r===null)return ce(e),null;if(o=(e.flags&128)!==0,l=r.rendering,l===null)if(o)Yn(r,!1);else{if(te!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(l=Fi(t),l!==null){for(e.flags|=128,Yn(r,!1),o=l.updateQueue,o!==null&&(e.updateQueue=o,e.flags|=4),e.subtreeFlags=0,o=n,n=e.child;n!==null;)r=n,t=o,r.flags&=14680066,l=r.alternate,l===null?(r.childLanes=0,r.lanes=t,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=l.childLanes,r.lanes=l.lanes,r.child=l.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=l.memoizedProps,r.memoizedState=l.memoizedState,r.updateQueue=l.updateQueue,r.type=l.type,t=l.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return $(K,K.current&1|2),e.child}t=t.sibling}r.tail!==null&&b()>Un&&(e.flags|=128,o=!0,Yn(r,!1),e.lanes=4194304)}else{if(!o)if(t=Fi(l),t!==null){if(e.flags|=128,o=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Yn(r,!0),r.tail===null&&r.tailMode==="hidden"&&!l.alternate&&!W)return ce(e),null}else 2*b()-r.renderingStartTime>Un&&n!==1073741824&&(e.flags|=128,o=!0,Yn(r,!1),e.lanes=4194304);r.isBackwards?(l.sibling=e.child,e.child=l):(n=r.last,n!==null?n.sibling=l:e.child=l,r.last=l)}return r.tail!==null?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=b(),e.sibling=null,n=K.current,$(K,o?n&1|2:n&1),e):(ce(e),null);case 22:case 23:return zl(),o=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==o&&(e.flags|=8192),o&&e.mode&1?Ne&1073741824&&(ce(e),e.subtreeFlags&6&&(e.flags|=8192)):ce(e),null;case 24:return null;case 25:return null}throw Error(A(156,e.tag))}function sg(t,e){switch(Sl(e),e.tag){case 1:return Ie(e.type)&&Pi(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Dn(),O(Ce),O(pe),Ml(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return xl(e),null;case 13:if(O(K),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(A(340));Mn()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return O(K),null;case 4:return Dn(),null;case 10:return Al(e.type._context),null;case 22:case 23:return zl(),null;case 24:return null;default:return null}}var bo=!1,de=!1,lg=typeof WeakSet=="function"?WeakSet:Set,M=null;function vn(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(o){X(t,e,o)}else n.current=null}function Ds(t,e,n){try{n()}catch(o){X(t,e,o)}}var ou=!1;function ag(t,e){if(gs=wi,t=Wd(),_l(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var o=n.getSelection&&n.getSelection();if(o&&o.rangeCount!==0){n=o.anchorNode;var i=o.anchorOffset,r=o.focusNode;o=o.focusOffset;try{n.nodeType,r.nodeType}catch{n=null;break e}var l=0,u=-1,c=-1,d=0,f=0,m=t,p=null;t:for(;;){for(var h;m!==n||i!==0&&m.nodeType!==3||(u=l+i),m!==r||o!==0&&m.nodeType!==3||(c=l+o),m.nodeType===3&&(l+=m.nodeValue.length),(h=m.firstChild)!==null;)p=m,m=h;for(;;){if(m===t)break t;if(p===n&&++d===i&&(u=l),p===r&&++f===o&&(c=l),(h=m.nextSibling)!==null)break;m=p,p=m.parentNode}m=h}n=u===-1||c===-1?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(vs={focusedElem:t,selectionRange:n},wi=!1,M=e;M!==null;)if(e=M,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,M=t;else for(;M!==null;){e=M;try{var E=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(E!==null){var _=E.memoizedProps,T=E.memoizedState,v=e.stateNode,g=v.getSnapshotBeforeUpdate(e.elementType===e.type?_:$e(e.type,_),T);v.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var y=e.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(A(163))}}catch(S){X(e,e.return,S)}if(t=e.sibling,t!==null){t.return=e.return,M=t;break}M=e.return}return E=ou,ou=!1,E}function uo(t,e,n){var o=e.updateQueue;if(o=o!==null?o.lastEffect:null,o!==null){var i=o=o.next;do{if((i.tag&t)===t){var r=i.destroy;i.destroy=void 0,r!==void 0&&Ds(e,n,r)}i=i.next}while(i!==o)}}function rr(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var o=n.create;n.destroy=o()}n=n.next}while(n!==e)}}function Ls(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function $f(t){var e=t.alternate;e!==null&&(t.alternate=null,$f(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[et],delete e[Co],delete e[_s],delete e[Jh],delete e[Oh])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Jf(t){return t.tag===5||t.tag===3||t.tag===4}function iu(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Jf(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Us(t,e,n){var o=t.tag;if(o===5||o===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ni));else if(o!==4&&(t=t.child,t!==null))for(Us(t,e,n),t=t.sibling;t!==null;)Us(t,e,n),t=t.sibling}function Fs(t,e,n){var o=t.tag;if(o===5||o===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(o!==4&&(t=t.child,t!==null))for(Fs(t,e,n),t=t.sibling;t!==null;)Fs(t,e,n),t=t.sibling}var se=null,Je=!1;function gt(t,e,n){for(n=n.child;n!==null;)Of(t,e,n),n=n.sibling}function Of(t,e,n){if(tt&&typeof tt.onCommitFiberUnmount=="function")try{tt.onCommitFiberUnmount(Zi,n)}catch{}switch(n.tag){case 5:de||vn(n,e);case 6:var o=se,i=Je;se=null,gt(t,e,n),se=o,Je=i,se!==null&&(Je?(t=se,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):se.removeChild(n.stateNode));break;case 18:se!==null&&(Je?(t=se,n=n.stateNode,t.nodeType===8?Fr(t.parentNode,n):t.nodeType===1&&Fr(t,n),yo(t)):Fr(se,n.stateNode));break;case 4:o=se,i=Je,se=n.stateNode.containerInfo,Je=!0,gt(t,e,n),se=o,Je=i;break;case 0:case 11:case 14:case 15:if(!de&&(o=n.updateQueue,o!==null&&(o=o.lastEffect,o!==null))){i=o=o.next;do{var r=i,l=r.destroy;r=r.tag,l!==void 0&&(r&2||r&4)&&Ds(n,e,l),i=i.next}while(i!==o)}gt(t,e,n);break;case 1:if(!de&&(vn(n,e),o=n.stateNode,typeof o.componentWillUnmount=="function"))try{o.props=n.memoizedProps,o.state=n.memoizedState,o.componentWillUnmount()}catch(u){X(n,e,u)}gt(t,e,n);break;case 21:gt(t,e,n);break;case 22:n.mode&1?(de=(o=de)||n.memoizedState!==null,gt(t,e,n),de=o):gt(t,e,n);break;default:gt(t,e,n)}}function ru(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new lg),e.forEach(function(o){var i=vg.bind(null,t,o);n.has(o)||(n.add(o),o.then(i,i))})}}function ze(t,e){var n=e.deletions;if(n!==null)for(var o=0;o<n.length;o++){var i=n[o];try{var r=t,l=e,u=l;e:for(;u!==null;){switch(u.tag){case 5:se=u.stateNode,Je=!1;break e;case 3:se=u.stateNode.containerInfo,Je=!0;break e;case 4:se=u.stateNode.containerInfo,Je=!0;break e}u=u.return}if(se===null)throw Error(A(160));Of(r,l,i),se=null,Je=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(d){X(i,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Wf(e,t),e=e.sibling}function Wf(t,e){var n=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ze(e,t),be(t),o&4){try{uo(3,t,t.return),rr(3,t)}catch(_){X(t,t.return,_)}try{uo(5,t,t.return)}catch(_){X(t,t.return,_)}}break;case 1:ze(e,t),be(t),o&512&&n!==null&&vn(n,n.return);break;case 5:if(ze(e,t),be(t),o&512&&n!==null&&vn(n,n.return),t.flags&32){var i=t.stateNode;try{mo(i,"")}catch(_){X(t,t.return,_)}}if(o&4&&(i=t.stateNode,i!=null)){var r=t.memoizedProps,l=n!==null?n.memoizedProps:r,u=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{u==="input"&&r.type==="radio"&&r.name!=null&&pd(i,r),ss(u,l);var d=ss(u,r);for(l=0;l<c.length;l+=2){var f=c[l],m=c[l+1];f==="style"?yd(i,m):f==="dangerouslySetInnerHTML"?gd(i,m):f==="children"?mo(i,m):ll(i,f,m,d)}switch(u){case"input":ts(i,r);break;case"textarea":md(i,r);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!r.multiple;var h=r.value;h!=null?Tn(i,!!r.multiple,h,!1):p!==!!r.multiple&&(r.defaultValue!=null?Tn(i,!!r.multiple,r.defaultValue,!0):Tn(i,!!r.multiple,r.multiple?[]:"",!1))}i[Co]=r}catch(_){X(t,t.return,_)}}break;case 6:if(ze(e,t),be(t),o&4){if(t.stateNode===null)throw Error(A(162));i=t.stateNode,r=t.memoizedProps;try{i.nodeValue=r}catch(_){X(t,t.return,_)}}break;case 3:if(ze(e,t),be(t),o&4&&n!==null&&n.memoizedState.isDehydrated)try{yo(e.containerInfo)}catch(_){X(t,t.return,_)}break;case 4:ze(e,t),be(t);break;case 13:ze(e,t),be(t),i=t.child,i.flags&8192&&(r=i.memoizedState!==null,i.stateNode.isHidden=r,!r||i.alternate!==null&&i.alternate.memoizedState!==null||(Bl=b())),o&4&&ru(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(de=(d=de)||f,ze(e,t),de=d):ze(e,t),be(t),o&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!f&&t.mode&1)for(M=t,f=t.child;f!==null;){for(m=M=f;M!==null;){switch(p=M,h=p.child,p.tag){case 0:case 11:case 14:case 15:uo(4,p,p.return);break;case 1:vn(p,p.return);var E=p.stateNode;if(typeof E.componentWillUnmount=="function"){o=p,n=p.return;try{e=o,E.props=e.memoizedProps,E.state=e.memoizedState,E.componentWillUnmount()}catch(_){X(o,n,_)}}break;case 5:vn(p,p.return);break;case 22:if(p.memoizedState!==null){lu(m);continue}}h!==null?(h.return=p,M=h):lu(m)}f=f.sibling}e:for(f=null,m=t;;){if(m.tag===5){if(f===null){f=m;try{i=m.stateNode,d?(r=i.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none"):(u=m.stateNode,c=m.memoizedProps.style,l=c!=null&&c.hasOwnProperty("display")?c.display:null,u.style.display=vd("display",l))}catch(_){X(t,t.return,_)}}}else if(m.tag===6){if(f===null)try{m.stateNode.nodeValue=d?"":m.memoizedProps}catch(_){X(t,t.return,_)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===t)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;f===m&&(f=null),m=m.return}f===m&&(f=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:ze(e,t),be(t),o&4&&ru(t);break;case 21:break;default:ze(e,t),be(t)}}function be(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Jf(n)){var o=n;break e}n=n.return}throw Error(A(160))}switch(o.tag){case 5:var i=o.stateNode;o.flags&32&&(mo(i,""),o.flags&=-33);var r=iu(t);Fs(t,r,i);break;case 3:case 4:var l=o.stateNode.containerInfo,u=iu(t);Us(t,u,l);break;default:throw Error(A(161))}}catch(c){X(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function ug(t,e,n){M=t,Kf(t)}function Kf(t,e,n){for(var o=(t.mode&1)!==0;M!==null;){var i=M,r=i.child;if(i.tag===22&&o){var l=i.memoizedState!==null||bo;if(!l){var u=i.alternate,c=u!==null&&u.memoizedState!==null||de;u=bo;var d=de;if(bo=l,(de=c)&&!d)for(M=i;M!==null;)l=M,c=l.child,l.tag===22&&l.memoizedState!==null?au(i):c!==null?(c.return=l,M=c):au(i);for(;r!==null;)M=r,Kf(r),r=r.sibling;M=i,bo=u,de=d}su(t)}else i.subtreeFlags&8772&&r!==null?(r.return=i,M=r):su(t)}}function su(t){for(;M!==null;){var e=M;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:de||rr(5,e);break;case 1:var o=e.stateNode;if(e.flags&4&&!de)if(n===null)o.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:$e(e.type,n.memoizedProps);o.componentDidUpdate(i,n.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var r=e.updateQueue;r!==null&&Ja(e,r,o);break;case 3:var l=e.updateQueue;if(l!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Ja(e,l,n)}break;case 5:var u=e.stateNode;if(n===null&&e.flags&4){n=u;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var f=d.memoizedState;if(f!==null){var m=f.dehydrated;m!==null&&yo(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(A(163))}de||e.flags&512&&Ls(e)}catch(p){X(e,e.return,p)}}if(e===t){M=null;break}if(n=e.sibling,n!==null){n.return=e.return,M=n;break}M=e.return}}function lu(t){for(;M!==null;){var e=M;if(e===t){M=null;break}var n=e.sibling;if(n!==null){n.return=e.return,M=n;break}M=e.return}}function au(t){for(;M!==null;){var e=M;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{rr(4,e)}catch(c){X(e,n,c)}break;case 1:var o=e.stateNode;if(typeof o.componentDidMount=="function"){var i=e.return;try{o.componentDidMount()}catch(c){X(e,i,c)}}var r=e.return;try{Ls(e)}catch(c){X(e,r,c)}break;case 5:var l=e.return;try{Ls(e)}catch(c){X(e,l,c)}}}catch(c){X(e,e.return,c)}if(e===t){M=null;break}var u=e.sibling;if(u!==null){u.return=e.return,M=u;break}M=e.return}}var cg=Math.ceil,Hi=pt.ReactCurrentDispatcher,Gl=pt.ReactCurrentOwner,Ve=pt.ReactCurrentBatchConfig,G=0,ie=null,j=null,le=0,Ne=0,yn=Ft(0),te=0,Po=null,jt=0,sr=0,Hl=0,co=null,Te=null,Bl=0,Un=1/0,ot=null,Bi=!1,Vs=null,xt=null,jo=!1,Ct=null,qi=0,fo=0,Gs=null,hi=-1,gi=0;function ge(){return G&6?b():hi!==-1?hi:hi=b()}function Mt(t){return t.mode&1?G&2&&le!==0?le&-le:Kh.transition!==null?(gi===0&&(gi=xd()),gi):(t=q,t!==0||(t=window.event,t=t===void 0?16:Vd(t.type)),t):1}function Ke(t,e,n,o){if(50<fo)throw fo=0,Gs=null,Error(A(185));Mo(t,n,o),(!(G&2)||t!==ie)&&(t===ie&&(!(G&2)&&(sr|=n),te===4&&_t(t,le)),we(t,o),n===1&&G===0&&!(e.mode&1)&&(Un=b()+500,nr&&Vt()))}function we(t,e){var n=t.callbackNode;Km(t,e);var o=Ii(t,t===ie?le:0);if(o===0)n!==null&&va(n),t.callbackNode=null,t.callbackPriority=0;else if(e=o&-o,t.callbackPriority!==e){if(n!=null&&va(n),e===1)t.tag===0?Wh(uu.bind(null,t)):nf(uu.bind(null,t)),zh(function(){!(G&6)&&Vt()}),n=null;else{switch(Md(o)){case 1:n=fl;break;case 4:n=Nd;break;case 16:n=Ci;break;case 536870912:n=Pd;break;default:n=Ci}n=tp(n,Yf.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Yf(t,e){if(hi=-1,gi=0,G&6)throw Error(A(327));var n=t.callbackNode;if(An()&&t.callbackNode!==n)return null;var o=Ii(t,t===ie?le:0);if(o===0)return null;if(o&30||o&t.expiredLanes||e)e=zi(t,o);else{e=o;var i=G;G|=2;var r=Xf();(ie!==t||le!==e)&&(ot=null,Un=b()+500,Yt(t,e));do try{pg();break}catch(u){Qf(t,u)}while(!0);wl(),Hi.current=r,G=i,j!==null?e=0:(ie=null,le=0,e=te)}if(e!==0){if(e===2&&(i=ds(t),i!==0&&(o=i,e=Hs(t,i))),e===1)throw n=Po,Yt(t,0),_t(t,o),we(t,b()),n;if(e===6)_t(t,o);else{if(i=t.current.alternate,!(o&30)&&!dg(i)&&(e=zi(t,o),e===2&&(r=ds(t),r!==0&&(o=r,e=Hs(t,r))),e===1))throw n=Po,Yt(t,0),_t(t,o),we(t,b()),n;switch(t.finishedWork=i,t.finishedLanes=o,e){case 0:case 1:throw Error(A(345));case 2:$t(t,Te,ot);break;case 3:if(_t(t,o),(o&130023424)===o&&(e=Bl+500-b(),10<e)){if(Ii(t,0)!==0)break;if(i=t.suspendedLanes,(i&o)!==o){ge(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Es($t.bind(null,t,Te,ot),e);break}$t(t,Te,ot);break;case 4:if(_t(t,o),(o&4194240)===o)break;for(e=t.eventTimes,i=-1;0<o;){var l=31-We(o);r=1<<l,l=e[l],l>i&&(i=l),o&=~r}if(o=i,o=b()-o,o=(120>o?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*cg(o/1960))-o,10<o){t.timeoutHandle=Es($t.bind(null,t,Te,ot),o);break}$t(t,Te,ot);break;case 5:$t(t,Te,ot);break;default:throw Error(A(329))}}}return we(t,b()),t.callbackNode===n?Yf.bind(null,t):null}function Hs(t,e){var n=co;return t.current.memoizedState.isDehydrated&&(Yt(t,e).flags|=256),t=zi(t,e),t!==2&&(e=Te,Te=n,e!==null&&Bs(e)),t}function Bs(t){Te===null?Te=t:Te.push.apply(Te,t)}function dg(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var o=0;o<n.length;o++){var i=n[o],r=i.getSnapshot;i=i.value;try{if(!Xe(r(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function _t(t,e){for(e&=~Hl,e&=~sr,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-We(e),o=1<<n;t[n]=-1,e&=~o}}function uu(t){if(G&6)throw Error(A(327));An();var e=Ii(t,0);if(!(e&1))return we(t,b()),null;var n=zi(t,e);if(t.tag!==0&&n===2){var o=ds(t);o!==0&&(e=o,n=Hs(t,o))}if(n===1)throw n=Po,Yt(t,0),_t(t,e),we(t,b()),n;if(n===6)throw Error(A(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,$t(t,Te,ot),we(t,b()),null}function ql(t,e){var n=G;G|=1;try{return t(e)}finally{G=n,G===0&&(Un=b()+500,nr&&Vt())}}function en(t){Ct!==null&&Ct.tag===0&&!(G&6)&&An();var e=G;G|=1;var n=Ve.transition,o=q;try{if(Ve.transition=null,q=1,t)return t()}finally{q=o,Ve.transition=n,G=e,!(G&6)&&Vt()}}function zl(){Ne=yn.current,O(yn)}function Yt(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,qh(n)),j!==null)for(n=j.return;n!==null;){var o=n;switch(Sl(o),o.tag){case 1:o=o.type.childContextTypes,o!=null&&Pi();break;case 3:Dn(),O(Ce),O(pe),Ml();break;case 5:xl(o);break;case 4:Dn();break;case 13:O(K);break;case 19:O(K);break;case 10:Al(o.type._context);break;case 22:case 23:zl()}n=n.return}if(ie=t,j=t=kt(t.current,null),le=Ne=e,te=0,Po=null,Hl=sr=jt=0,Te=co=null,Wt!==null){for(e=0;e<Wt.length;e++)if(n=Wt[e],o=n.interleaved,o!==null){n.interleaved=null;var i=o.next,r=n.pending;if(r!==null){var l=r.next;r.next=i,o.next=l}n.pending=o}Wt=null}return t}function Qf(t,e){do{var n=j;try{if(wl(),fi.current=Gi,Vi){for(var o=Y.memoizedState;o!==null;){var i=o.queue;i!==null&&(i.pending=null),o=o.next}Vi=!1}if(bt=0,oe=ee=Y=null,ao=!1,Ao=0,Gl.current=null,n===null||n.return===null){te=1,Po=e,j=null;break}e:{var r=t,l=n.return,u=n,c=e;if(e=le,u.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,f=u,m=f.tag;if(!(f.mode&1)&&(m===0||m===11||m===15)){var p=f.alternate;p?(f.updateQueue=p.updateQueue,f.memoizedState=p.memoizedState,f.lanes=p.lanes):(f.updateQueue=null,f.memoizedState=null)}var h=Xa(l);if(h!==null){h.flags&=-257,Za(h,l,u,r,e),h.mode&1&&Qa(r,d,e),e=h,c=d;var E=e.updateQueue;if(E===null){var _=new Set;_.add(c),e.updateQueue=_}else E.add(c);break e}else{if(!(e&1)){Qa(r,d,e),$l();break e}c=Error(A(426))}}else if(W&&u.mode&1){var T=Xa(l);if(T!==null){!(T.flags&65536)&&(T.flags|=256),Za(T,l,u,r,e),Cl(Ln(c,u));break e}}r=c=Ln(c,u),te!==4&&(te=2),co===null?co=[r]:co.push(r),r=l;do{switch(r.tag){case 3:r.flags|=65536,e&=-e,r.lanes|=e;var v=kf(r,c,e);$a(r,v);break e;case 1:u=c;var g=r.type,y=r.stateNode;if(!(r.flags&128)&&(typeof g.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(xt===null||!xt.has(y)))){r.flags|=65536,e&=-e,r.lanes|=e;var S=Df(r,u,e);$a(r,S);break e}}r=r.return}while(r!==null)}bf(n)}catch(C){e=C,j===n&&n!==null&&(j=n=n.return);continue}break}while(!0)}function Xf(){var t=Hi.current;return Hi.current=Gi,t===null?Gi:t}function $l(){(te===0||te===3||te===2)&&(te=4),ie===null||!(jt&268435455)&&!(sr&268435455)||_t(ie,le)}function zi(t,e){var n=G;G|=2;var o=Xf();(ie!==t||le!==e)&&(ot=null,Yt(t,e));do try{fg();break}catch(i){Qf(t,i)}while(!0);if(wl(),G=n,Hi.current=o,j!==null)throw Error(A(261));return ie=null,le=0,te}function fg(){for(;j!==null;)Zf(j)}function pg(){for(;j!==null&&!Gm();)Zf(j)}function Zf(t){var e=ep(t.alternate,t,Ne);t.memoizedProps=t.pendingProps,e===null?bf(t):j=e,Gl.current=null}function bf(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=sg(n,e),n!==null){n.flags&=32767,j=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{te=6,j=null;return}}else if(n=rg(n,e,Ne),n!==null){j=n;return}if(e=e.sibling,e!==null){j=e;return}j=e=t}while(e!==null);te===0&&(te=5)}function $t(t,e,n){var o=q,i=Ve.transition;try{Ve.transition=null,q=1,mg(t,e,n,o)}finally{Ve.transition=i,q=o}return null}function mg(t,e,n,o){do An();while(Ct!==null);if(G&6)throw Error(A(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(A(177));t.callbackNode=null,t.callbackPriority=0;var r=n.lanes|n.childLanes;if(Ym(t,r),t===ie&&(j=ie=null,le=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||jo||(jo=!0,tp(Ci,function(){return An(),null})),r=(n.flags&15990)!==0,n.subtreeFlags&15990||r){r=Ve.transition,Ve.transition=null;var l=q;q=1;var u=G;G|=4,Gl.current=null,ag(t,n),Wf(n,t),Lh(vs),wi=!!gs,vs=gs=null,t.current=n,ug(n),Hm(),G=u,q=l,Ve.transition=r}else t.current=n;if(jo&&(jo=!1,Ct=t,qi=i),r=t.pendingLanes,r===0&&(xt=null),zm(n.stateNode),we(t,b()),e!==null)for(o=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],o(i.value,{componentStack:i.stack,digest:i.digest});if(Bi)throw Bi=!1,t=Vs,Vs=null,t;return qi&1&&t.tag!==0&&An(),r=t.pendingLanes,r&1?t===Gs?fo++:(fo=0,Gs=t):fo=0,Vt(),null}function An(){if(Ct!==null){var t=Md(qi),e=Ve.transition,n=q;try{if(Ve.transition=null,q=16>t?16:t,Ct===null)var o=!1;else{if(t=Ct,Ct=null,qi=0,G&6)throw Error(A(331));var i=G;for(G|=4,M=t.current;M!==null;){var r=M,l=r.child;if(M.flags&16){var u=r.deletions;if(u!==null){for(var c=0;c<u.length;c++){var d=u[c];for(M=d;M!==null;){var f=M;switch(f.tag){case 0:case 11:case 15:uo(8,f,r)}var m=f.child;if(m!==null)m.return=f,M=m;else for(;M!==null;){f=M;var p=f.sibling,h=f.return;if($f(f),f===d){M=null;break}if(p!==null){p.return=h,M=p;break}M=h}}}var E=r.alternate;if(E!==null){var _=E.child;if(_!==null){E.child=null;do{var T=_.sibling;_.sibling=null,_=T}while(_!==null)}}M=r}}if(r.subtreeFlags&2064&&l!==null)l.return=r,M=l;else e:for(;M!==null;){if(r=M,r.flags&2048)switch(r.tag){case 0:case 11:case 15:uo(9,r,r.return)}var v=r.sibling;if(v!==null){v.return=r.return,M=v;break e}M=r.return}}var g=t.current;for(M=g;M!==null;){l=M;var y=l.child;if(l.subtreeFlags&2064&&y!==null)y.return=l,M=y;else e:for(l=g;M!==null;){if(u=M,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:rr(9,u)}}catch(C){X(u,u.return,C)}if(u===l){M=null;break e}var S=u.sibling;if(S!==null){S.return=u.return,M=S;break e}M=u.return}}if(G=i,Vt(),tt&&typeof tt.onPostCommitFiberRoot=="function")try{tt.onPostCommitFiberRoot(Zi,t)}catch{}o=!0}return o}finally{q=n,Ve.transition=e}}return!1}function cu(t,e,n){e=Ln(n,e),e=kf(t,e,1),t=Pt(t,e,1),e=ge(),t!==null&&(Mo(t,1,e),we(t,e))}function X(t,e,n){if(t.tag===3)cu(t,t,n);else for(;e!==null;){if(e.tag===3){cu(e,t,n);break}else if(e.tag===1){var o=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(xt===null||!xt.has(o))){t=Ln(n,t),t=Df(e,t,1),e=Pt(e,t,1),t=ge(),e!==null&&(Mo(e,1,t),we(e,t));break}}e=e.return}}function hg(t,e,n){var o=t.pingCache;o!==null&&o.delete(e),e=ge(),t.pingedLanes|=t.suspendedLanes&n,ie===t&&(le&n)===n&&(te===4||te===3&&(le&130023424)===le&&500>b()-Bl?Yt(t,0):Hl|=n),we(t,e)}function jf(t,e){e===0&&(t.mode&1?(e=$o,$o<<=1,!($o&130023424)&&($o=4194304)):e=1);var n=ge();t=ct(t,e),t!==null&&(Mo(t,e,n),we(t,n))}function gg(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),jf(t,n)}function vg(t,e){var n=0;switch(t.tag){case 13:var o=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:o=t.stateNode;break;default:throw Error(A(314))}o!==null&&o.delete(e),jf(t,n)}var ep;ep=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ce.current)Se=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Se=!1,ig(t,e,n);Se=!!(t.flags&131072)}else Se=!1,W&&e.flags&1048576&&of(e,ki,e.index);switch(e.lanes=0,e.tag){case 2:var o=e.type;mi(t,e),t=e.pendingProps;var i=xn(e,pe.current);wn(e,n),i=Dl(null,e,o,t,i,n);var r=Ll();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ie(o)?(r=!0,xi(e)):r=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Nl(e),i.updater=ir,e.stateNode=i,i._reactInternals=e,As(e,o,t,n),e=Ps(null,e,o,!0,r,n)):(e.tag=0,W&&r&&Tl(e),he(null,e,i,n),e=e.child),e;case 16:o=e.elementType;e:{switch(mi(t,e),t=e.pendingProps,i=o._init,o=i(o._payload),e.type=o,i=e.tag=Eg(o),t=$e(o,t),i){case 0:e=Ns(null,e,o,t,n);break e;case 1:e=eu(null,e,o,t,n);break e;case 11:e=ba(null,e,o,t,n);break e;case 14:e=ja(null,e,o,$e(o.type,t),n);break e}throw Error(A(306,o,""))}return e;case 0:return o=e.type,i=e.pendingProps,i=e.elementType===o?i:$e(o,i),Ns(t,e,o,i,n);case 1:return o=e.type,i=e.pendingProps,i=e.elementType===o?i:$e(o,i),eu(t,e,o,i,n);case 3:e:{if(Vf(e),t===null)throw Error(A(387));o=e.pendingProps,r=e.memoizedState,i=r.element,cf(t,e),Ui(e,o,null,n);var l=e.memoizedState;if(o=l.element,r.isDehydrated)if(r={element:o,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},e.updateQueue.baseState=r,e.memoizedState=r,e.flags&256){i=Ln(Error(A(423)),e),e=tu(t,e,o,n,i);break e}else if(o!==i){i=Ln(Error(A(424)),e),e=tu(t,e,o,n,i);break e}else for(Pe=Nt(e.stateNode.containerInfo.firstChild),xe=e,W=!0,Oe=null,n=af(e,null,o,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Mn(),o===i){e=dt(t,e,n);break e}he(t,e,o,n)}e=e.child}return e;case 5:return df(e),t===null&&Cs(e),o=e.type,i=e.pendingProps,r=t!==null?t.memoizedProps:null,l=i.children,ys(o,i)?l=null:r!==null&&ys(o,r)&&(e.flags|=32),Ff(t,e),he(t,e,l,n),e.child;case 6:return t===null&&Cs(e),null;case 13:return Gf(t,e,n);case 4:return Pl(e,e.stateNode.containerInfo),o=e.pendingProps,t===null?e.child=kn(e,null,o,n):he(t,e,o,n),e.child;case 11:return o=e.type,i=e.pendingProps,i=e.elementType===o?i:$e(o,i),ba(t,e,o,i,n);case 7:return he(t,e,e.pendingProps,n),e.child;case 8:return he(t,e,e.pendingProps.children,n),e.child;case 12:return he(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(o=e.type._context,i=e.pendingProps,r=e.memoizedProps,l=i.value,$(Di,o._currentValue),o._currentValue=l,r!==null)if(Xe(r.value,l)){if(r.children===i.children&&!Ce.current){e=dt(t,e,n);break e}}else for(r=e.child,r!==null&&(r.return=e);r!==null;){var u=r.dependencies;if(u!==null){l=r.child;for(var c=u.firstContext;c!==null;){if(c.context===o){if(r.tag===1){c=lt(-1,n&-n),c.tag=2;var d=r.updateQueue;if(d!==null){d=d.shared;var f=d.pending;f===null?c.next=c:(c.next=f.next,f.next=c),d.pending=c}}r.lanes|=n,c=r.alternate,c!==null&&(c.lanes|=n),Is(r.return,n,e),u.lanes|=n;break}c=c.next}}else if(r.tag===10)l=r.type===e.type?null:r.child;else if(r.tag===18){if(l=r.return,l===null)throw Error(A(341));l.lanes|=n,u=l.alternate,u!==null&&(u.lanes|=n),Is(l,n,e),l=r.sibling}else l=r.child;if(l!==null)l.return=r;else for(l=r;l!==null;){if(l===e){l=null;break}if(r=l.sibling,r!==null){r.return=l.return,l=r;break}l=l.return}r=l}he(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,o=e.pendingProps.children,wn(e,n),i=He(i),o=o(i),e.flags|=1,he(t,e,o,n),e.child;case 14:return o=e.type,i=$e(o,e.pendingProps),i=$e(o.type,i),ja(t,e,o,i,n);case 15:return Lf(t,e,e.type,e.pendingProps,n);case 17:return o=e.type,i=e.pendingProps,i=e.elementType===o?i:$e(o,i),mi(t,e),e.tag=1,Ie(o)?(t=!0,xi(e)):t=!1,wn(e,n),Mf(e,o,i),As(e,o,i,n),Ps(null,e,o,!0,t,n);case 19:return Hf(t,e,n);case 22:return Uf(t,e,n)}throw Error(A(156,e.tag))};function tp(t,e){return Rd(t,e)}function yg(t,e,n,o){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fe(t,e,n,o){return new yg(t,e,n,o)}function Jl(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Eg(t){if(typeof t=="function")return Jl(t)?1:0;if(t!=null){if(t=t.$$typeof,t===ul)return 11;if(t===cl)return 14}return 2}function kt(t,e){var n=t.alternate;return n===null?(n=Fe(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function vi(t,e,n,o,i,r){var l=2;if(o=t,typeof t=="function")Jl(t)&&(l=1);else if(typeof t=="string")l=5;else e:switch(t){case an:return Qt(n.children,i,r,e);case al:l=8,i|=8;break;case Xr:return t=Fe(12,n,e,i|2),t.elementType=Xr,t.lanes=r,t;case Zr:return t=Fe(13,n,e,i),t.elementType=Zr,t.lanes=r,t;case br:return t=Fe(19,n,e,i),t.elementType=br,t.lanes=r,t;case cd:return lr(n,i,r,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ad:l=10;break e;case ud:l=9;break e;case ul:l=11;break e;case cl:l=14;break e;case vt:l=16,o=null;break e}throw Error(A(130,t==null?t:typeof t,""))}return e=Fe(l,n,e,i),e.elementType=t,e.type=o,e.lanes=r,e}function Qt(t,e,n,o){return t=Fe(7,t,o,e),t.lanes=n,t}function lr(t,e,n,o){return t=Fe(22,t,o,e),t.elementType=cd,t.lanes=n,t.stateNode={isHidden:!1},t}function Jr(t,e,n){return t=Fe(6,t,null,e),t.lanes=n,t}function Or(t,e,n){return e=Fe(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function _g(t,e,n,o,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=wr(0),this.expirationTimes=wr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wr(0),this.identifierPrefix=o,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Ol(t,e,n,o,i,r,l,u,c){return t=new _g(t,e,n,u,c),e===1?(e=1,r===!0&&(e|=8)):e=0,r=Fe(3,null,null,e),t.current=r,r.stateNode=t,r.memoizedState={element:o,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Nl(r),t}function Tg(t,e,n){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ln,key:o==null?null:""+o,children:t,containerInfo:e,implementation:n}}function np(t){if(!t)return Lt;t=t._reactInternals;e:{if(nn(t)!==t||t.tag!==1)throw Error(A(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ie(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(A(171))}if(t.tag===1){var n=t.type;if(Ie(n))return tf(t,n,e)}return e}function op(t,e,n,o,i,r,l,u,c){return t=Ol(n,o,!0,t,i,r,l,u,c),t.context=np(null),n=t.current,o=ge(),i=Mt(n),r=lt(o,i),r.callback=e??null,Pt(n,r,i),t.current.lanes=i,Mo(t,i,o),we(t,o),t}function ar(t,e,n,o){var i=e.current,r=ge(),l=Mt(i);return n=np(n),e.context===null?e.context=n:e.pendingContext=n,e=lt(r,l),e.payload={element:t},o=o===void 0?null:o,o!==null&&(e.callback=o),t=Pt(i,e,l),t!==null&&(Ke(t,i,l,r),di(t,i,l)),l}function $i(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function du(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Wl(t,e){du(t,e),(t=t.alternate)&&du(t,e)}function Sg(){return null}var ip=typeof reportError=="function"?reportError:function(t){console.error(t)};function Kl(t){this._internalRoot=t}ur.prototype.render=Kl.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(A(409));ar(t,e,null,null)};ur.prototype.unmount=Kl.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;en(function(){ar(null,t,null,null)}),e[ut]=null}};function ur(t){this._internalRoot=t}ur.prototype.unstable_scheduleHydration=function(t){if(t){var e=Ld();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Et.length&&e!==0&&e<Et[n].priority;n++);Et.splice(n,0,t),n===0&&Fd(t)}};function Yl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function cr(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function fu(){}function Cg(t,e,n,o,i){if(i){if(typeof o=="function"){var r=o;o=function(){var d=$i(l);r.call(d)}}var l=op(e,o,t,0,null,!1,!1,"",fu);return t._reactRootContainer=l,t[ut]=l.current,To(t.nodeType===8?t.parentNode:t),en(),l}for(;i=t.lastChild;)t.removeChild(i);if(typeof o=="function"){var u=o;o=function(){var d=$i(c);u.call(d)}}var c=Ol(t,0,!1,null,null,!1,!1,"",fu);return t._reactRootContainer=c,t[ut]=c.current,To(t.nodeType===8?t.parentNode:t),en(function(){ar(e,c,n,o)}),c}function dr(t,e,n,o,i){var r=n._reactRootContainer;if(r){var l=r;if(typeof i=="function"){var u=i;i=function(){var c=$i(l);u.call(c)}}ar(e,l,t,i)}else l=Cg(n,e,t,i,o);return $i(l)}kd=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=eo(e.pendingLanes);n!==0&&(pl(e,n|1),we(e,b()),!(G&6)&&(Un=b()+500,Vt()))}break;case 13:en(function(){var o=ct(t,1);if(o!==null){var i=ge();Ke(o,t,1,i)}}),Wl(t,1)}};ml=function(t){if(t.tag===13){var e=ct(t,134217728);if(e!==null){var n=ge();Ke(e,t,134217728,n)}Wl(t,134217728)}};Dd=function(t){if(t.tag===13){var e=Mt(t),n=ct(t,e);if(n!==null){var o=ge();Ke(n,t,e,o)}Wl(t,e)}};Ld=function(){return q};Ud=function(t,e){var n=q;try{return q=t,e()}finally{q=n}};as=function(t,e,n){switch(e){case"input":if(ts(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var o=n[e];if(o!==t&&o.form===t.form){var i=tr(o);if(!i)throw Error(A(90));fd(o),ts(o,i)}}}break;case"textarea":md(t,n);break;case"select":e=n.value,e!=null&&Tn(t,!!n.multiple,e,!1)}};Td=ql;Sd=en;var Ig={usingClientEntryPoint:!1,Events:[Do,fn,tr,Ed,_d,ql]},Qn={findFiberByHostInstance:Ot,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},wg={bundleType:Qn.bundleType,version:Qn.version,rendererPackageName:Qn.rendererPackageName,rendererConfig:Qn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:pt.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=wd(t),t===null?null:t.stateNode},findFiberByHostInstance:Qn.findFiberByHostInstance||Sg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ei=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ei.isDisabled&&ei.supportsFiber)try{Zi=ei.inject(wg),tt=ei}catch{}}ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ig;ke.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Yl(e))throw Error(A(200));return Tg(t,e,null,n)};ke.createRoot=function(t,e){if(!Yl(t))throw Error(A(299));var n=!1,o="",i=ip;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(o=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Ol(t,1,!1,null,null,n,!1,o,i),t[ut]=e.current,To(t.nodeType===8?t.parentNode:t),new Kl(e)};ke.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(A(188)):(t=Object.keys(t).join(","),Error(A(268,t)));return t=wd(e),t=t===null?null:t.stateNode,t};ke.flushSync=function(t){return en(t)};ke.hydrate=function(t,e,n){if(!cr(e))throw Error(A(200));return dr(null,t,e,!0,n)};ke.hydrateRoot=function(t,e,n){if(!Yl(t))throw Error(A(405));var o=n!=null&&n.hydratedSources||null,i=!1,r="",l=ip;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),e=op(e,null,t,1,n??null,i,!1,r,l),t[ut]=e.current,To(t),o)for(t=0;t<o.length;t++)n=o[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new ur(e)};ke.render=function(t,e,n){if(!cr(e))throw Error(A(200));return dr(null,t,e,!1,n)};ke.unmountComponentAtNode=function(t){if(!cr(t))throw Error(A(40));return t._reactRootContainer?(en(function(){dr(null,null,t,!1,function(){t._reactRootContainer=null,t[ut]=null})}),!0):!1};ke.unstable_batchedUpdates=ql;ke.unstable_renderSubtreeIntoContainer=function(t,e,n,o){if(!cr(n))throw Error(A(200));if(t==null||t._reactInternals===void 0)throw Error(A(38));return dr(t,e,n,!1,o)};ke.version="18.3.1-next-f1338f8080-20240426";function rp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(rp)}catch(t){console.error(t)}}rp(),id.exports=ke;var Ag=id.exports,pu=Ag;Yr.createRoot=pu.createRoot,Yr.hydrateRoot=pu.hydrateRoot;var Rg={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Ng,Pg;function xg(){return{geminiUrl:Ng,vertexUrl:Pg}}function Mg(t,e,n,o){var i,r;if(!(t!=null&&t.baseUrl)){const l=xg();return e?(i=l.vertexUrl)!==null&&i!==void 0?i:n:(r=l.geminiUrl)!==null&&r!==void 0?r:o}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class mt{}function P(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(o,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const r=e[i];return r!=null?String(r):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function a(t,e,n){for(let r=0;r<e.length-1;r++){const l=e[r];if(l.endsWith("[]")){const u=l.slice(0,-2);if(!(u in t))if(Array.isArray(n))t[u]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${l}`);if(Array.isArray(t[u])){const c=t[u];if(Array.isArray(n))for(let d=0;d<c.length;d++){const f=c[d];a(f,e.slice(r+1),n[d])}else for(const d of c)a(d,e.slice(r+1),n)}return}else if(l.endsWith("[0]")){const u=l.slice(0,-3);u in t||(t[u]=[{}]);const c=t[u];a(c[0],e.slice(r+1),n);return}(!t[l]||typeof t[l]!="object")&&(t[l]={}),t=t[l]}const o=e[e.length-1],i=t[o];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${o}`)}else o==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[o]=n}function s(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let o=0;o<e.length;o++){if(typeof t!="object"||t===null)return n;const i=e[o];if(i.endsWith("[]")){const r=i.slice(0,-2);if(r in t){const l=t[r];return Array.isArray(l)?l.map(u=>s(u,e.slice(o+1),n)):n}else return n}else t=t[i]}return t}catch(o){if(o instanceof TypeError)return n;throw o}}function kg(t,e){for(const[n,o]of Object.entries(e)){const i=n.split("."),r=o.split("."),l=new Set;let u=-1;for(let c=0;c<i.length;c++)if(i[c]==="*"){u=c;break}if(u!==-1&&r.length>u)for(let c=u;c<r.length;c++){const d=r[c];d!=="*"&&!d.endsWith("[]")&&!d.endsWith("[0]")&&l.add(d)}qs(t,i,r,0,l)}}function qs(t,e,n,o,i){if(o>=e.length||typeof t!="object"||t===null)return;const r=e[o];if(r.endsWith("[]")){const l=r.slice(0,-2),u=t;if(l in u&&Array.isArray(u[l]))for(const c of u[l])qs(c,e,n,o+1,i)}else if(r==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const l=t,u=Object.keys(l).filter(d=>!d.startsWith("_")&&!i.has(d)),c={};for(const d of u)c[d]=l[d];for(const[d,f]of Object.entries(c)){const m=[];for(const p of n.slice(o))p==="*"?m.push(d):m.push(p);a(l,m,f)}for(const d of u)delete l[d]}}else{const l=t;r in l&&qs(l[r],e,n,o+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ql(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Dg(t){const e={},n=s(t,["operationName"]);n!=null&&a(e,["operationName"],n);const o=s(t,["resourceName"]);return o!=null&&a(e,["_url","resourceName"],o),e}function Lg(t){const e={},n=s(t,["name"]);n!=null&&a(e,["name"],n);const o=s(t,["metadata"]);o!=null&&a(e,["metadata"],o);const i=s(t,["done"]);i!=null&&a(e,["done"],i);const r=s(t,["error"]);r!=null&&a(e,["error"],r);const l=s(t,["response","generateVideoResponse"]);return l!=null&&a(e,["response"],Fg(l)),e}function Ug(t){const e={},n=s(t,["name"]);n!=null&&a(e,["name"],n);const o=s(t,["metadata"]);o!=null&&a(e,["metadata"],o);const i=s(t,["done"]);i!=null&&a(e,["done"],i);const r=s(t,["error"]);r!=null&&a(e,["error"],r);const l=s(t,["response"]);return l!=null&&a(e,["response"],Vg(l)),e}function Fg(t){const e={},n=s(t,["generatedSamples"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(l=>Gg(l))),a(e,["generatedVideos"],r)}const o=s(t,["raiMediaFilteredCount"]);o!=null&&a(e,["raiMediaFilteredCount"],o);const i=s(t,["raiMediaFilteredReasons"]);return i!=null&&a(e,["raiMediaFilteredReasons"],i),e}function Vg(t){const e={},n=s(t,["videos"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(l=>Hg(l))),a(e,["generatedVideos"],r)}const o=s(t,["raiMediaFilteredCount"]);o!=null&&a(e,["raiMediaFilteredCount"],o);const i=s(t,["raiMediaFilteredReasons"]);return i!=null&&a(e,["raiMediaFilteredReasons"],i),e}function Gg(t){const e={},n=s(t,["video"]);return n!=null&&a(e,["video"],Og(n)),e}function Hg(t){const e={},n=s(t,["_self"]);return n!=null&&a(e,["video"],Wg(n)),e}function Bg(t){const e={},n=s(t,["operationName"]);return n!=null&&a(e,["_url","operationName"],n),e}function qg(t){const e={},n=s(t,["operationName"]);return n!=null&&a(e,["_url","operationName"],n),e}function zg(t){const e={},n=s(t,["name"]);n!=null&&a(e,["name"],n);const o=s(t,["metadata"]);o!=null&&a(e,["metadata"],o);const i=s(t,["done"]);i!=null&&a(e,["done"],i);const r=s(t,["error"]);r!=null&&a(e,["error"],r);const l=s(t,["response"]);return l!=null&&a(e,["response"],$g(l)),e}function $g(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["parent"]);o!=null&&a(e,["parent"],o);const i=s(t,["documentName"]);return i!=null&&a(e,["documentName"],i),e}function sp(t){const e={},n=s(t,["name"]);n!=null&&a(e,["name"],n);const o=s(t,["metadata"]);o!=null&&a(e,["metadata"],o);const i=s(t,["done"]);i!=null&&a(e,["done"],i);const r=s(t,["error"]);r!=null&&a(e,["error"],r);const l=s(t,["response"]);return l!=null&&a(e,["response"],Jg(l)),e}function Jg(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["parent"]);o!=null&&a(e,["parent"],o);const i=s(t,["documentName"]);return i!=null&&a(e,["documentName"],i),e}function Og(t){const e={},n=s(t,["uri"]);n!=null&&a(e,["uri"],n);const o=s(t,["encodedVideo"]);o!=null&&a(e,["videoBytes"],Ql(o));const i=s(t,["encoding"]);return i!=null&&a(e,["mimeType"],i),e}function Wg(t){const e={},n=s(t,["gcsUri"]);n!=null&&a(e,["uri"],n);const o=s(t,["bytesBase64Encoded"]);o!=null&&a(e,["videoBytes"],Ql(o));const i=s(t,["mimeType"]);return i!=null&&a(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var mu;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(mu||(mu={}));var hu;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(hu||(hu={}));var gu;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(gu||(gu={}));var It;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(It||(It={}));var vu;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(vu||(vu={}));var yu;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(yu||(yu={}));var Eu;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(Eu||(Eu={}));var _u;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(_u||(_u={}));var Tu;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(Tu||(Tu={}));var Su;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH",t.MINIMAL="MINIMAL"})(Su||(Su={}));var Cu;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(Cu||(Cu={}));var Iu;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(Iu||(Iu={}));var wu;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(wu||(wu={}));var Au;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE",t.IMAGE_RECITATION="IMAGE_RECITATION",t.IMAGE_OTHER="IMAGE_OTHER"})(Au||(Au={}));var Ru;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(Ru||(Ru={}));var Nu;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Nu||(Nu={}));var Pu;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Pu||(Pu={}));var xu;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(xu||(xu={}));var Mu;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Mu||(Mu={}));var Ji;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(Ji||(Ji={}));var ku;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(ku||(ku={}));var Du;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Du||(Du={}));var Lu;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Lu||(Lu={}));var zs;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(zs||(zs={}));var Uu;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(Uu||(Uu={}));var Fu;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",t.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(Fu||(Fu={}));var Vu;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(Vu||(Vu={}));var Gu;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(Gu||(Gu={}));var Hu;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(Hu||(Hu={}));var Bu;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Bu||(Bu={}));var qu;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(qu||(qu={}));var zu;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(zu||(zu={}));var $u;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})($u||($u={}));var Ju;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(Ju||(Ju={}));var Ou;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Ou||(Ou={}));var Wu;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Wu||(Wu={}));var Ku;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Ku||(Ku={}));var Yu;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Yu||(Yu={}));var Qu;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(Qu||(Qu={}));var Xu;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(Xu||(Xu={}));var Zu;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(Zu||(Zu={}));var bu;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(bu||(bu={}));var ju;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(ju||(ju={}));var ec;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(ec||(ec={}));var tc;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(tc||(tc={}));var nc;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(nc||(nc={}));var oc;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(oc||(oc={}));var ic;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(ic||(ic={}));var rc;(function(t){t.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",t.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",t.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(rc||(rc={}));var sc;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(sc||(sc={}));var lc;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(lc||(lc={}));var ac;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(ac||(ac={}));var uc;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(uc||(uc={}));var cc;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(cc||(cc={}));var dc;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(dc||(dc={}));var En;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(En||(En={}));class $s{constructor(e){const n={};for(const o of e.headers.entries())n[o[0]]=o[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class Xn{get text(){var e,n,o,i,r,l,u,c;if(((i=(o=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let d="",f=!1;const m=[];for(const p of(c=(u=(l=(r=this.candidates)===null||r===void 0?void 0:r[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)!==null&&c!==void 0?c:[]){for(const[h,E]of Object.entries(p))h!=="text"&&h!=="thought"&&h!=="thoughtSignature"&&(E!==null||E!==void 0)&&m.push(h);if(typeof p.text=="string"){if(typeof p.thought=="boolean"&&p.thought)continue;f=!0,d+=p.text}}return m.length>0&&console.warn(`there are non-text parts ${m} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),f?d:void 0}get data(){var e,n,o,i,r,l,u,c;if(((i=(o=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let d="";const f=[];for(const m of(c=(u=(l=(r=this.candidates)===null||r===void 0?void 0:r[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)!==null&&c!==void 0?c:[]){for(const[p,h]of Object.entries(m))p!=="inlineData"&&(h!==null||h!==void 0)&&f.push(p);m.inlineData&&typeof m.inlineData.data=="string"&&(d+=atob(m.inlineData.data))}return f.length>0&&console.warn(`there are non-data parts ${f} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),d.length>0?btoa(d):void 0}get functionCalls(){var e,n,o,i,r,l,u,c;if(((i=(o=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const d=(c=(u=(l=(r=this.candidates)===null||r===void 0?void 0:r[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(f=>f.functionCall).map(f=>f.functionCall).filter(f=>f!==void 0);if((d==null?void 0:d.length)!==0)return d}get executableCode(){var e,n,o,i,r,l,u,c,d;if(((i=(o=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const f=(c=(u=(l=(r=this.candidates)===null||r===void 0?void 0:r[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(m=>m.executableCode).map(m=>m.executableCode).filter(m=>m!==void 0);if((f==null?void 0:f.length)!==0)return(d=f==null?void 0:f[0])===null||d===void 0?void 0:d.code}get codeExecutionResult(){var e,n,o,i,r,l,u,c,d;if(((i=(o=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const f=(c=(u=(l=(r=this.candidates)===null||r===void 0?void 0:r[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(m=>m.codeExecutionResult).map(m=>m.codeExecutionResult).filter(m=>m!==void 0);if((f==null?void 0:f.length)!==0)return(d=f==null?void 0:f[0])===null||d===void 0?void 0:d.output}}class fc{}class pc{}class Kg{}class Yg{}class Qg{}class Xg{}class mc{}class hc{}class gc{}class Zg{}class Oi{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const o=new Oi;let i;const r=e;return n?i=Ug(r):i=Lg(r),Object.assign(o,i),o}}class vc{}class yc{}class Ec{}class _c{}class bg{}class jg{}class ev{}class Xl{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const o=new Xl,r=zg(e);return Object.assign(o,r),o}}class tv{}class nv{}class ov{}class Tc{}class iv{get text(){var e,n,o;let i="",r=!1;const l=[];for(const u of(o=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&o!==void 0?o:[]){for(const[c,d]of Object.entries(u))c!=="text"&&c!=="thought"&&d!==null&&l.push(c);if(typeof u.text=="string"){if(typeof u.thought=="boolean"&&u.thought)continue;r=!0,i+=u.text}}return l.length>0&&console.warn(`there are non-text parts ${l} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),r?i:void 0}get data(){var e,n,o;let i="";const r=[];for(const l of(o=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&o!==void 0?o:[]){for(const[u,c]of Object.entries(l))u!=="inlineData"&&c!==null&&r.push(u);l.inlineData&&typeof l.inlineData.data=="string"&&(i+=atob(l.inlineData.data))}return r.length>0&&console.warn(`there are non-data parts ${r} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class rv{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Zl{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const o=new Zl,r=sp(e);return Object.assign(o,r),o}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function H(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function lp(t,e){const n=H(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function ap(t){return Array.isArray(t)?t.map(e=>Wi(e)):[Wi(t)]}function Wi(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function up(t){const e=Wi(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function cp(t){const e=Wi(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Sc(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function dp(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>Sc(e)):[Sc(t)]}function Js(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function Cc(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function Ic(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function fe(t){if(t==null)throw new Error("ContentUnion is required");return Js(t)?t:{role:"user",parts:dp(t)}}function bl(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const o=fe(n);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]});if(t.isVertexAI()){const n=fe(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>fe(n)):[fe(e)]}function Ge(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(Cc(t)||Ic(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[fe(t)]}const e=[],n=[],o=Js(t[0]);for(const i of t){const r=Js(i);if(r!=o)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(r)e.push(i);else{if(Cc(i)||Ic(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return o||e.push({role:"user",parts:dp(n)}),e}function sv(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(o=>o!=="null");if(n.length===1)e.type=Object.values(It).includes(n[0].toUpperCase())?n[0].toUpperCase():It.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const o of n)e.anyOf.push({type:Object.values(It).includes(o.toUpperCase())?o.toUpperCase():It.TYPE_UNSPECIFIED})}}function Rn(t){const e={},n=["items"],o=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const r=t.anyOf;r!=null&&r.length==2&&(r[0].type==="null"?(e.nullable=!0,t=r[1]):r[1].type==="null"&&(e.nullable=!0,t=r[0])),t.type instanceof Array&&sv(t.type,e);for(const[l,u]of Object.entries(t))if(u!=null)if(l=="type"){if(u==="null")throw new Error("type: null can not be the only possible type for the field.");if(u instanceof Array)continue;e.type=Object.values(It).includes(u.toUpperCase())?u.toUpperCase():It.TYPE_UNSPECIFIED}else if(n.includes(l))e[l]=Rn(u);else if(o.includes(l)){const c=[];for(const d of u){if(d.type=="null"){e.nullable=!0;continue}c.push(Rn(d))}e[l]=c}else if(i.includes(l)){const c={};for(const[d,f]of Object.entries(u))c[d]=Rn(f);e[l]=c}else{if(l==="additionalProperties")continue;e[l]=u}return e}function jl(t){return Rn(t)}function ea(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function ta(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function Hn(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Rn(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Rn(e.response));return t}function Bn(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function lv(t,e,n,o=1){const i=!e.startsWith(`${n}/`)&&e.split("/").length===o;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:i?`${n}/${e}`:e}function ht(t,e){if(typeof e!="string")throw new Error("name must be a string");return lv(t,e,"cachedContents")}function fp(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function Gt(t){return Ql(t)}function av(t){return t!=null&&typeof t=="object"&&"name"in t}function uv(t){return t!=null&&typeof t=="object"&&"video"in t}function cv(t){return t!=null&&typeof t=="object"&&"uri"in t}function pp(t){var e;let n;if(av(t)&&(n=t.name),!(cv(t)&&(n=t.uri,n===void 0))&&!(uv(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function mp(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function hp(t){for(const e of["models","tunedModels","publisherModels"])if(dv(t,e))return t[e];return[]}function dv(t,e){return t!==null&&typeof t=="object"&&e in t}function fv(t,e={}){const n=t,o={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(o.responseJsonSchema=n.outputSchema),e.behavior&&(o.behavior=e.behavior),{functionDeclarations:[o]}}function pv(t,e={}){const n=[],o=new Set;for(const i of t){const r=i.name;if(o.has(r))throw new Error(`Duplicate function name ${r} found in MCP tools. Please ensure function names are unique.`);o.add(r);const l=fv(i,e);l.functionDeclarations&&n.push(...l.functionDeclarations)}return{functionDeclarations:n}}function gp(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const o=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(i>0||o!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(o>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function mv(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function vp(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return t;let r=!1;for(const l of i){if(typeof l!="object"||l===null)continue;const c=l.response;if(typeof c!="object"||c===null)continue;if(c.embedding!==void 0){r=!0;break}}return r&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function qn(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function yp(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function hv(t){const e={},n=s(t,["responsesFile"]);n!=null&&a(e,["fileName"],n);const o=s(t,["inlinedResponses","inlinedResponses"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(l=>Qv(l))),a(e,["inlinedResponses"],r)}const i=s(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(l=>l)),a(e,["inlinedEmbedContentResponses"],r)}return e}function gv(t){const e={},n=s(t,["predictionsFormat"]);n!=null&&a(e,["format"],n);const o=s(t,["gcsDestination","outputUriPrefix"]);o!=null&&a(e,["gcsUri"],o);const i=s(t,["bigqueryDestination","outputUri"]);return i!=null&&a(e,["bigqueryUri"],i),e}function vv(t){const e={},n=s(t,["format"]);n!=null&&a(e,["predictionsFormat"],n);const o=s(t,["gcsUri"]);o!=null&&a(e,["gcsDestination","outputUriPrefix"],o);const i=s(t,["bigqueryUri"]);if(i!=null&&a(e,["bigqueryDestination","outputUri"],i),s(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(s(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(s(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function yi(t){const e={},n=s(t,["name"]);n!=null&&a(e,["name"],n);const o=s(t,["metadata","displayName"]);o!=null&&a(e,["displayName"],o);const i=s(t,["metadata","state"]);i!=null&&a(e,["state"],yp(i));const r=s(t,["metadata","createTime"]);r!=null&&a(e,["createTime"],r);const l=s(t,["metadata","endTime"]);l!=null&&a(e,["endTime"],l);const u=s(t,["metadata","updateTime"]);u!=null&&a(e,["updateTime"],u);const c=s(t,["metadata","model"]);c!=null&&a(e,["model"],c);const d=s(t,["metadata","output"]);return d!=null&&a(e,["dest"],hv(vp(d))),e}function Os(t){const e={},n=s(t,["name"]);n!=null&&a(e,["name"],n);const o=s(t,["displayName"]);o!=null&&a(e,["displayName"],o);const i=s(t,["state"]);i!=null&&a(e,["state"],yp(i));const r=s(t,["error"]);r!=null&&a(e,["error"],r);const l=s(t,["createTime"]);l!=null&&a(e,["createTime"],l);const u=s(t,["startTime"]);u!=null&&a(e,["startTime"],u);const c=s(t,["endTime"]);c!=null&&a(e,["endTime"],c);const d=s(t,["updateTime"]);d!=null&&a(e,["updateTime"],d);const f=s(t,["model"]);f!=null&&a(e,["model"],f);const m=s(t,["inputConfig"]);m!=null&&a(e,["src"],yv(m));const p=s(t,["outputConfig"]);p!=null&&a(e,["dest"],gv(vp(p)));const h=s(t,["completionStats"]);return h!=null&&a(e,["completionStats"],h),e}function yv(t){const e={},n=s(t,["instancesFormat"]);n!=null&&a(e,["format"],n);const o=s(t,["gcsSource","uris"]);o!=null&&a(e,["gcsUri"],o);const i=s(t,["bigquerySource","inputUri"]);return i!=null&&a(e,["bigqueryUri"],i),e}function Ev(t,e){const n={};if(s(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(s(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(s(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const o=s(e,["fileName"]);o!=null&&a(n,["fileName"],o);const i=s(e,["inlinedRequests"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(l=>Yv(t,l))),a(n,["requests","requests"],r)}return n}function _v(t){const e={},n=s(t,["format"]);n!=null&&a(e,["instancesFormat"],n);const o=s(t,["gcsUri"]);o!=null&&a(e,["gcsSource","uris"],o);const i=s(t,["bigqueryUri"]);if(i!=null&&a(e,["bigquerySource","inputUri"],i),s(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(s(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function Tv(t){const e={},n=s(t,["data"]);if(n!=null&&a(e,["data"],n),s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(t,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function Sv(t,e){const n={},o=s(e,["name"]);return o!=null&&a(n,["_url","name"],qn(t,o)),n}function Cv(t,e){const n={},o=s(e,["name"]);return o!=null&&a(n,["_url","name"],qn(t,o)),n}function Iv(t){const e={},n=s(t,["content"]);n!=null&&a(e,["content"],n);const o=s(t,["citationMetadata"]);o!=null&&a(e,["citationMetadata"],wv(o));const i=s(t,["tokenCount"]);i!=null&&a(e,["tokenCount"],i);const r=s(t,["finishReason"]);r!=null&&a(e,["finishReason"],r);const l=s(t,["avgLogprobs"]);l!=null&&a(e,["avgLogprobs"],l);const u=s(t,["groundingMetadata"]);u!=null&&a(e,["groundingMetadata"],u);const c=s(t,["index"]);c!=null&&a(e,["index"],c);const d=s(t,["logprobsResult"]);d!=null&&a(e,["logprobsResult"],d);const f=s(t,["safetyRatings"]);if(f!=null){let p=f;Array.isArray(p)&&(p=p.map(h=>h)),a(e,["safetyRatings"],p)}const m=s(t,["urlContextMetadata"]);return m!=null&&a(e,["urlContextMetadata"],m),e}function wv(t){const e={},n=s(t,["citationSources"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(i=>i)),a(e,["citations"],o)}return e}function Ep(t){const e={},n=s(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>ny(r))),a(e,["parts"],i)}const o=s(t,["role"]);return o!=null&&a(e,["role"],o),e}function Av(t,e){const n={},o=s(t,["displayName"]);if(e!==void 0&&o!=null&&a(e,["batch","displayName"],o),s(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function Rv(t,e){const n={},o=s(t,["displayName"]);e!==void 0&&o!=null&&a(e,["displayName"],o);const i=s(t,["dest"]);return e!==void 0&&i!=null&&a(e,["outputConfig"],vv(mv(i))),n}function wc(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","model"],H(t,o));const i=s(e,["src"]);i!=null&&a(n,["batch","inputConfig"],Ev(t,gp(t,i)));const r=s(e,["config"]);return r!=null&&Av(r,n),n}function Nv(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["model"],H(t,o));const i=s(e,["src"]);i!=null&&a(n,["inputConfig"],_v(gp(t,i)));const r=s(e,["config"]);return r!=null&&Rv(r,n),n}function Pv(t,e){const n={},o=s(t,["displayName"]);return e!==void 0&&o!=null&&a(e,["batch","displayName"],o),n}function xv(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","model"],H(t,o));const i=s(e,["src"]);i!=null&&a(n,["batch","inputConfig"],Vv(t,i));const r=s(e,["config"]);return r!=null&&Pv(r,n),n}function Mv(t,e){const n={},o=s(e,["name"]);return o!=null&&a(n,["_url","name"],qn(t,o)),n}function kv(t,e){const n={},o=s(e,["name"]);return o!=null&&a(n,["_url","name"],qn(t,o)),n}function Dv(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["name"]);o!=null&&a(e,["name"],o);const i=s(t,["done"]);i!=null&&a(e,["done"],i);const r=s(t,["error"]);return r!=null&&a(e,["error"],r),e}function Lv(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["name"]);o!=null&&a(e,["name"],o);const i=s(t,["done"]);i!=null&&a(e,["done"],i);const r=s(t,["error"]);return r!=null&&a(e,["error"],r),e}function Uv(t,e){const n={},o=s(e,["contents"]);if(o!=null){let r=bl(t,o);Array.isArray(r)&&(r=r.map(l=>l)),a(n,["requests[]","request","content"],r)}const i=s(e,["config"]);return i!=null&&(a(n,["_self"],Fv(i,n)),kg(n,{"requests[].*":"requests[].request.*"})),n}function Fv(t,e){const n={},o=s(t,["taskType"]);e!==void 0&&o!=null&&a(e,["requests[]","taskType"],o);const i=s(t,["title"]);e!==void 0&&i!=null&&a(e,["requests[]","title"],i);const r=s(t,["outputDimensionality"]);if(e!==void 0&&r!=null&&a(e,["requests[]","outputDimensionality"],r),s(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(s(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function Vv(t,e){const n={},o=s(e,["fileName"]);o!=null&&a(n,["file_name"],o);const i=s(e,["inlinedRequests"]);return i!=null&&a(n,["requests"],Uv(t,i)),n}function Gv(t){const e={};if(s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=s(t,["fileUri"]);n!=null&&a(e,["fileUri"],n);const o=s(t,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function Hv(t){const e={},n=s(t,["id"]);n!=null&&a(e,["id"],n);const o=s(t,["args"]);o!=null&&a(e,["args"],o);const i=s(t,["name"]);if(i!=null&&a(e,["name"],i),s(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(s(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Bv(t){const e={},n=s(t,["mode"]);n!=null&&a(e,["mode"],n);const o=s(t,["allowedFunctionNames"]);if(o!=null&&a(e,["allowedFunctionNames"],o),s(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function qv(t,e,n){const o={},i=s(e,["systemInstruction"]);n!==void 0&&i!=null&&a(n,["systemInstruction"],Ep(fe(i)));const r=s(e,["temperature"]);r!=null&&a(o,["temperature"],r);const l=s(e,["topP"]);l!=null&&a(o,["topP"],l);const u=s(e,["topK"]);u!=null&&a(o,["topK"],u);const c=s(e,["candidateCount"]);c!=null&&a(o,["candidateCount"],c);const d=s(e,["maxOutputTokens"]);d!=null&&a(o,["maxOutputTokens"],d);const f=s(e,["stopSequences"]);f!=null&&a(o,["stopSequences"],f);const m=s(e,["responseLogprobs"]);m!=null&&a(o,["responseLogprobs"],m);const p=s(e,["logprobs"]);p!=null&&a(o,["logprobs"],p);const h=s(e,["presencePenalty"]);h!=null&&a(o,["presencePenalty"],h);const E=s(e,["frequencyPenalty"]);E!=null&&a(o,["frequencyPenalty"],E);const _=s(e,["seed"]);_!=null&&a(o,["seed"],_);const T=s(e,["responseMimeType"]);T!=null&&a(o,["responseMimeType"],T);const v=s(e,["responseSchema"]);v!=null&&a(o,["responseSchema"],jl(v));const g=s(e,["responseJsonSchema"]);if(g!=null&&a(o,["responseJsonSchema"],g),s(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(s(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const y=s(e,["safetySettings"]);if(n!==void 0&&y!=null){let z=y;Array.isArray(z)&&(z=z.map(Ae=>oy(Ae))),a(n,["safetySettings"],z)}const S=s(e,["tools"]);if(n!==void 0&&S!=null){let z=Bn(S);Array.isArray(z)&&(z=z.map(Ae=>ry(Hn(Ae)))),a(n,["tools"],z)}const C=s(e,["toolConfig"]);if(n!==void 0&&C!=null&&a(n,["toolConfig"],iy(C)),s(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const w=s(e,["cachedContent"]);n!==void 0&&w!=null&&a(n,["cachedContent"],ht(t,w));const I=s(e,["responseModalities"]);I!=null&&a(o,["responseModalities"],I);const N=s(e,["mediaResolution"]);N!=null&&a(o,["mediaResolution"],N);const x=s(e,["speechConfig"]);if(x!=null&&a(o,["speechConfig"],ea(x)),s(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const k=s(e,["thinkingConfig"]);k!=null&&a(o,["thinkingConfig"],k);const B=s(e,["imageConfig"]);B!=null&&a(o,["imageConfig"],Kv(B));const _e=s(e,["enableEnhancedCivicAnswers"]);return _e!=null&&a(o,["enableEnhancedCivicAnswers"],_e),o}function zv(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["candidates"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>Iv(d))),a(e,["candidates"],c)}const i=s(t,["modelVersion"]);i!=null&&a(e,["modelVersion"],i);const r=s(t,["promptFeedback"]);r!=null&&a(e,["promptFeedback"],r);const l=s(t,["responseId"]);l!=null&&a(e,["responseId"],l);const u=s(t,["usageMetadata"]);return u!=null&&a(e,["usageMetadata"],u),e}function $v(t,e){const n={},o=s(e,["name"]);return o!=null&&a(n,["_url","name"],qn(t,o)),n}function Jv(t,e){const n={},o=s(e,["name"]);return o!=null&&a(n,["_url","name"],qn(t,o)),n}function Ov(t){const e={};if(s(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=s(t,["enableWidget"]);return n!=null&&a(e,["enableWidget"],n),e}function Wv(t){const e={};if(s(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(s(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=s(t,["timeRangeFilter"]);return n!=null&&a(e,["timeRangeFilter"],n),e}function Kv(t){const e={},n=s(t,["aspectRatio"]);n!=null&&a(e,["aspectRatio"],n);const o=s(t,["imageSize"]);if(o!=null&&a(e,["imageSize"],o),s(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(s(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function Yv(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["request","model"],H(t,o));const i=s(e,["contents"]);if(i!=null){let u=Ge(i);Array.isArray(u)&&(u=u.map(c=>Ep(c))),a(n,["request","contents"],u)}const r=s(e,["metadata"]);r!=null&&a(n,["metadata"],r);const l=s(e,["config"]);return l!=null&&a(n,["request","generationConfig"],qv(t,l,s(n,["request"],{}))),n}function Qv(t){const e={},n=s(t,["response"]);n!=null&&a(e,["response"],zv(n));const o=s(t,["error"]);return o!=null&&a(e,["error"],o),e}function Xv(t,e){const n={},o=s(t,["pageSize"]);e!==void 0&&o!=null&&a(e,["_query","pageSize"],o);const i=s(t,["pageToken"]);if(e!==void 0&&i!=null&&a(e,["_query","pageToken"],i),s(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function Zv(t,e){const n={},o=s(t,["pageSize"]);e!==void 0&&o!=null&&a(e,["_query","pageSize"],o);const i=s(t,["pageToken"]);e!==void 0&&i!=null&&a(e,["_query","pageToken"],i);const r=s(t,["filter"]);return e!==void 0&&r!=null&&a(e,["_query","filter"],r),n}function bv(t){const e={},n=s(t,["config"]);return n!=null&&Xv(n,e),e}function jv(t){const e={},n=s(t,["config"]);return n!=null&&Zv(n,e),e}function ey(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["nextPageToken"]);o!=null&&a(e,["nextPageToken"],o);const i=s(t,["operations"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(l=>yi(l))),a(e,["batchJobs"],r)}return e}function ty(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["nextPageToken"]);o!=null&&a(e,["nextPageToken"],o);const i=s(t,["batchPredictionJobs"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(l=>Os(l))),a(e,["batchJobs"],r)}return e}function ny(t){const e={},n=s(t,["mediaResolution"]);n!=null&&a(e,["mediaResolution"],n);const o=s(t,["codeExecutionResult"]);o!=null&&a(e,["codeExecutionResult"],o);const i=s(t,["executableCode"]);i!=null&&a(e,["executableCode"],i);const r=s(t,["fileData"]);r!=null&&a(e,["fileData"],Gv(r));const l=s(t,["functionCall"]);l!=null&&a(e,["functionCall"],Hv(l));const u=s(t,["functionResponse"]);u!=null&&a(e,["functionResponse"],u);const c=s(t,["inlineData"]);c!=null&&a(e,["inlineData"],Tv(c));const d=s(t,["text"]);d!=null&&a(e,["text"],d);const f=s(t,["thought"]);f!=null&&a(e,["thought"],f);const m=s(t,["thoughtSignature"]);m!=null&&a(e,["thoughtSignature"],m);const p=s(t,["videoMetadata"]);return p!=null&&a(e,["videoMetadata"],p),e}function oy(t){const e={},n=s(t,["category"]);if(n!=null&&a(e,["category"],n),s(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const o=s(t,["threshold"]);return o!=null&&a(e,["threshold"],o),e}function iy(t){const e={},n=s(t,["functionCallingConfig"]);n!=null&&a(e,["functionCallingConfig"],Bv(n));const o=s(t,["retrievalConfig"]);return o!=null&&a(e,["retrievalConfig"],o),e}function ry(t){const e={},n=s(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(m=>m)),a(e,["functionDeclarations"],f)}if(s(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=s(t,["googleSearchRetrieval"]);o!=null&&a(e,["googleSearchRetrieval"],o);const i=s(t,["computerUse"]);i!=null&&a(e,["computerUse"],i);const r=s(t,["fileSearch"]);r!=null&&a(e,["fileSearch"],r);const l=s(t,["codeExecution"]);if(l!=null&&a(e,["codeExecution"],l),s(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=s(t,["googleMaps"]);u!=null&&a(e,["googleMaps"],Ov(u));const c=s(t,["googleSearch"]);c!=null&&a(e,["googleSearch"],Wv(c));const d=s(t,["urlContext"]);return d!=null&&a(e,["urlContext"],d),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var ft;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(ft||(ft={}));class on{constructor(e,n,o,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,o,i)}init(e,n,o){var i,r;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let l={config:{}};!o||Object.keys(o).length===0?l={config:{}}:typeof o=="object"?l=Object.assign({},o):l=o,l.config&&(l.config.pageToken=n.nextPageToken),this.paramsInternal=l,this.pageInternalSize=(r=(i=l.config)===null||i===void 0?void 0:i.pageSize)!==null&&r!==void 0?r:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class sy extends mt{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new on(ft.PAGED_ITEM_BATCH_JOBS,o=>this.listInternal(o),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(e){const n=wc(this.apiClient,e),o=n._url,i=P("{model}:batchGenerateContent",o),u=n.batch.inputConfig.requests,c=u.requests,d=[];for(const f of c){const m=Object.assign({},f);if(m.systemInstruction){const p=m.systemInstruction;delete m.systemInstruction;const h=m.request;h.systemInstruction=p,m.request=h}d.push(m)}return u.requests=d,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const o=n?Object.assign({},n):{},i=Date.now().toString();if(o.displayName||(o.displayName=`genaiBatchJob_${i}`),o.dest===void 0){const r=this.getGcsUri(e),l=this.getBigqueryUri(e);if(r)r.endsWith(".jsonl")?o.dest=`${r.slice(0,-6)}/dest`:o.dest=`${r}_dest_${i}`;else if(l)o.dest=`${l}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return o}async createInternal(e){var n,o,i,r;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=Nv(this.apiClient,e);return u=P("batchPredictionJobs",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>Os(f))}else{const d=wc(this.apiClient,e);return u=P("{model}:batchGenerateContent",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),l.then(f=>yi(f))}}async createEmbeddingsInternal(e){var n,o;let i,r="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=xv(this.apiClient,e);return r=P("{model}:asyncBatchEmbedContent",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),i.then(c=>yi(c))}}async get(e){var n,o,i,r;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=Jv(this.apiClient,e);return u=P("batchPredictionJobs/{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>Os(f))}else{const d=$v(this.apiClient,e);return u=P("batches/{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),l.then(f=>yi(f))}}async cancel(e){var n,o,i,r;let l="",u={};if(this.apiClient.isVertexAI()){const c=Cv(this.apiClient,e);l=P("batchPredictionJobs/{name}:cancel",c._url),u=c._query,delete c._url,delete c._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}else{const c=Sv(this.apiClient,e);l=P("batches/{name}:cancel",c._url),u=c._query,delete c._url,delete c._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,o,i,r;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=jv(e);return u=P("batchPredictionJobs",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const m=ty(f),p=new Tc;return Object.assign(p,m),p})}else{const d=bv(e);return u=P("batches",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const m=ey(f),p=new Tc;return Object.assign(p,m),p})}}async delete(e){var n,o,i,r;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=kv(this.apiClient,e);return u=P("batchPredictionJobs/{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>Lv(f))}else{const d=Mv(this.apiClient,e);return u=P("batches/{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>Dv(f))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ly(t){const e={},n=s(t,["data"]);if(n!=null&&a(e,["data"],n),s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(t,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function Ac(t){const e={},n=s(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>xy(r))),a(e,["parts"],i)}const o=s(t,["role"]);return o!=null&&a(e,["role"],o),e}function ay(t,e){const n={},o=s(t,["ttl"]);e!==void 0&&o!=null&&a(e,["ttl"],o);const i=s(t,["expireTime"]);e!==void 0&&i!=null&&a(e,["expireTime"],i);const r=s(t,["displayName"]);e!==void 0&&r!=null&&a(e,["displayName"],r);const l=s(t,["contents"]);if(e!==void 0&&l!=null){let f=Ge(l);Array.isArray(f)&&(f=f.map(m=>Ac(m))),a(e,["contents"],f)}const u=s(t,["systemInstruction"]);e!==void 0&&u!=null&&a(e,["systemInstruction"],Ac(fe(u)));const c=s(t,["tools"]);if(e!==void 0&&c!=null){let f=c;Array.isArray(f)&&(f=f.map(m=>ky(m))),a(e,["tools"],f)}const d=s(t,["toolConfig"]);if(e!==void 0&&d!=null&&a(e,["toolConfig"],My(d)),s(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function uy(t,e){const n={},o=s(t,["ttl"]);e!==void 0&&o!=null&&a(e,["ttl"],o);const i=s(t,["expireTime"]);e!==void 0&&i!=null&&a(e,["expireTime"],i);const r=s(t,["displayName"]);e!==void 0&&r!=null&&a(e,["displayName"],r);const l=s(t,["contents"]);if(e!==void 0&&l!=null){let m=Ge(l);Array.isArray(m)&&(m=m.map(p=>p)),a(e,["contents"],m)}const u=s(t,["systemInstruction"]);e!==void 0&&u!=null&&a(e,["systemInstruction"],fe(u));const c=s(t,["tools"]);if(e!==void 0&&c!=null){let m=c;Array.isArray(m)&&(m=m.map(p=>Dy(p))),a(e,["tools"],m)}const d=s(t,["toolConfig"]);e!==void 0&&d!=null&&a(e,["toolConfig"],d);const f=s(t,["kmsKeyName"]);return e!==void 0&&f!=null&&a(e,["encryption_spec","kmsKeyName"],f),n}function cy(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["model"],lp(t,o));const i=s(e,["config"]);return i!=null&&ay(i,n),n}function dy(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["model"],lp(t,o));const i=s(e,["config"]);return i!=null&&uy(i,n),n}function fy(t,e){const n={},o=s(e,["name"]);return o!=null&&a(n,["_url","name"],ht(t,o)),n}function py(t,e){const n={},o=s(e,["name"]);return o!=null&&a(n,["_url","name"],ht(t,o)),n}function my(t){const e={},n=s(t,["sdkHttpResponse"]);return n!=null&&a(e,["sdkHttpResponse"],n),e}function hy(t){const e={},n=s(t,["sdkHttpResponse"]);return n!=null&&a(e,["sdkHttpResponse"],n),e}function gy(t){const e={};if(s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=s(t,["fileUri"]);n!=null&&a(e,["fileUri"],n);const o=s(t,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function vy(t){const e={},n=s(t,["id"]);n!=null&&a(e,["id"],n);const o=s(t,["args"]);o!=null&&a(e,["args"],o);const i=s(t,["name"]);if(i!=null&&a(e,["name"],i),s(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(s(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function yy(t){const e={},n=s(t,["mode"]);n!=null&&a(e,["mode"],n);const o=s(t,["allowedFunctionNames"]);if(o!=null&&a(e,["allowedFunctionNames"],o),s(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Ey(t){const e={};if(s(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=s(t,["description"]);n!=null&&a(e,["description"],n);const o=s(t,["name"]);o!=null&&a(e,["name"],o);const i=s(t,["parameters"]);i!=null&&a(e,["parameters"],i);const r=s(t,["parametersJsonSchema"]);r!=null&&a(e,["parametersJsonSchema"],r);const l=s(t,["response"]);l!=null&&a(e,["response"],l);const u=s(t,["responseJsonSchema"]);return u!=null&&a(e,["responseJsonSchema"],u),e}function _y(t,e){const n={},o=s(e,["name"]);return o!=null&&a(n,["_url","name"],ht(t,o)),n}function Ty(t,e){const n={},o=s(e,["name"]);return o!=null&&a(n,["_url","name"],ht(t,o)),n}function Sy(t){const e={};if(s(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=s(t,["enableWidget"]);return n!=null&&a(e,["enableWidget"],n),e}function Cy(t){const e={};if(s(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(s(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=s(t,["timeRangeFilter"]);return n!=null&&a(e,["timeRangeFilter"],n),e}function Iy(t,e){const n={},o=s(t,["pageSize"]);e!==void 0&&o!=null&&a(e,["_query","pageSize"],o);const i=s(t,["pageToken"]);return e!==void 0&&i!=null&&a(e,["_query","pageToken"],i),n}function wy(t,e){const n={},o=s(t,["pageSize"]);e!==void 0&&o!=null&&a(e,["_query","pageSize"],o);const i=s(t,["pageToken"]);return e!==void 0&&i!=null&&a(e,["_query","pageToken"],i),n}function Ay(t){const e={},n=s(t,["config"]);return n!=null&&Iy(n,e),e}function Ry(t){const e={},n=s(t,["config"]);return n!=null&&wy(n,e),e}function Ny(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["nextPageToken"]);o!=null&&a(e,["nextPageToken"],o);const i=s(t,["cachedContents"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(l=>l)),a(e,["cachedContents"],r)}return e}function Py(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["nextPageToken"]);o!=null&&a(e,["nextPageToken"],o);const i=s(t,["cachedContents"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(l=>l)),a(e,["cachedContents"],r)}return e}function xy(t){const e={},n=s(t,["mediaResolution"]);n!=null&&a(e,["mediaResolution"],n);const o=s(t,["codeExecutionResult"]);o!=null&&a(e,["codeExecutionResult"],o);const i=s(t,["executableCode"]);i!=null&&a(e,["executableCode"],i);const r=s(t,["fileData"]);r!=null&&a(e,["fileData"],gy(r));const l=s(t,["functionCall"]);l!=null&&a(e,["functionCall"],vy(l));const u=s(t,["functionResponse"]);u!=null&&a(e,["functionResponse"],u);const c=s(t,["inlineData"]);c!=null&&a(e,["inlineData"],ly(c));const d=s(t,["text"]);d!=null&&a(e,["text"],d);const f=s(t,["thought"]);f!=null&&a(e,["thought"],f);const m=s(t,["thoughtSignature"]);m!=null&&a(e,["thoughtSignature"],m);const p=s(t,["videoMetadata"]);return p!=null&&a(e,["videoMetadata"],p),e}function My(t){const e={},n=s(t,["functionCallingConfig"]);n!=null&&a(e,["functionCallingConfig"],yy(n));const o=s(t,["retrievalConfig"]);return o!=null&&a(e,["retrievalConfig"],o),e}function ky(t){const e={},n=s(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(m=>m)),a(e,["functionDeclarations"],f)}if(s(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=s(t,["googleSearchRetrieval"]);o!=null&&a(e,["googleSearchRetrieval"],o);const i=s(t,["computerUse"]);i!=null&&a(e,["computerUse"],i);const r=s(t,["fileSearch"]);r!=null&&a(e,["fileSearch"],r);const l=s(t,["codeExecution"]);if(l!=null&&a(e,["codeExecution"],l),s(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=s(t,["googleMaps"]);u!=null&&a(e,["googleMaps"],Sy(u));const c=s(t,["googleSearch"]);c!=null&&a(e,["googleSearch"],Cy(c));const d=s(t,["urlContext"]);return d!=null&&a(e,["urlContext"],d),e}function Dy(t){const e={},n=s(t,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(p=>Ey(p))),a(e,["functionDeclarations"],m)}const o=s(t,["retrieval"]);o!=null&&a(e,["retrieval"],o);const i=s(t,["googleSearchRetrieval"]);i!=null&&a(e,["googleSearchRetrieval"],i);const r=s(t,["computerUse"]);if(r!=null&&a(e,["computerUse"],r),s(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=s(t,["codeExecution"]);l!=null&&a(e,["codeExecution"],l);const u=s(t,["enterpriseWebSearch"]);u!=null&&a(e,["enterpriseWebSearch"],u);const c=s(t,["googleMaps"]);c!=null&&a(e,["googleMaps"],c);const d=s(t,["googleSearch"]);d!=null&&a(e,["googleSearch"],d);const f=s(t,["urlContext"]);return f!=null&&a(e,["urlContext"],f),e}function Ly(t,e){const n={},o=s(t,["ttl"]);e!==void 0&&o!=null&&a(e,["ttl"],o);const i=s(t,["expireTime"]);return e!==void 0&&i!=null&&a(e,["expireTime"],i),n}function Uy(t,e){const n={},o=s(t,["ttl"]);e!==void 0&&o!=null&&a(e,["ttl"],o);const i=s(t,["expireTime"]);return e!==void 0&&i!=null&&a(e,["expireTime"],i),n}function Fy(t,e){const n={},o=s(e,["name"]);o!=null&&a(n,["_url","name"],ht(t,o));const i=s(e,["config"]);return i!=null&&Ly(i,n),n}function Vy(t,e){const n={},o=s(e,["name"]);o!=null&&a(n,["_url","name"],ht(t,o));const i=s(e,["config"]);return i!=null&&Uy(i,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Gy extends mt{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new on(ft.PAGED_ITEM_CACHED_CONTENTS,o=>this.listInternal(o),await this.listInternal(n),n)}async create(e){var n,o,i,r;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=dy(this.apiClient,e);return u=P("cachedContents",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>f)}else{const d=cy(this.apiClient,e);return u=P("cachedContents",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),l.then(f=>f)}}async get(e){var n,o,i,r;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=Ty(this.apiClient,e);return u=P("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>f)}else{const d=_y(this.apiClient,e);return u=P("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),l.then(f=>f)}}async delete(e){var n,o,i,r;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=py(this.apiClient,e);return u=P("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const m=hy(f),p=new Ec;return Object.assign(p,m),p})}else{const d=fy(this.apiClient,e);return u=P("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const m=my(f),p=new Ec;return Object.assign(p,m),p})}}async update(e){var n,o,i,r;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=Vy(this.apiClient,e);return u=P("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>f)}else{const d=Fy(this.apiClient,e);return u=P("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),l.then(f=>f)}}async listInternal(e){var n,o,i,r;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=Ry(e);return u=P("cachedContents",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const m=Py(f),p=new _c;return Object.assign(p,m),p})}else{const d=Ay(e);return u=P("cachedContents",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const m=Ny(f),p=new _c;return Object.assign(p,m),p})}}}function Ki(t,e){var n={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(n[o]=t[o]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,o=Object.getOwnPropertySymbols(t);i<o.length;i++)e.indexOf(o[i])<0&&Object.prototype.propertyIsEnumerable.call(t,o[i])&&(n[o[i]]=t[o[i]]);return n}function Rc(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],o=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function L(t){return this instanceof L?(this.v=t,this):new L(t)}function Ye(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=n.apply(t,e||[]),i,r=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",l),i[Symbol.asyncIterator]=function(){return this},i;function l(h){return function(E){return Promise.resolve(E).then(h,m)}}function u(h,E){o[h]&&(i[h]=function(_){return new Promise(function(T,v){r.push([h,_,T,v])>1||c(h,_)})},E&&(i[h]=E(i[h])))}function c(h,E){try{d(o[h](E))}catch(_){p(r[0][3],_)}}function d(h){h.value instanceof L?Promise.resolve(h.value.v).then(f,m):p(r[0][2],h)}function f(h){c("next",h)}function m(h){c("throw",h)}function p(h,E){h(E),r.shift(),r.length&&c(r[0][0],r[0][1])}}function Qe(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Rc=="function"?Rc(t):t[Symbol.iterator](),n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n);function o(r){n[r]=t[r]&&function(l){return new Promise(function(u,c){l=t[r](l),i(u,c,l.done,l.value)})}}function i(r,l,u,c){Promise.resolve(c).then(function(d){r({value:d,done:u})},l)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Hy(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:_p(n)}function _p(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function By(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function Nc(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let o=0;for(;o<n;)if(t[o].role==="user")e.push(t[o]),o++;else{const i=[];let r=!0;for(;o<n&&t[o].role==="model";)i.push(t[o]),r&&!_p(t[o])&&(r=!1),o++;r?e.push(...i):e.pop()}return e}class qy{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new zy(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class zy{constructor(e,n,o,i={},r=[]){this.apiClient=e,this.modelsModule=n,this.model=o,this.config=i,this.history=r,this.sendPromise=Promise.resolve(),By(r)}async sendMessage(e){var n;await this.sendPromise;const o=fe(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(o),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var r,l,u;const c=await i,d=(l=(r=c.candidates)===null||r===void 0?void 0:r[0])===null||l===void 0?void 0:l.content,f=c.automaticFunctionCallingHistory,m=this.getHistory(!0).length;let p=[];f!=null&&(p=(u=f.slice(m))!==null&&u!==void 0?u:[]);const h=d?[d]:[];this.recordHistory(o,h,p)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var n;await this.sendPromise;const o=fe(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(o),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const r=await i;return this.processStreamResponse(r,o)}getHistory(e=!1){const n=e?Nc(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){return Ye(this,arguments,function*(){var i,r,l,u,c,d;const f=[];try{for(var m=!0,p=Qe(e),h;h=yield L(p.next()),i=h.done,!i;m=!0){u=h.value,m=!1;const E=u;if(Hy(E)){const _=(d=(c=E.candidates)===null||c===void 0?void 0:c[0])===null||d===void 0?void 0:d.content;_!==void 0&&f.push(_)}yield yield L(E)}}catch(E){r={error:E}}finally{try{!m&&!i&&(l=p.return)&&(yield L(l.call(p)))}finally{if(r)throw r.error}}this.recordHistory(n,f)})}recordHistory(e,n,o){let i=[];n.length>0&&n.every(r=>r.role!==void 0)?i=n:i.push({role:"model",parts:[]}),o&&o.length>0?this.history.push(...Nc(o)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class fr extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,fr.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $y(t){const e={},n=s(t,["file"]);return n!=null&&a(e,["file"],n),e}function Jy(t){const e={},n=s(t,["sdkHttpResponse"]);return n!=null&&a(e,["sdkHttpResponse"],n),e}function Oy(t){const e={},n=s(t,["name"]);return n!=null&&a(e,["_url","file"],pp(n)),e}function Wy(t){const e={},n=s(t,["sdkHttpResponse"]);return n!=null&&a(e,["sdkHttpResponse"],n),e}function Ky(t){const e={},n=s(t,["name"]);return n!=null&&a(e,["_url","file"],pp(n)),e}function Yy(t,e){const n={},o=s(t,["pageSize"]);e!==void 0&&o!=null&&a(e,["_query","pageSize"],o);const i=s(t,["pageToken"]);return e!==void 0&&i!=null&&a(e,["_query","pageToken"],i),n}function Qy(t){const e={},n=s(t,["config"]);return n!=null&&Yy(n,e),e}function Xy(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["nextPageToken"]);o!=null&&a(e,["nextPageToken"],o);const i=s(t,["files"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(l=>l)),a(e,["files"],r)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Zy extends mt{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new on(ft.PAGED_ITEM_FILES,o=>this.listInternal(o),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,o;let i,r="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Qy(e);return r=P("files",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),i.then(c=>{const d=Xy(c),f=new tv;return Object.assign(f,d),f})}}async createInternal(e){var n,o;let i,r="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=$y(e);return r=P("upload/v1beta/files",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),i.then(c=>{const d=Jy(c),f=new nv;return Object.assign(f,d),f})}}async get(e){var n,o;let i,r="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Ky(e);return r=P("files/{file}",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async delete(e){var n,o;let i,r="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Oy(e);return r=P("files/{file}",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),i.then(c=>{const d=Wy(c),f=new ov;return Object.assign(f,d),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ei(t){const e={},n=s(t,["data"]);if(n!=null&&a(e,["data"],n),s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(t,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function by(t){const e={},n=s(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>m0(r))),a(e,["parts"],i)}const o=s(t,["role"]);return o!=null&&a(e,["role"],o),e}function jy(t){const e={};if(s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=s(t,["fileUri"]);n!=null&&a(e,["fileUri"],n);const o=s(t,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function e0(t){const e={},n=s(t,["id"]);n!=null&&a(e,["id"],n);const o=s(t,["args"]);o!=null&&a(e,["args"],o);const i=s(t,["name"]);if(i!=null&&a(e,["name"],i),s(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(s(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function t0(t){const e={};if(s(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=s(t,["description"]);n!=null&&a(e,["description"],n);const o=s(t,["name"]);o!=null&&a(e,["name"],o);const i=s(t,["parameters"]);i!=null&&a(e,["parameters"],i);const r=s(t,["parametersJsonSchema"]);r!=null&&a(e,["parametersJsonSchema"],r);const l=s(t,["response"]);l!=null&&a(e,["response"],l);const u=s(t,["responseJsonSchema"]);return u!=null&&a(e,["responseJsonSchema"],u),e}function n0(t){const e={},n=s(t,["modelSelectionConfig"]);n!=null&&a(e,["modelConfig"],n);const o=s(t,["responseJsonSchema"]);o!=null&&a(e,["responseJsonSchema"],o);const i=s(t,["audioTimestamp"]);i!=null&&a(e,["audioTimestamp"],i);const r=s(t,["candidateCount"]);r!=null&&a(e,["candidateCount"],r);const l=s(t,["enableAffectiveDialog"]);l!=null&&a(e,["enableAffectiveDialog"],l);const u=s(t,["frequencyPenalty"]);u!=null&&a(e,["frequencyPenalty"],u);const c=s(t,["logprobs"]);c!=null&&a(e,["logprobs"],c);const d=s(t,["maxOutputTokens"]);d!=null&&a(e,["maxOutputTokens"],d);const f=s(t,["mediaResolution"]);f!=null&&a(e,["mediaResolution"],f);const m=s(t,["presencePenalty"]);m!=null&&a(e,["presencePenalty"],m);const p=s(t,["responseLogprobs"]);p!=null&&a(e,["responseLogprobs"],p);const h=s(t,["responseMimeType"]);h!=null&&a(e,["responseMimeType"],h);const E=s(t,["responseModalities"]);E!=null&&a(e,["responseModalities"],E);const _=s(t,["responseSchema"]);_!=null&&a(e,["responseSchema"],_);const T=s(t,["routingConfig"]);T!=null&&a(e,["routingConfig"],T);const v=s(t,["seed"]);v!=null&&a(e,["seed"],v);const g=s(t,["speechConfig"]);g!=null&&a(e,["speechConfig"],g);const y=s(t,["stopSequences"]);y!=null&&a(e,["stopSequences"],y);const S=s(t,["temperature"]);S!=null&&a(e,["temperature"],S);const C=s(t,["thinkingConfig"]);C!=null&&a(e,["thinkingConfig"],C);const w=s(t,["topK"]);w!=null&&a(e,["topK"],w);const I=s(t,["topP"]);if(I!=null&&a(e,["topP"],I),s(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function o0(t){const e={};if(s(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=s(t,["enableWidget"]);return n!=null&&a(e,["enableWidget"],n),e}function i0(t){const e={};if(s(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(s(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=s(t,["timeRangeFilter"]);return n!=null&&a(e,["timeRangeFilter"],n),e}function r0(t,e){const n={},o=s(t,["generationConfig"]);e!==void 0&&o!=null&&a(e,["setup","generationConfig"],o);const i=s(t,["responseModalities"]);e!==void 0&&i!=null&&a(e,["setup","generationConfig","responseModalities"],i);const r=s(t,["temperature"]);e!==void 0&&r!=null&&a(e,["setup","generationConfig","temperature"],r);const l=s(t,["topP"]);e!==void 0&&l!=null&&a(e,["setup","generationConfig","topP"],l);const u=s(t,["topK"]);e!==void 0&&u!=null&&a(e,["setup","generationConfig","topK"],u);const c=s(t,["maxOutputTokens"]);e!==void 0&&c!=null&&a(e,["setup","generationConfig","maxOutputTokens"],c);const d=s(t,["mediaResolution"]);e!==void 0&&d!=null&&a(e,["setup","generationConfig","mediaResolution"],d);const f=s(t,["seed"]);e!==void 0&&f!=null&&a(e,["setup","generationConfig","seed"],f);const m=s(t,["speechConfig"]);e!==void 0&&m!=null&&a(e,["setup","generationConfig","speechConfig"],ta(m));const p=s(t,["thinkingConfig"]);e!==void 0&&p!=null&&a(e,["setup","generationConfig","thinkingConfig"],p);const h=s(t,["enableAffectiveDialog"]);e!==void 0&&h!=null&&a(e,["setup","generationConfig","enableAffectiveDialog"],h);const E=s(t,["systemInstruction"]);e!==void 0&&E!=null&&a(e,["setup","systemInstruction"],by(fe(E)));const _=s(t,["tools"]);if(e!==void 0&&_!=null){let w=Bn(_);Array.isArray(w)&&(w=w.map(I=>g0(Hn(I)))),a(e,["setup","tools"],w)}const T=s(t,["sessionResumption"]);e!==void 0&&T!=null&&a(e,["setup","sessionResumption"],h0(T));const v=s(t,["inputAudioTranscription"]);e!==void 0&&v!=null&&a(e,["setup","inputAudioTranscription"],v);const g=s(t,["outputAudioTranscription"]);e!==void 0&&g!=null&&a(e,["setup","outputAudioTranscription"],g);const y=s(t,["realtimeInputConfig"]);e!==void 0&&y!=null&&a(e,["setup","realtimeInputConfig"],y);const S=s(t,["contextWindowCompression"]);e!==void 0&&S!=null&&a(e,["setup","contextWindowCompression"],S);const C=s(t,["proactivity"]);if(e!==void 0&&C!=null&&a(e,["setup","proactivity"],C),s(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function s0(t,e){const n={},o=s(t,["generationConfig"]);e!==void 0&&o!=null&&a(e,["setup","generationConfig"],n0(o));const i=s(t,["responseModalities"]);e!==void 0&&i!=null&&a(e,["setup","generationConfig","responseModalities"],i);const r=s(t,["temperature"]);e!==void 0&&r!=null&&a(e,["setup","generationConfig","temperature"],r);const l=s(t,["topP"]);e!==void 0&&l!=null&&a(e,["setup","generationConfig","topP"],l);const u=s(t,["topK"]);e!==void 0&&u!=null&&a(e,["setup","generationConfig","topK"],u);const c=s(t,["maxOutputTokens"]);e!==void 0&&c!=null&&a(e,["setup","generationConfig","maxOutputTokens"],c);const d=s(t,["mediaResolution"]);e!==void 0&&d!=null&&a(e,["setup","generationConfig","mediaResolution"],d);const f=s(t,["seed"]);e!==void 0&&f!=null&&a(e,["setup","generationConfig","seed"],f);const m=s(t,["speechConfig"]);e!==void 0&&m!=null&&a(e,["setup","generationConfig","speechConfig"],ta(m));const p=s(t,["thinkingConfig"]);e!==void 0&&p!=null&&a(e,["setup","generationConfig","thinkingConfig"],p);const h=s(t,["enableAffectiveDialog"]);e!==void 0&&h!=null&&a(e,["setup","generationConfig","enableAffectiveDialog"],h);const E=s(t,["systemInstruction"]);e!==void 0&&E!=null&&a(e,["setup","systemInstruction"],fe(E));const _=s(t,["tools"]);if(e!==void 0&&_!=null){let I=Bn(_);Array.isArray(I)&&(I=I.map(N=>v0(Hn(N)))),a(e,["setup","tools"],I)}const T=s(t,["sessionResumption"]);e!==void 0&&T!=null&&a(e,["setup","sessionResumption"],T);const v=s(t,["inputAudioTranscription"]);e!==void 0&&v!=null&&a(e,["setup","inputAudioTranscription"],v);const g=s(t,["outputAudioTranscription"]);e!==void 0&&g!=null&&a(e,["setup","outputAudioTranscription"],g);const y=s(t,["realtimeInputConfig"]);e!==void 0&&y!=null&&a(e,["setup","realtimeInputConfig"],y);const S=s(t,["contextWindowCompression"]);e!==void 0&&S!=null&&a(e,["setup","contextWindowCompression"],S);const C=s(t,["proactivity"]);e!==void 0&&C!=null&&a(e,["setup","proactivity"],C);const w=s(t,["explicitVadSignal"]);return e!==void 0&&w!=null&&a(e,["setup","explicitVadSignal"],w),n}function l0(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["setup","model"],H(t,o));const i=s(e,["config"]);return i!=null&&a(n,["config"],r0(i,n)),n}function a0(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["setup","model"],H(t,o));const i=s(e,["config"]);return i!=null&&a(n,["config"],s0(i,n)),n}function u0(t){const e={},n=s(t,["musicGenerationConfig"]);return n!=null&&a(e,["musicGenerationConfig"],n),e}function c0(t){const e={},n=s(t,["weightedPrompts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(i=>i)),a(e,["weightedPrompts"],o)}return e}function d0(t){const e={},n=s(t,["media"]);if(n!=null){let d=ap(n);Array.isArray(d)&&(d=d.map(f=>Ei(f))),a(e,["mediaChunks"],d)}const o=s(t,["audio"]);o!=null&&a(e,["audio"],Ei(cp(o)));const i=s(t,["audioStreamEnd"]);i!=null&&a(e,["audioStreamEnd"],i);const r=s(t,["video"]);r!=null&&a(e,["video"],Ei(up(r)));const l=s(t,["text"]);l!=null&&a(e,["text"],l);const u=s(t,["activityStart"]);u!=null&&a(e,["activityStart"],u);const c=s(t,["activityEnd"]);return c!=null&&a(e,["activityEnd"],c),e}function f0(t){const e={},n=s(t,["media"]);if(n!=null){let d=ap(n);Array.isArray(d)&&(d=d.map(f=>f)),a(e,["mediaChunks"],d)}const o=s(t,["audio"]);o!=null&&a(e,["audio"],cp(o));const i=s(t,["audioStreamEnd"]);i!=null&&a(e,["audioStreamEnd"],i);const r=s(t,["video"]);r!=null&&a(e,["video"],up(r));const l=s(t,["text"]);l!=null&&a(e,["text"],l);const u=s(t,["activityStart"]);u!=null&&a(e,["activityStart"],u);const c=s(t,["activityEnd"]);return c!=null&&a(e,["activityEnd"],c),e}function p0(t){const e={},n=s(t,["setupComplete"]);n!=null&&a(e,["setupComplete"],n);const o=s(t,["serverContent"]);o!=null&&a(e,["serverContent"],o);const i=s(t,["toolCall"]);i!=null&&a(e,["toolCall"],i);const r=s(t,["toolCallCancellation"]);r!=null&&a(e,["toolCallCancellation"],r);const l=s(t,["usageMetadata"]);l!=null&&a(e,["usageMetadata"],y0(l));const u=s(t,["goAway"]);u!=null&&a(e,["goAway"],u);const c=s(t,["sessionResumptionUpdate"]);c!=null&&a(e,["sessionResumptionUpdate"],c);const d=s(t,["voiceActivityDetectionSignal"]);return d!=null&&a(e,["voiceActivityDetectionSignal"],d),e}function m0(t){const e={},n=s(t,["mediaResolution"]);n!=null&&a(e,["mediaResolution"],n);const o=s(t,["codeExecutionResult"]);o!=null&&a(e,["codeExecutionResult"],o);const i=s(t,["executableCode"]);i!=null&&a(e,["executableCode"],i);const r=s(t,["fileData"]);r!=null&&a(e,["fileData"],jy(r));const l=s(t,["functionCall"]);l!=null&&a(e,["functionCall"],e0(l));const u=s(t,["functionResponse"]);u!=null&&a(e,["functionResponse"],u);const c=s(t,["inlineData"]);c!=null&&a(e,["inlineData"],Ei(c));const d=s(t,["text"]);d!=null&&a(e,["text"],d);const f=s(t,["thought"]);f!=null&&a(e,["thought"],f);const m=s(t,["thoughtSignature"]);m!=null&&a(e,["thoughtSignature"],m);const p=s(t,["videoMetadata"]);return p!=null&&a(e,["videoMetadata"],p),e}function h0(t){const e={},n=s(t,["handle"]);if(n!=null&&a(e,["handle"],n),s(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function g0(t){const e={},n=s(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(m=>m)),a(e,["functionDeclarations"],f)}if(s(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=s(t,["googleSearchRetrieval"]);o!=null&&a(e,["googleSearchRetrieval"],o);const i=s(t,["computerUse"]);i!=null&&a(e,["computerUse"],i);const r=s(t,["fileSearch"]);r!=null&&a(e,["fileSearch"],r);const l=s(t,["codeExecution"]);if(l!=null&&a(e,["codeExecution"],l),s(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=s(t,["googleMaps"]);u!=null&&a(e,["googleMaps"],o0(u));const c=s(t,["googleSearch"]);c!=null&&a(e,["googleSearch"],i0(c));const d=s(t,["urlContext"]);return d!=null&&a(e,["urlContext"],d),e}function v0(t){const e={},n=s(t,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(p=>t0(p))),a(e,["functionDeclarations"],m)}const o=s(t,["retrieval"]);o!=null&&a(e,["retrieval"],o);const i=s(t,["googleSearchRetrieval"]);i!=null&&a(e,["googleSearchRetrieval"],i);const r=s(t,["computerUse"]);if(r!=null&&a(e,["computerUse"],r),s(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=s(t,["codeExecution"]);l!=null&&a(e,["codeExecution"],l);const u=s(t,["enterpriseWebSearch"]);u!=null&&a(e,["enterpriseWebSearch"],u);const c=s(t,["googleMaps"]);c!=null&&a(e,["googleMaps"],c);const d=s(t,["googleSearch"]);d!=null&&a(e,["googleSearch"],d);const f=s(t,["urlContext"]);return f!=null&&a(e,["urlContext"],f),e}function y0(t){const e={},n=s(t,["promptTokenCount"]);n!=null&&a(e,["promptTokenCount"],n);const o=s(t,["cachedContentTokenCount"]);o!=null&&a(e,["cachedContentTokenCount"],o);const i=s(t,["candidatesTokenCount"]);i!=null&&a(e,["responseTokenCount"],i);const r=s(t,["toolUsePromptTokenCount"]);r!=null&&a(e,["toolUsePromptTokenCount"],r);const l=s(t,["thoughtsTokenCount"]);l!=null&&a(e,["thoughtsTokenCount"],l);const u=s(t,["totalTokenCount"]);u!=null&&a(e,["totalTokenCount"],u);const c=s(t,["promptTokensDetails"]);if(c!=null){let h=c;Array.isArray(h)&&(h=h.map(E=>E)),a(e,["promptTokensDetails"],h)}const d=s(t,["cacheTokensDetails"]);if(d!=null){let h=d;Array.isArray(h)&&(h=h.map(E=>E)),a(e,["cacheTokensDetails"],h)}const f=s(t,["candidatesTokensDetails"]);if(f!=null){let h=f;Array.isArray(h)&&(h=h.map(E=>E)),a(e,["responseTokensDetails"],h)}const m=s(t,["toolUsePromptTokensDetails"]);if(m!=null){let h=m;Array.isArray(h)&&(h=h.map(E=>E)),a(e,["toolUsePromptTokensDetails"],h)}const p=s(t,["trafficType"]);return p!=null&&a(e,["trafficType"],p),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function E0(t){const e={},n=s(t,["data"]);if(n!=null&&a(e,["data"],n),s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(t,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function _0(t){const e={},n=s(t,["content"]);n!=null&&a(e,["content"],n);const o=s(t,["citationMetadata"]);o!=null&&a(e,["citationMetadata"],T0(o));const i=s(t,["tokenCount"]);i!=null&&a(e,["tokenCount"],i);const r=s(t,["finishReason"]);r!=null&&a(e,["finishReason"],r);const l=s(t,["avgLogprobs"]);l!=null&&a(e,["avgLogprobs"],l);const u=s(t,["groundingMetadata"]);u!=null&&a(e,["groundingMetadata"],u);const c=s(t,["index"]);c!=null&&a(e,["index"],c);const d=s(t,["logprobsResult"]);d!=null&&a(e,["logprobsResult"],d);const f=s(t,["safetyRatings"]);if(f!=null){let p=f;Array.isArray(p)&&(p=p.map(h=>h)),a(e,["safetyRatings"],p)}const m=s(t,["urlContextMetadata"]);return m!=null&&a(e,["urlContextMetadata"],m),e}function T0(t){const e={},n=s(t,["citationSources"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(i=>i)),a(e,["citations"],o)}return e}function S0(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","model"],H(t,o));const i=s(e,["contents"]);if(i!=null){let r=Ge(i);Array.isArray(r)&&(r=r.map(l=>l)),a(n,["contents"],r)}return n}function C0(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["tokensInfo"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(r=>r)),a(e,["tokensInfo"],i)}return e}function I0(t){const e={},n=s(t,["values"]);n!=null&&a(e,["values"],n);const o=s(t,["statistics"]);return o!=null&&a(e,["statistics"],w0(o)),e}function w0(t){const e={},n=s(t,["truncated"]);n!=null&&a(e,["truncated"],n);const o=s(t,["token_count"]);return o!=null&&a(e,["tokenCount"],o),e}function pr(t){const e={},n=s(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>LE(r))),a(e,["parts"],i)}const o=s(t,["role"]);return o!=null&&a(e,["role"],o),e}function A0(t){const e={},n=s(t,["controlType"]);n!=null&&a(e,["controlType"],n);const o=s(t,["enableControlImageComputation"]);return o!=null&&a(e,["computeControl"],o),e}function R0(t){const e={};if(s(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(s(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(s(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function N0(t,e){const n={},o=s(t,["systemInstruction"]);e!==void 0&&o!=null&&a(e,["systemInstruction"],fe(o));const i=s(t,["tools"]);if(e!==void 0&&i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>Ip(u))),a(e,["tools"],l)}const r=s(t,["generationConfig"]);return e!==void 0&&r!=null&&a(e,["generationConfig"],EE(r)),n}function P0(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","model"],H(t,o));const i=s(e,["contents"]);if(i!=null){let l=Ge(i);Array.isArray(l)&&(l=l.map(u=>pr(u))),a(n,["contents"],l)}const r=s(e,["config"]);return r!=null&&R0(r),n}function x0(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","model"],H(t,o));const i=s(e,["contents"]);if(i!=null){let l=Ge(i);Array.isArray(l)&&(l=l.map(u=>u)),a(n,["contents"],l)}const r=s(e,["config"]);return r!=null&&N0(r,n),n}function M0(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["totalTokens"]);o!=null&&a(e,["totalTokens"],o);const i=s(t,["cachedContentTokenCount"]);return i!=null&&a(e,["cachedContentTokenCount"],i),e}function k0(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["totalTokens"]);return o!=null&&a(e,["totalTokens"],o),e}function D0(t,e){const n={},o=s(e,["model"]);return o!=null&&a(n,["_url","name"],H(t,o)),n}function L0(t,e){const n={},o=s(e,["model"]);return o!=null&&a(n,["_url","name"],H(t,o)),n}function U0(t){const e={},n=s(t,["sdkHttpResponse"]);return n!=null&&a(e,["sdkHttpResponse"],n),e}function F0(t){const e={},n=s(t,["sdkHttpResponse"]);return n!=null&&a(e,["sdkHttpResponse"],n),e}function V0(t,e){const n={},o=s(t,["outputGcsUri"]);e!==void 0&&o!=null&&a(e,["parameters","storageUri"],o);const i=s(t,["negativePrompt"]);e!==void 0&&i!=null&&a(e,["parameters","negativePrompt"],i);const r=s(t,["numberOfImages"]);e!==void 0&&r!=null&&a(e,["parameters","sampleCount"],r);const l=s(t,["aspectRatio"]);e!==void 0&&l!=null&&a(e,["parameters","aspectRatio"],l);const u=s(t,["guidanceScale"]);e!==void 0&&u!=null&&a(e,["parameters","guidanceScale"],u);const c=s(t,["seed"]);e!==void 0&&c!=null&&a(e,["parameters","seed"],c);const d=s(t,["safetyFilterLevel"]);e!==void 0&&d!=null&&a(e,["parameters","safetySetting"],d);const f=s(t,["personGeneration"]);e!==void 0&&f!=null&&a(e,["parameters","personGeneration"],f);const m=s(t,["includeSafetyAttributes"]);e!==void 0&&m!=null&&a(e,["parameters","includeSafetyAttributes"],m);const p=s(t,["includeRaiReason"]);e!==void 0&&p!=null&&a(e,["parameters","includeRaiReason"],p);const h=s(t,["language"]);e!==void 0&&h!=null&&a(e,["parameters","language"],h);const E=s(t,["outputMimeType"]);e!==void 0&&E!=null&&a(e,["parameters","outputOptions","mimeType"],E);const _=s(t,["outputCompressionQuality"]);e!==void 0&&_!=null&&a(e,["parameters","outputOptions","compressionQuality"],_);const T=s(t,["addWatermark"]);e!==void 0&&T!=null&&a(e,["parameters","addWatermark"],T);const v=s(t,["labels"]);e!==void 0&&v!=null&&a(e,["labels"],v);const g=s(t,["editMode"]);e!==void 0&&g!=null&&a(e,["parameters","editMode"],g);const y=s(t,["baseSteps"]);return e!==void 0&&y!=null&&a(e,["parameters","editConfig","baseSteps"],y),n}function G0(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","model"],H(t,o));const i=s(e,["prompt"]);i!=null&&a(n,["instances[0]","prompt"],i);const r=s(e,["referenceImages"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(c=>BE(c))),a(n,["instances[0]","referenceImages"],u)}const l=s(e,["config"]);return l!=null&&V0(l,n),n}function H0(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["predictions"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(r=>mr(r))),a(e,["generatedImages"],i)}return e}function B0(t,e){const n={},o=s(t,["taskType"]);e!==void 0&&o!=null&&a(e,["requests[]","taskType"],o);const i=s(t,["title"]);e!==void 0&&i!=null&&a(e,["requests[]","title"],i);const r=s(t,["outputDimensionality"]);if(e!==void 0&&r!=null&&a(e,["requests[]","outputDimensionality"],r),s(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(s(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function q0(t,e){const n={},o=s(t,["taskType"]);e!==void 0&&o!=null&&a(e,["instances[]","task_type"],o);const i=s(t,["title"]);e!==void 0&&i!=null&&a(e,["instances[]","title"],i);const r=s(t,["outputDimensionality"]);e!==void 0&&r!=null&&a(e,["parameters","outputDimensionality"],r);const l=s(t,["mimeType"]);e!==void 0&&l!=null&&a(e,["instances[]","mimeType"],l);const u=s(t,["autoTruncate"]);return e!==void 0&&u!=null&&a(e,["parameters","autoTruncate"],u),n}function z0(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","model"],H(t,o));const i=s(e,["contents"]);if(i!=null){let u=bl(t,i);Array.isArray(u)&&(u=u.map(c=>c)),a(n,["requests[]","content"],u)}const r=s(e,["config"]);r!=null&&B0(r,n);const l=s(e,["model"]);return l!==void 0&&a(n,["requests[]","model"],H(t,l)),n}function $0(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","model"],H(t,o));const i=s(e,["contents"]);if(i!=null){let l=bl(t,i);Array.isArray(l)&&(l=l.map(u=>u)),a(n,["instances[]","content"],l)}const r=s(e,["config"]);return r!=null&&q0(r,n),n}function J0(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["embeddings"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(l=>l)),a(e,["embeddings"],r)}const i=s(t,["metadata"]);return i!=null&&a(e,["metadata"],i),e}function O0(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["predictions[]","embeddings"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(l=>I0(l))),a(e,["embeddings"],r)}const i=s(t,["metadata"]);return i!=null&&a(e,["metadata"],i),e}function W0(t){const e={},n=s(t,["endpoint"]);n!=null&&a(e,["name"],n);const o=s(t,["deployedModelId"]);return o!=null&&a(e,["deployedModelId"],o),e}function K0(t){const e={};if(s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=s(t,["fileUri"]);n!=null&&a(e,["fileUri"],n);const o=s(t,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function Y0(t){const e={},n=s(t,["id"]);n!=null&&a(e,["id"],n);const o=s(t,["args"]);o!=null&&a(e,["args"],o);const i=s(t,["name"]);if(i!=null&&a(e,["name"],i),s(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(s(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Q0(t){const e={},n=s(t,["mode"]);n!=null&&a(e,["mode"],n);const o=s(t,["allowedFunctionNames"]);if(o!=null&&a(e,["allowedFunctionNames"],o),s(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function X0(t){const e={};if(s(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=s(t,["description"]);n!=null&&a(e,["description"],n);const o=s(t,["name"]);o!=null&&a(e,["name"],o);const i=s(t,["parameters"]);i!=null&&a(e,["parameters"],i);const r=s(t,["parametersJsonSchema"]);r!=null&&a(e,["parametersJsonSchema"],r);const l=s(t,["response"]);l!=null&&a(e,["response"],l);const u=s(t,["responseJsonSchema"]);return u!=null&&a(e,["responseJsonSchema"],u),e}function Z0(t,e,n){const o={},i=s(e,["systemInstruction"]);n!==void 0&&i!=null&&a(n,["systemInstruction"],pr(fe(i)));const r=s(e,["temperature"]);r!=null&&a(o,["temperature"],r);const l=s(e,["topP"]);l!=null&&a(o,["topP"],l);const u=s(e,["topK"]);u!=null&&a(o,["topK"],u);const c=s(e,["candidateCount"]);c!=null&&a(o,["candidateCount"],c);const d=s(e,["maxOutputTokens"]);d!=null&&a(o,["maxOutputTokens"],d);const f=s(e,["stopSequences"]);f!=null&&a(o,["stopSequences"],f);const m=s(e,["responseLogprobs"]);m!=null&&a(o,["responseLogprobs"],m);const p=s(e,["logprobs"]);p!=null&&a(o,["logprobs"],p);const h=s(e,["presencePenalty"]);h!=null&&a(o,["presencePenalty"],h);const E=s(e,["frequencyPenalty"]);E!=null&&a(o,["frequencyPenalty"],E);const _=s(e,["seed"]);_!=null&&a(o,["seed"],_);const T=s(e,["responseMimeType"]);T!=null&&a(o,["responseMimeType"],T);const v=s(e,["responseSchema"]);v!=null&&a(o,["responseSchema"],jl(v));const g=s(e,["responseJsonSchema"]);if(g!=null&&a(o,["responseJsonSchema"],g),s(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(s(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const y=s(e,["safetySettings"]);if(n!==void 0&&y!=null){let z=y;Array.isArray(z)&&(z=z.map(Ae=>qE(Ae))),a(n,["safetySettings"],z)}const S=s(e,["tools"]);if(n!==void 0&&S!=null){let z=Bn(S);Array.isArray(z)&&(z=z.map(Ae=>YE(Hn(Ae)))),a(n,["tools"],z)}const C=s(e,["toolConfig"]);if(n!==void 0&&C!=null&&a(n,["toolConfig"],KE(C)),s(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const w=s(e,["cachedContent"]);n!==void 0&&w!=null&&a(n,["cachedContent"],ht(t,w));const I=s(e,["responseModalities"]);I!=null&&a(o,["responseModalities"],I);const N=s(e,["mediaResolution"]);N!=null&&a(o,["mediaResolution"],N);const x=s(e,["speechConfig"]);if(x!=null&&a(o,["speechConfig"],ea(x)),s(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const k=s(e,["thinkingConfig"]);k!=null&&a(o,["thinkingConfig"],k);const B=s(e,["imageConfig"]);B!=null&&a(o,["imageConfig"],IE(B));const _e=s(e,["enableEnhancedCivicAnswers"]);return _e!=null&&a(o,["enableEnhancedCivicAnswers"],_e),o}function b0(t,e,n){const o={},i=s(e,["systemInstruction"]);n!==void 0&&i!=null&&a(n,["systemInstruction"],fe(i));const r=s(e,["temperature"]);r!=null&&a(o,["temperature"],r);const l=s(e,["topP"]);l!=null&&a(o,["topP"],l);const u=s(e,["topK"]);u!=null&&a(o,["topK"],u);const c=s(e,["candidateCount"]);c!=null&&a(o,["candidateCount"],c);const d=s(e,["maxOutputTokens"]);d!=null&&a(o,["maxOutputTokens"],d);const f=s(e,["stopSequences"]);f!=null&&a(o,["stopSequences"],f);const m=s(e,["responseLogprobs"]);m!=null&&a(o,["responseLogprobs"],m);const p=s(e,["logprobs"]);p!=null&&a(o,["logprobs"],p);const h=s(e,["presencePenalty"]);h!=null&&a(o,["presencePenalty"],h);const E=s(e,["frequencyPenalty"]);E!=null&&a(o,["frequencyPenalty"],E);const _=s(e,["seed"]);_!=null&&a(o,["seed"],_);const T=s(e,["responseMimeType"]);T!=null&&a(o,["responseMimeType"],T);const v=s(e,["responseSchema"]);v!=null&&a(o,["responseSchema"],jl(v));const g=s(e,["responseJsonSchema"]);g!=null&&a(o,["responseJsonSchema"],g);const y=s(e,["routingConfig"]);y!=null&&a(o,["routingConfig"],y);const S=s(e,["modelSelectionConfig"]);S!=null&&a(o,["modelConfig"],S);const C=s(e,["safetySettings"]);if(n!==void 0&&C!=null){let Re=C;Array.isArray(Re)&&(Re=Re.map(Ht=>Ht)),a(n,["safetySettings"],Re)}const w=s(e,["tools"]);if(n!==void 0&&w!=null){let Re=Bn(w);Array.isArray(Re)&&(Re=Re.map(Ht=>Ip(Hn(Ht)))),a(n,["tools"],Re)}const I=s(e,["toolConfig"]);n!==void 0&&I!=null&&a(n,["toolConfig"],I);const N=s(e,["labels"]);n!==void 0&&N!=null&&a(n,["labels"],N);const x=s(e,["cachedContent"]);n!==void 0&&x!=null&&a(n,["cachedContent"],ht(t,x));const k=s(e,["responseModalities"]);k!=null&&a(o,["responseModalities"],k);const B=s(e,["mediaResolution"]);B!=null&&a(o,["mediaResolution"],B);const _e=s(e,["speechConfig"]);_e!=null&&a(o,["speechConfig"],ea(_e));const z=s(e,["audioTimestamp"]);z!=null&&a(o,["audioTimestamp"],z);const Ae=s(e,["thinkingConfig"]);Ae!=null&&a(o,["thinkingConfig"],Ae);const Uo=s(e,["imageConfig"]);if(Uo!=null&&a(o,["imageConfig"],wE(Uo)),s(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return o}function Pc(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","model"],H(t,o));const i=s(e,["contents"]);if(i!=null){let l=Ge(i);Array.isArray(l)&&(l=l.map(u=>pr(u))),a(n,["contents"],l)}const r=s(e,["config"]);return r!=null&&a(n,["generationConfig"],Z0(t,r,n)),n}function xc(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","model"],H(t,o));const i=s(e,["contents"]);if(i!=null){let l=Ge(i);Array.isArray(l)&&(l=l.map(u=>u)),a(n,["contents"],l)}const r=s(e,["config"]);return r!=null&&a(n,["generationConfig"],b0(t,r,n)),n}function Mc(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["candidates"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>_0(d))),a(e,["candidates"],c)}const i=s(t,["modelVersion"]);i!=null&&a(e,["modelVersion"],i);const r=s(t,["promptFeedback"]);r!=null&&a(e,["promptFeedback"],r);const l=s(t,["responseId"]);l!=null&&a(e,["responseId"],l);const u=s(t,["usageMetadata"]);return u!=null&&a(e,["usageMetadata"],u),e}function kc(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["candidates"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(f=>f)),a(e,["candidates"],d)}const i=s(t,["createTime"]);i!=null&&a(e,["createTime"],i);const r=s(t,["modelVersion"]);r!=null&&a(e,["modelVersion"],r);const l=s(t,["promptFeedback"]);l!=null&&a(e,["promptFeedback"],l);const u=s(t,["responseId"]);u!=null&&a(e,["responseId"],u);const c=s(t,["usageMetadata"]);return c!=null&&a(e,["usageMetadata"],c),e}function j0(t,e){const n={};if(s(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(s(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const o=s(t,["numberOfImages"]);e!==void 0&&o!=null&&a(e,["parameters","sampleCount"],o);const i=s(t,["aspectRatio"]);e!==void 0&&i!=null&&a(e,["parameters","aspectRatio"],i);const r=s(t,["guidanceScale"]);if(e!==void 0&&r!=null&&a(e,["parameters","guidanceScale"],r),s(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const l=s(t,["safetyFilterLevel"]);e!==void 0&&l!=null&&a(e,["parameters","safetySetting"],l);const u=s(t,["personGeneration"]);e!==void 0&&u!=null&&a(e,["parameters","personGeneration"],u);const c=s(t,["includeSafetyAttributes"]);e!==void 0&&c!=null&&a(e,["parameters","includeSafetyAttributes"],c);const d=s(t,["includeRaiReason"]);e!==void 0&&d!=null&&a(e,["parameters","includeRaiReason"],d);const f=s(t,["language"]);e!==void 0&&f!=null&&a(e,["parameters","language"],f);const m=s(t,["outputMimeType"]);e!==void 0&&m!=null&&a(e,["parameters","outputOptions","mimeType"],m);const p=s(t,["outputCompressionQuality"]);if(e!==void 0&&p!=null&&a(e,["parameters","outputOptions","compressionQuality"],p),s(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(s(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const h=s(t,["imageSize"]);if(e!==void 0&&h!=null&&a(e,["parameters","sampleImageSize"],h),s(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function eE(t,e){const n={},o=s(t,["outputGcsUri"]);e!==void 0&&o!=null&&a(e,["parameters","storageUri"],o);const i=s(t,["negativePrompt"]);e!==void 0&&i!=null&&a(e,["parameters","negativePrompt"],i);const r=s(t,["numberOfImages"]);e!==void 0&&r!=null&&a(e,["parameters","sampleCount"],r);const l=s(t,["aspectRatio"]);e!==void 0&&l!=null&&a(e,["parameters","aspectRatio"],l);const u=s(t,["guidanceScale"]);e!==void 0&&u!=null&&a(e,["parameters","guidanceScale"],u);const c=s(t,["seed"]);e!==void 0&&c!=null&&a(e,["parameters","seed"],c);const d=s(t,["safetyFilterLevel"]);e!==void 0&&d!=null&&a(e,["parameters","safetySetting"],d);const f=s(t,["personGeneration"]);e!==void 0&&f!=null&&a(e,["parameters","personGeneration"],f);const m=s(t,["includeSafetyAttributes"]);e!==void 0&&m!=null&&a(e,["parameters","includeSafetyAttributes"],m);const p=s(t,["includeRaiReason"]);e!==void 0&&p!=null&&a(e,["parameters","includeRaiReason"],p);const h=s(t,["language"]);e!==void 0&&h!=null&&a(e,["parameters","language"],h);const E=s(t,["outputMimeType"]);e!==void 0&&E!=null&&a(e,["parameters","outputOptions","mimeType"],E);const _=s(t,["outputCompressionQuality"]);e!==void 0&&_!=null&&a(e,["parameters","outputOptions","compressionQuality"],_);const T=s(t,["addWatermark"]);e!==void 0&&T!=null&&a(e,["parameters","addWatermark"],T);const v=s(t,["labels"]);e!==void 0&&v!=null&&a(e,["labels"],v);const g=s(t,["imageSize"]);e!==void 0&&g!=null&&a(e,["parameters","sampleImageSize"],g);const y=s(t,["enhancePrompt"]);return e!==void 0&&y!=null&&a(e,["parameters","enhancePrompt"],y),n}function tE(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","model"],H(t,o));const i=s(e,["prompt"]);i!=null&&a(n,["instances[0]","prompt"],i);const r=s(e,["config"]);return r!=null&&j0(r,n),n}function nE(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","model"],H(t,o));const i=s(e,["prompt"]);i!=null&&a(n,["instances[0]","prompt"],i);const r=s(e,["config"]);return r!=null&&eE(r,n),n}function oE(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["predictions"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(l=>hE(l))),a(e,["generatedImages"],r)}const i=s(t,["positivePromptSafetyAttributes"]);return i!=null&&a(e,["positivePromptSafetyAttributes"],Sp(i)),e}function iE(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["predictions"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(l=>mr(l))),a(e,["generatedImages"],r)}const i=s(t,["positivePromptSafetyAttributes"]);return i!=null&&a(e,["positivePromptSafetyAttributes"],Cp(i)),e}function rE(t,e){const n={},o=s(t,["numberOfVideos"]);if(e!==void 0&&o!=null&&a(e,["parameters","sampleCount"],o),s(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(s(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=s(t,["durationSeconds"]);if(e!==void 0&&i!=null&&a(e,["parameters","durationSeconds"],i),s(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const r=s(t,["aspectRatio"]);e!==void 0&&r!=null&&a(e,["parameters","aspectRatio"],r);const l=s(t,["resolution"]);e!==void 0&&l!=null&&a(e,["parameters","resolution"],l);const u=s(t,["personGeneration"]);if(e!==void 0&&u!=null&&a(e,["parameters","personGeneration"],u),s(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const c=s(t,["negativePrompt"]);e!==void 0&&c!=null&&a(e,["parameters","negativePrompt"],c);const d=s(t,["enhancePrompt"]);if(e!==void 0&&d!=null&&a(e,["parameters","enhancePrompt"],d),s(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const f=s(t,["lastFrame"]);e!==void 0&&f!=null&&a(e,["instances[0]","lastFrame"],hr(f));const m=s(t,["referenceImages"]);if(e!==void 0&&m!=null){let p=m;Array.isArray(p)&&(p=p.map(h=>l_(h))),a(e,["instances[0]","referenceImages"],p)}if(s(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(s(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function sE(t,e){const n={},o=s(t,["numberOfVideos"]);e!==void 0&&o!=null&&a(e,["parameters","sampleCount"],o);const i=s(t,["outputGcsUri"]);e!==void 0&&i!=null&&a(e,["parameters","storageUri"],i);const r=s(t,["fps"]);e!==void 0&&r!=null&&a(e,["parameters","fps"],r);const l=s(t,["durationSeconds"]);e!==void 0&&l!=null&&a(e,["parameters","durationSeconds"],l);const u=s(t,["seed"]);e!==void 0&&u!=null&&a(e,["parameters","seed"],u);const c=s(t,["aspectRatio"]);e!==void 0&&c!=null&&a(e,["parameters","aspectRatio"],c);const d=s(t,["resolution"]);e!==void 0&&d!=null&&a(e,["parameters","resolution"],d);const f=s(t,["personGeneration"]);e!==void 0&&f!=null&&a(e,["parameters","personGeneration"],f);const m=s(t,["pubsubTopic"]);e!==void 0&&m!=null&&a(e,["parameters","pubsubTopic"],m);const p=s(t,["negativePrompt"]);e!==void 0&&p!=null&&a(e,["parameters","negativePrompt"],p);const h=s(t,["enhancePrompt"]);e!==void 0&&h!=null&&a(e,["parameters","enhancePrompt"],h);const E=s(t,["generateAudio"]);e!==void 0&&E!=null&&a(e,["parameters","generateAudio"],E);const _=s(t,["lastFrame"]);e!==void 0&&_!=null&&a(e,["instances[0]","lastFrame"],Ze(_));const T=s(t,["referenceImages"]);if(e!==void 0&&T!=null){let y=T;Array.isArray(y)&&(y=y.map(S=>a_(S))),a(e,["instances[0]","referenceImages"],y)}const v=s(t,["mask"]);e!==void 0&&v!=null&&a(e,["instances[0]","mask"],s_(v));const g=s(t,["compressionQuality"]);return e!==void 0&&g!=null&&a(e,["parameters","compressionQuality"],g),n}function lE(t){const e={},n=s(t,["name"]);n!=null&&a(e,["name"],n);const o=s(t,["metadata"]);o!=null&&a(e,["metadata"],o);const i=s(t,["done"]);i!=null&&a(e,["done"],i);const r=s(t,["error"]);r!=null&&a(e,["error"],r);const l=s(t,["response","generateVideoResponse"]);return l!=null&&a(e,["response"],dE(l)),e}function aE(t){const e={},n=s(t,["name"]);n!=null&&a(e,["name"],n);const o=s(t,["metadata"]);o!=null&&a(e,["metadata"],o);const i=s(t,["done"]);i!=null&&a(e,["done"],i);const r=s(t,["error"]);r!=null&&a(e,["error"],r);const l=s(t,["response"]);return l!=null&&a(e,["response"],fE(l)),e}function uE(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","model"],H(t,o));const i=s(e,["prompt"]);i!=null&&a(n,["instances[0]","prompt"],i);const r=s(e,["image"]);r!=null&&a(n,["instances[0]","image"],hr(r));const l=s(e,["video"]);l!=null&&a(n,["instances[0]","video"],wp(l));const u=s(e,["source"]);u!=null&&pE(u,n);const c=s(e,["config"]);return c!=null&&rE(c,n),n}function cE(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","model"],H(t,o));const i=s(e,["prompt"]);i!=null&&a(n,["instances[0]","prompt"],i);const r=s(e,["image"]);r!=null&&a(n,["instances[0]","image"],Ze(r));const l=s(e,["video"]);l!=null&&a(n,["instances[0]","video"],Ap(l));const u=s(e,["source"]);u!=null&&mE(u,n);const c=s(e,["config"]);return c!=null&&sE(c,n),n}function dE(t){const e={},n=s(t,["generatedSamples"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(l=>vE(l))),a(e,["generatedVideos"],r)}const o=s(t,["raiMediaFilteredCount"]);o!=null&&a(e,["raiMediaFilteredCount"],o);const i=s(t,["raiMediaFilteredReasons"]);return i!=null&&a(e,["raiMediaFilteredReasons"],i),e}function fE(t){const e={},n=s(t,["videos"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(l=>yE(l))),a(e,["generatedVideos"],r)}const o=s(t,["raiMediaFilteredCount"]);o!=null&&a(e,["raiMediaFilteredCount"],o);const i=s(t,["raiMediaFilteredReasons"]);return i!=null&&a(e,["raiMediaFilteredReasons"],i),e}function pE(t,e){const n={},o=s(t,["prompt"]);e!==void 0&&o!=null&&a(e,["instances[0]","prompt"],o);const i=s(t,["image"]);e!==void 0&&i!=null&&a(e,["instances[0]","image"],hr(i));const r=s(t,["video"]);return e!==void 0&&r!=null&&a(e,["instances[0]","video"],wp(r)),n}function mE(t,e){const n={},o=s(t,["prompt"]);e!==void 0&&o!=null&&a(e,["instances[0]","prompt"],o);const i=s(t,["image"]);e!==void 0&&i!=null&&a(e,["instances[0]","image"],Ze(i));const r=s(t,["video"]);return e!==void 0&&r!=null&&a(e,["instances[0]","video"],Ap(r)),n}function hE(t){const e={},n=s(t,["_self"]);n!=null&&a(e,["image"],AE(n));const o=s(t,["raiFilteredReason"]);o!=null&&a(e,["raiFilteredReason"],o);const i=s(t,["_self"]);return i!=null&&a(e,["safetyAttributes"],Sp(i)),e}function mr(t){const e={},n=s(t,["_self"]);n!=null&&a(e,["image"],Tp(n));const o=s(t,["raiFilteredReason"]);o!=null&&a(e,["raiFilteredReason"],o);const i=s(t,["_self"]);i!=null&&a(e,["safetyAttributes"],Cp(i));const r=s(t,["prompt"]);return r!=null&&a(e,["enhancedPrompt"],r),e}function gE(t){const e={},n=s(t,["_self"]);n!=null&&a(e,["mask"],Tp(n));const o=s(t,["labels"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(r=>r)),a(e,["labels"],i)}return e}function vE(t){const e={},n=s(t,["video"]);return n!=null&&a(e,["video"],i_(n)),e}function yE(t){const e={},n=s(t,["_self"]);return n!=null&&a(e,["video"],r_(n)),e}function EE(t){const e={},n=s(t,["modelSelectionConfig"]);n!=null&&a(e,["modelConfig"],n);const o=s(t,["responseJsonSchema"]);o!=null&&a(e,["responseJsonSchema"],o);const i=s(t,["audioTimestamp"]);i!=null&&a(e,["audioTimestamp"],i);const r=s(t,["candidateCount"]);r!=null&&a(e,["candidateCount"],r);const l=s(t,["enableAffectiveDialog"]);l!=null&&a(e,["enableAffectiveDialog"],l);const u=s(t,["frequencyPenalty"]);u!=null&&a(e,["frequencyPenalty"],u);const c=s(t,["logprobs"]);c!=null&&a(e,["logprobs"],c);const d=s(t,["maxOutputTokens"]);d!=null&&a(e,["maxOutputTokens"],d);const f=s(t,["mediaResolution"]);f!=null&&a(e,["mediaResolution"],f);const m=s(t,["presencePenalty"]);m!=null&&a(e,["presencePenalty"],m);const p=s(t,["responseLogprobs"]);p!=null&&a(e,["responseLogprobs"],p);const h=s(t,["responseMimeType"]);h!=null&&a(e,["responseMimeType"],h);const E=s(t,["responseModalities"]);E!=null&&a(e,["responseModalities"],E);const _=s(t,["responseSchema"]);_!=null&&a(e,["responseSchema"],_);const T=s(t,["routingConfig"]);T!=null&&a(e,["routingConfig"],T);const v=s(t,["seed"]);v!=null&&a(e,["seed"],v);const g=s(t,["speechConfig"]);g!=null&&a(e,["speechConfig"],g);const y=s(t,["stopSequences"]);y!=null&&a(e,["stopSequences"],y);const S=s(t,["temperature"]);S!=null&&a(e,["temperature"],S);const C=s(t,["thinkingConfig"]);C!=null&&a(e,["thinkingConfig"],C);const w=s(t,["topK"]);w!=null&&a(e,["topK"],w);const I=s(t,["topP"]);if(I!=null&&a(e,["topP"],I),s(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function _E(t,e){const n={},o=s(e,["model"]);return o!=null&&a(n,["_url","name"],H(t,o)),n}function TE(t,e){const n={},o=s(e,["model"]);return o!=null&&a(n,["_url","name"],H(t,o)),n}function SE(t){const e={};if(s(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=s(t,["enableWidget"]);return n!=null&&a(e,["enableWidget"],n),e}function CE(t){const e={};if(s(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(s(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=s(t,["timeRangeFilter"]);return n!=null&&a(e,["timeRangeFilter"],n),e}function IE(t){const e={},n=s(t,["aspectRatio"]);n!=null&&a(e,["aspectRatio"],n);const o=s(t,["imageSize"]);if(o!=null&&a(e,["imageSize"],o),s(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(s(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function wE(t){const e={},n=s(t,["aspectRatio"]);n!=null&&a(e,["aspectRatio"],n);const o=s(t,["imageSize"]);o!=null&&a(e,["imageSize"],o);const i=s(t,["outputMimeType"]);i!=null&&a(e,["imageOutputOptions","mimeType"],i);const r=s(t,["outputCompressionQuality"]);return r!=null&&a(e,["imageOutputOptions","compressionQuality"],r),e}function AE(t){const e={},n=s(t,["bytesBase64Encoded"]);n!=null&&a(e,["imageBytes"],Gt(n));const o=s(t,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function Tp(t){const e={},n=s(t,["gcsUri"]);n!=null&&a(e,["gcsUri"],n);const o=s(t,["bytesBase64Encoded"]);o!=null&&a(e,["imageBytes"],Gt(o));const i=s(t,["mimeType"]);return i!=null&&a(e,["mimeType"],i),e}function hr(t){const e={};if(s(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=s(t,["imageBytes"]);n!=null&&a(e,["bytesBase64Encoded"],Gt(n));const o=s(t,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function Ze(t){const e={},n=s(t,["gcsUri"]);n!=null&&a(e,["gcsUri"],n);const o=s(t,["imageBytes"]);o!=null&&a(e,["bytesBase64Encoded"],Gt(o));const i=s(t,["mimeType"]);return i!=null&&a(e,["mimeType"],i),e}function RE(t,e,n){const o={},i=s(e,["pageSize"]);n!==void 0&&i!=null&&a(n,["_query","pageSize"],i);const r=s(e,["pageToken"]);n!==void 0&&r!=null&&a(n,["_query","pageToken"],r);const l=s(e,["filter"]);n!==void 0&&l!=null&&a(n,["_query","filter"],l);const u=s(e,["queryBase"]);return n!==void 0&&u!=null&&a(n,["_url","models_url"],mp(t,u)),o}function NE(t,e,n){const o={},i=s(e,["pageSize"]);n!==void 0&&i!=null&&a(n,["_query","pageSize"],i);const r=s(e,["pageToken"]);n!==void 0&&r!=null&&a(n,["_query","pageToken"],r);const l=s(e,["filter"]);n!==void 0&&l!=null&&a(n,["_query","filter"],l);const u=s(e,["queryBase"]);return n!==void 0&&u!=null&&a(n,["_url","models_url"],mp(t,u)),o}function PE(t,e){const n={},o=s(e,["config"]);return o!=null&&RE(t,o,n),n}function xE(t,e){const n={},o=s(e,["config"]);return o!=null&&NE(t,o,n),n}function ME(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["nextPageToken"]);o!=null&&a(e,["nextPageToken"],o);const i=s(t,["_self"]);if(i!=null){let r=hp(i);Array.isArray(r)&&(r=r.map(l=>Ws(l))),a(e,["models"],r)}return e}function kE(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["nextPageToken"]);o!=null&&a(e,["nextPageToken"],o);const i=s(t,["_self"]);if(i!=null){let r=hp(i);Array.isArray(r)&&(r=r.map(l=>Ks(l))),a(e,["models"],r)}return e}function DE(t){const e={},n=s(t,["maskMode"]);n!=null&&a(e,["maskMode"],n);const o=s(t,["segmentationClasses"]);o!=null&&a(e,["maskClasses"],o);const i=s(t,["maskDilation"]);return i!=null&&a(e,["dilation"],i),e}function Ws(t){const e={},n=s(t,["name"]);n!=null&&a(e,["name"],n);const o=s(t,["displayName"]);o!=null&&a(e,["displayName"],o);const i=s(t,["description"]);i!=null&&a(e,["description"],i);const r=s(t,["version"]);r!=null&&a(e,["version"],r);const l=s(t,["_self"]);l!=null&&a(e,["tunedModelInfo"],QE(l));const u=s(t,["inputTokenLimit"]);u!=null&&a(e,["inputTokenLimit"],u);const c=s(t,["outputTokenLimit"]);c!=null&&a(e,["outputTokenLimit"],c);const d=s(t,["supportedGenerationMethods"]);d!=null&&a(e,["supportedActions"],d);const f=s(t,["temperature"]);f!=null&&a(e,["temperature"],f);const m=s(t,["maxTemperature"]);m!=null&&a(e,["maxTemperature"],m);const p=s(t,["topP"]);p!=null&&a(e,["topP"],p);const h=s(t,["topK"]);h!=null&&a(e,["topK"],h);const E=s(t,["thinking"]);return E!=null&&a(e,["thinking"],E),e}function Ks(t){const e={},n=s(t,["name"]);n!=null&&a(e,["name"],n);const o=s(t,["displayName"]);o!=null&&a(e,["displayName"],o);const i=s(t,["description"]);i!=null&&a(e,["description"],i);const r=s(t,["versionId"]);r!=null&&a(e,["version"],r);const l=s(t,["deployedModels"]);if(l!=null){let m=l;Array.isArray(m)&&(m=m.map(p=>W0(p))),a(e,["endpoints"],m)}const u=s(t,["labels"]);u!=null&&a(e,["labels"],u);const c=s(t,["_self"]);c!=null&&a(e,["tunedModelInfo"],XE(c));const d=s(t,["defaultCheckpointId"]);d!=null&&a(e,["defaultCheckpointId"],d);const f=s(t,["checkpoints"]);if(f!=null){let m=f;Array.isArray(m)&&(m=m.map(p=>p)),a(e,["checkpoints"],m)}return e}function LE(t){const e={},n=s(t,["mediaResolution"]);n!=null&&a(e,["mediaResolution"],n);const o=s(t,["codeExecutionResult"]);o!=null&&a(e,["codeExecutionResult"],o);const i=s(t,["executableCode"]);i!=null&&a(e,["executableCode"],i);const r=s(t,["fileData"]);r!=null&&a(e,["fileData"],K0(r));const l=s(t,["functionCall"]);l!=null&&a(e,["functionCall"],Y0(l));const u=s(t,["functionResponse"]);u!=null&&a(e,["functionResponse"],u);const c=s(t,["inlineData"]);c!=null&&a(e,["inlineData"],E0(c));const d=s(t,["text"]);d!=null&&a(e,["text"],d);const f=s(t,["thought"]);f!=null&&a(e,["thought"],f);const m=s(t,["thoughtSignature"]);m!=null&&a(e,["thoughtSignature"],m);const p=s(t,["videoMetadata"]);return p!=null&&a(e,["videoMetadata"],p),e}function UE(t){const e={},n=s(t,["productImage"]);return n!=null&&a(e,["image"],Ze(n)),e}function FE(t,e){const n={},o=s(t,["numberOfImages"]);e!==void 0&&o!=null&&a(e,["parameters","sampleCount"],o);const i=s(t,["baseSteps"]);e!==void 0&&i!=null&&a(e,["parameters","baseSteps"],i);const r=s(t,["outputGcsUri"]);e!==void 0&&r!=null&&a(e,["parameters","storageUri"],r);const l=s(t,["seed"]);e!==void 0&&l!=null&&a(e,["parameters","seed"],l);const u=s(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&a(e,["parameters","safetySetting"],u);const c=s(t,["personGeneration"]);e!==void 0&&c!=null&&a(e,["parameters","personGeneration"],c);const d=s(t,["addWatermark"]);e!==void 0&&d!=null&&a(e,["parameters","addWatermark"],d);const f=s(t,["outputMimeType"]);e!==void 0&&f!=null&&a(e,["parameters","outputOptions","mimeType"],f);const m=s(t,["outputCompressionQuality"]);e!==void 0&&m!=null&&a(e,["parameters","outputOptions","compressionQuality"],m);const p=s(t,["enhancePrompt"]);e!==void 0&&p!=null&&a(e,["parameters","enhancePrompt"],p);const h=s(t,["labels"]);return e!==void 0&&h!=null&&a(e,["labels"],h),n}function VE(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","model"],H(t,o));const i=s(e,["source"]);i!=null&&HE(i,n);const r=s(e,["config"]);return r!=null&&FE(r,n),n}function GE(t){const e={},n=s(t,["predictions"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(i=>mr(i))),a(e,["generatedImages"],o)}return e}function HE(t,e){const n={},o=s(t,["prompt"]);e!==void 0&&o!=null&&a(e,["instances[0]","prompt"],o);const i=s(t,["personImage"]);e!==void 0&&i!=null&&a(e,["instances[0]","personImage","image"],Ze(i));const r=s(t,["productImages"]);if(e!==void 0&&r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>UE(u))),a(e,["instances[0]","productImages"],l)}return n}function BE(t){const e={},n=s(t,["referenceImage"]);n!=null&&a(e,["referenceImage"],Ze(n));const o=s(t,["referenceId"]);o!=null&&a(e,["referenceId"],o);const i=s(t,["referenceType"]);i!=null&&a(e,["referenceType"],i);const r=s(t,["maskImageConfig"]);r!=null&&a(e,["maskImageConfig"],DE(r));const l=s(t,["controlImageConfig"]);l!=null&&a(e,["controlImageConfig"],A0(l));const u=s(t,["styleImageConfig"]);u!=null&&a(e,["styleImageConfig"],u);const c=s(t,["subjectImageConfig"]);return c!=null&&a(e,["subjectImageConfig"],c),e}function Sp(t){const e={},n=s(t,["safetyAttributes","categories"]);n!=null&&a(e,["categories"],n);const o=s(t,["safetyAttributes","scores"]);o!=null&&a(e,["scores"],o);const i=s(t,["contentType"]);return i!=null&&a(e,["contentType"],i),e}function Cp(t){const e={},n=s(t,["safetyAttributes","categories"]);n!=null&&a(e,["categories"],n);const o=s(t,["safetyAttributes","scores"]);o!=null&&a(e,["scores"],o);const i=s(t,["contentType"]);return i!=null&&a(e,["contentType"],i),e}function qE(t){const e={},n=s(t,["category"]);if(n!=null&&a(e,["category"],n),s(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const o=s(t,["threshold"]);return o!=null&&a(e,["threshold"],o),e}function zE(t){const e={},n=s(t,["image"]);return n!=null&&a(e,["image"],Ze(n)),e}function $E(t,e){const n={},o=s(t,["mode"]);e!==void 0&&o!=null&&a(e,["parameters","mode"],o);const i=s(t,["maxPredictions"]);e!==void 0&&i!=null&&a(e,["parameters","maxPredictions"],i);const r=s(t,["confidenceThreshold"]);e!==void 0&&r!=null&&a(e,["parameters","confidenceThreshold"],r);const l=s(t,["maskDilation"]);e!==void 0&&l!=null&&a(e,["parameters","maskDilation"],l);const u=s(t,["binaryColorThreshold"]);e!==void 0&&u!=null&&a(e,["parameters","binaryColorThreshold"],u);const c=s(t,["labels"]);return e!==void 0&&c!=null&&a(e,["labels"],c),n}function JE(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","model"],H(t,o));const i=s(e,["source"]);i!=null&&WE(i,n);const r=s(e,["config"]);return r!=null&&$E(r,n),n}function OE(t){const e={},n=s(t,["predictions"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(i=>gE(i))),a(e,["generatedMasks"],o)}return e}function WE(t,e){const n={},o=s(t,["prompt"]);e!==void 0&&o!=null&&a(e,["instances[0]","prompt"],o);const i=s(t,["image"]);e!==void 0&&i!=null&&a(e,["instances[0]","image"],Ze(i));const r=s(t,["scribbleImage"]);return e!==void 0&&r!=null&&a(e,["instances[0]","scribble"],zE(r)),n}function KE(t){const e={},n=s(t,["functionCallingConfig"]);n!=null&&a(e,["functionCallingConfig"],Q0(n));const o=s(t,["retrievalConfig"]);return o!=null&&a(e,["retrievalConfig"],o),e}function YE(t){const e={},n=s(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(m=>m)),a(e,["functionDeclarations"],f)}if(s(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=s(t,["googleSearchRetrieval"]);o!=null&&a(e,["googleSearchRetrieval"],o);const i=s(t,["computerUse"]);i!=null&&a(e,["computerUse"],i);const r=s(t,["fileSearch"]);r!=null&&a(e,["fileSearch"],r);const l=s(t,["codeExecution"]);if(l!=null&&a(e,["codeExecution"],l),s(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=s(t,["googleMaps"]);u!=null&&a(e,["googleMaps"],SE(u));const c=s(t,["googleSearch"]);c!=null&&a(e,["googleSearch"],CE(c));const d=s(t,["urlContext"]);return d!=null&&a(e,["urlContext"],d),e}function Ip(t){const e={},n=s(t,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(p=>X0(p))),a(e,["functionDeclarations"],m)}const o=s(t,["retrieval"]);o!=null&&a(e,["retrieval"],o);const i=s(t,["googleSearchRetrieval"]);i!=null&&a(e,["googleSearchRetrieval"],i);const r=s(t,["computerUse"]);if(r!=null&&a(e,["computerUse"],r),s(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=s(t,["codeExecution"]);l!=null&&a(e,["codeExecution"],l);const u=s(t,["enterpriseWebSearch"]);u!=null&&a(e,["enterpriseWebSearch"],u);const c=s(t,["googleMaps"]);c!=null&&a(e,["googleMaps"],c);const d=s(t,["googleSearch"]);d!=null&&a(e,["googleSearch"],d);const f=s(t,["urlContext"]);return f!=null&&a(e,["urlContext"],f),e}function QE(t){const e={},n=s(t,["baseModel"]);n!=null&&a(e,["baseModel"],n);const o=s(t,["createTime"]);o!=null&&a(e,["createTime"],o);const i=s(t,["updateTime"]);return i!=null&&a(e,["updateTime"],i),e}function XE(t){const e={},n=s(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&a(e,["baseModel"],n);const o=s(t,["createTime"]);o!=null&&a(e,["createTime"],o);const i=s(t,["updateTime"]);return i!=null&&a(e,["updateTime"],i),e}function ZE(t,e){const n={},o=s(t,["displayName"]);e!==void 0&&o!=null&&a(e,["displayName"],o);const i=s(t,["description"]);e!==void 0&&i!=null&&a(e,["description"],i);const r=s(t,["defaultCheckpointId"]);return e!==void 0&&r!=null&&a(e,["defaultCheckpointId"],r),n}function bE(t,e){const n={},o=s(t,["displayName"]);e!==void 0&&o!=null&&a(e,["displayName"],o);const i=s(t,["description"]);e!==void 0&&i!=null&&a(e,["description"],i);const r=s(t,["defaultCheckpointId"]);return e!==void 0&&r!=null&&a(e,["defaultCheckpointId"],r),n}function jE(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","name"],H(t,o));const i=s(e,["config"]);return i!=null&&ZE(i,n),n}function e_(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","model"],H(t,o));const i=s(e,["config"]);return i!=null&&bE(i,n),n}function t_(t,e){const n={},o=s(t,["outputGcsUri"]);e!==void 0&&o!=null&&a(e,["parameters","storageUri"],o);const i=s(t,["safetyFilterLevel"]);e!==void 0&&i!=null&&a(e,["parameters","safetySetting"],i);const r=s(t,["personGeneration"]);e!==void 0&&r!=null&&a(e,["parameters","personGeneration"],r);const l=s(t,["includeRaiReason"]);e!==void 0&&l!=null&&a(e,["parameters","includeRaiReason"],l);const u=s(t,["outputMimeType"]);e!==void 0&&u!=null&&a(e,["parameters","outputOptions","mimeType"],u);const c=s(t,["outputCompressionQuality"]);e!==void 0&&c!=null&&a(e,["parameters","outputOptions","compressionQuality"],c);const d=s(t,["enhanceInputImage"]);e!==void 0&&d!=null&&a(e,["parameters","upscaleConfig","enhanceInputImage"],d);const f=s(t,["imagePreservationFactor"]);e!==void 0&&f!=null&&a(e,["parameters","upscaleConfig","imagePreservationFactor"],f);const m=s(t,["labels"]);e!==void 0&&m!=null&&a(e,["labels"],m);const p=s(t,["numberOfImages"]);e!==void 0&&p!=null&&a(e,["parameters","sampleCount"],p);const h=s(t,["mode"]);return e!==void 0&&h!=null&&a(e,["parameters","mode"],h),n}function n_(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","model"],H(t,o));const i=s(e,["image"]);i!=null&&a(n,["instances[0]","image"],Ze(i));const r=s(e,["upscaleFactor"]);r!=null&&a(n,["parameters","upscaleConfig","upscaleFactor"],r);const l=s(e,["config"]);return l!=null&&t_(l,n),n}function o_(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["predictions"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(r=>mr(r))),a(e,["generatedImages"],i)}return e}function i_(t){const e={},n=s(t,["uri"]);n!=null&&a(e,["uri"],n);const o=s(t,["encodedVideo"]);o!=null&&a(e,["videoBytes"],Gt(o));const i=s(t,["encoding"]);return i!=null&&a(e,["mimeType"],i),e}function r_(t){const e={},n=s(t,["gcsUri"]);n!=null&&a(e,["uri"],n);const o=s(t,["bytesBase64Encoded"]);o!=null&&a(e,["videoBytes"],Gt(o));const i=s(t,["mimeType"]);return i!=null&&a(e,["mimeType"],i),e}function s_(t){const e={},n=s(t,["image"]);n!=null&&a(e,["_self"],Ze(n));const o=s(t,["maskMode"]);return o!=null&&a(e,["maskMode"],o),e}function l_(t){const e={},n=s(t,["image"]);n!=null&&a(e,["image"],hr(n));const o=s(t,["referenceType"]);return o!=null&&a(e,["referenceType"],o),e}function a_(t){const e={},n=s(t,["image"]);n!=null&&a(e,["image"],Ze(n));const o=s(t,["referenceType"]);return o!=null&&a(e,["referenceType"],o),e}function wp(t){const e={},n=s(t,["uri"]);n!=null&&a(e,["uri"],n);const o=s(t,["videoBytes"]);o!=null&&a(e,["encodedVideo"],Gt(o));const i=s(t,["mimeType"]);return i!=null&&a(e,["encoding"],i),e}function Ap(t){const e={},n=s(t,["uri"]);n!=null&&a(e,["gcsUri"],n);const o=s(t,["videoBytes"]);o!=null&&a(e,["bytesBase64Encoded"],Gt(o));const i=s(t,["mimeType"]);return i!=null&&a(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function u_(t,e){const n={},o=s(t,["displayName"]);return e!==void 0&&o!=null&&a(e,["displayName"],o),n}function c_(t){const e={},n=s(t,["config"]);return n!=null&&u_(n,e),e}function d_(t,e){const n={},o=s(t,["force"]);return e!==void 0&&o!=null&&a(e,["_query","force"],o),n}function f_(t){const e={},n=s(t,["name"]);n!=null&&a(e,["_url","name"],n);const o=s(t,["config"]);return o!=null&&d_(o,e),e}function p_(t){const e={},n=s(t,["name"]);return n!=null&&a(e,["_url","name"],n),e}function m_(t,e){const n={},o=s(t,["customMetadata"]);if(e!==void 0&&o!=null){let r=o;Array.isArray(r)&&(r=r.map(l=>l)),a(e,["customMetadata"],r)}const i=s(t,["chunkingConfig"]);return e!==void 0&&i!=null&&a(e,["chunkingConfig"],i),n}function h_(t){const e={},n=s(t,["name"]);n!=null&&a(e,["name"],n);const o=s(t,["metadata"]);o!=null&&a(e,["metadata"],o);const i=s(t,["done"]);i!=null&&a(e,["done"],i);const r=s(t,["error"]);r!=null&&a(e,["error"],r);const l=s(t,["response"]);return l!=null&&a(e,["response"],v_(l)),e}function g_(t){const e={},n=s(t,["fileSearchStoreName"]);n!=null&&a(e,["_url","file_search_store_name"],n);const o=s(t,["fileName"]);o!=null&&a(e,["fileName"],o);const i=s(t,["config"]);return i!=null&&m_(i,e),e}function v_(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["parent"]);o!=null&&a(e,["parent"],o);const i=s(t,["documentName"]);return i!=null&&a(e,["documentName"],i),e}function y_(t,e){const n={},o=s(t,["pageSize"]);e!==void 0&&o!=null&&a(e,["_query","pageSize"],o);const i=s(t,["pageToken"]);return e!==void 0&&i!=null&&a(e,["_query","pageToken"],i),n}function E_(t){const e={},n=s(t,["config"]);return n!=null&&y_(n,e),e}function __(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["nextPageToken"]);o!=null&&a(e,["nextPageToken"],o);const i=s(t,["fileSearchStores"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(l=>l)),a(e,["fileSearchStores"],r)}return e}function Rp(t,e){const n={},o=s(t,["mimeType"]);e!==void 0&&o!=null&&a(e,["mimeType"],o);const i=s(t,["displayName"]);e!==void 0&&i!=null&&a(e,["displayName"],i);const r=s(t,["customMetadata"]);if(e!==void 0&&r!=null){let u=r;Array.isArray(u)&&(u=u.map(c=>c)),a(e,["customMetadata"],u)}const l=s(t,["chunkingConfig"]);return e!==void 0&&l!=null&&a(e,["chunkingConfig"],l),n}function T_(t){const e={},n=s(t,["fileSearchStoreName"]);n!=null&&a(e,["_url","file_search_store_name"],n);const o=s(t,["config"]);return o!=null&&Rp(o,e),e}function S_(t){const e={},n=s(t,["sdkHttpResponse"]);return n!=null&&a(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const C_="Content-Type",I_="X-Server-Timeout",w_="User-Agent",Ys="x-goog-api-client",A_="1.34.0",R_=`google-genai-sdk/${A_}`,N_="v1beta1",P_="v1beta";class x_{constructor(e){var n,o;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:N_,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:P_,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const o=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&o.push(e.apiVersion),o.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,o){const i=[this.getRequestUrlInternal(n)];return o&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const o=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,o);if(e.queryParams)for(const[l,u]of Object.entries(e.queryParams))i.searchParams.append(l,String(u));let r={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else r.body=e.body;return r=await this.includeExtraHttpOptionsToRequestInit(r,n,i.toString(),e.abortSignal),this.unaryApiCall(i,r,e.httpMethod)}patchHttpOptions(e,n){const o=JSON.parse(JSON.stringify(e));for(const[i,r]of Object.entries(n))typeof r=="object"?o[i]=Object.assign(Object.assign({},o[i]),r):r!==void 0&&(o[i]=r);return o}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const o=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,o);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let r={};return r.body=e.body,r=await this.includeExtraHttpOptionsToRequestInit(r,n,i.toString(),e.abortSignal),this.streamApiCall(i,r,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,o,i){if(n&&n.timeout||i){const r=new AbortController,l=r.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const u=setTimeout(()=>r.abort(),n.timeout);u&&typeof u.unref=="function"&&u.unref()}i&&i.addEventListener("abort",()=>{r.abort()}),e.signal=l}return n&&n.extraBody!==null&&M_(e,n.extraBody),e.headers=await this.getHeadersInternal(n,o),e}async unaryApiCall(e,n,o){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:o})).then(async i=>(await Dc(i),new $s(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,n,o){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:o})).then(async i=>(await Dc(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){return Ye(this,arguments,function*(){var o;const i=(o=e==null?void 0:e.body)===null||o===void 0?void 0:o.getReader(),r=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let l="";const u="data:",c=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:d,value:f}=yield L(i.read());if(d){if(l.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const m=r.decode(f,{stream:!0});try{const E=JSON.parse(m);if("error"in E){const _=JSON.parse(JSON.stringify(E.error)),T=_.status,v=_.code,g=`got status: ${T}. ${JSON.stringify(E)}`;if(v>=400&&v<600)throw new fr({message:g,status:v})}}catch(E){if(E.name==="ApiError")throw E}l+=m;let p=-1,h=0;for(;;){p=-1,h=0;for(const T of c){const v=l.indexOf(T);v!==-1&&(p===-1||v<p)&&(p=v,h=T.length)}if(p===-1)break;const E=l.substring(0,p);l=l.substring(p+h);const _=E.trim();if(_.startsWith(u)){const T=_.substring(u.length).trim();try{const v=new Response(T,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield L(new $s(v))}catch(v){throw new Error(`exception parsing stream chunk ${T}. ${v}`)}}}}}finally{i.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(o=>{throw new Error(`exception ${o} sending request`)})}getDefaultHeaders(){const e={},n=R_+" "+this.clientOptions.userAgentExtra;return e[w_]=n,e[Ys]=n,e[C_]="application/json",e}async getHeadersInternal(e,n){const o=new Headers;if(e&&e.headers){for(const[i,r]of Object.entries(e.headers))o.append(i,r);e.timeout&&e.timeout>0&&o.append(I_,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(o,n),o}getFileName(e){var n;let o="";return typeof e=="string"&&(o=e.replace(/[/\\]+$/,""),o=(n=o.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),o}async uploadFile(e,n){var o;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const r=this.clientOptions.uploader,l=await r.stat(e);i.sizeBytes=String(l.size);const u=(o=n==null?void 0:n.mimeType)!==null&&o!==void 0?o:l.type;if(u===void 0||u==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=u;const c={file:i},d=this.getFileName(e),f=P("upload/v1beta/files",c._url),m=await this.fetchUploadUrl(f,i.sizeBytes,i.mimeType,d,c,n==null?void 0:n.httpOptions);return r.upload(e,m,this)}async uploadFileToFileSearchStore(e,n,o){var i;const r=this.clientOptions.uploader,l=await r.stat(n),u=String(l.size),c=(i=o==null?void 0:o.mimeType)!==null&&i!==void 0?i:l.type;if(c===void 0||c==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const d=`upload/v1beta/${e}:uploadToFileSearchStore`,f=this.getFileName(n),m={};o!=null&&Rp(o,m);const p=await this.fetchUploadUrl(d,u,c,f,m,o==null?void 0:o.httpOptions);return r.uploadToFileSearchStore(n,p,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,o,i,r,l){var u;let c={};l?c=l:c={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${o}`},i?{"X-Goog-Upload-File-Name":i}:{})};const d=await this.request({path:e,body:JSON.stringify(r),httpMethod:"POST",httpOptions:c});if(!d||!(d!=null&&d.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const f=(u=d==null?void 0:d.headers)===null||u===void 0?void 0:u["x-goog-upload-url"];if(f===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return f}}async function Dc(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let o;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?o=await t.json():o={error:{message:await t.text(),code:t.status,status:t.statusText}};const i=JSON.stringify(o);throw n>=400&&n<600?new fr({message:i,status:n}):new Error(i)}}function M_(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const r=JSON.parse(t.body);if(typeof r=="object"&&r!==null&&!Array.isArray(r))n=r;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function o(r,l){const u=Object.assign({},r);for(const c in l)if(Object.prototype.hasOwnProperty.call(l,c)){const d=l[c],f=u[c];d&&typeof d=="object"&&!Array.isArray(d)&&f&&typeof f=="object"&&!Array.isArray(f)?u[c]=o(f,d):(f&&d&&typeof f!=typeof d&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${c}". Original type: ${typeof f}, New type: ${typeof d}. Overwriting.`),u[c]=d)}return u}const i=o(n,e);t.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const k_="mcp_used/unknown";let D_=!1;function Np(t){for(const e of t)if(L_(e)||typeof e=="object"&&"inputSchema"in e)return!0;return D_}function Pp(t){var e;const n=(e=t[Ys])!==null&&e!==void 0?e:"";t[Ys]=(n+` ${k_}`).trimStart()}function L_(t){return t!==null&&typeof t=="object"&&t instanceof na}function U_(t){return Ye(this,arguments,function*(n,o=100){let i,r=0;for(;r<o;){const l=yield L(n.listTools({cursor:i}));for(const u of l.tools)yield yield L(u),r++;if(!l.nextCursor)break;i=l.nextCursor}})}class na{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new na(e,n)}async initialize(){var e,n,o,i;if(this.mcpTools.length>0)return;const r={},l=[];for(const f of this.mcpClients)try{for(var u=!0,c=(n=void 0,Qe(U_(f))),d;d=await c.next(),e=d.done,!e;u=!0){i=d.value,u=!1;const m=i;l.push(m);const p=m.name;if(r[p])throw new Error(`Duplicate function name ${p} found in MCP tools. Please ensure function names are unique.`);r[p]=f}}catch(m){n={error:m}}finally{try{!u&&!e&&(o=c.return)&&await o.call(c)}finally{if(n)throw n.error}}this.mcpTools=l,this.functionNameToMcpClient=r}async tool(){return await this.initialize(),pv(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const o of e)if(o.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[o.name];let r;this.config.timeout&&(r={timeout:this.config.timeout});const l=await i.callTool({name:o.name,arguments:o.args},void 0,r);n.push({functionResponse:{name:o.name,response:l.isError?{error:l}:l}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function F_(t,e,n){const o=new rv;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),Object.assign(o,i),e(o)}class V_{constructor(e,n,o){this.apiClient=e,this.auth=n,this.webSocketFactory=o}async connect(e){var n,o;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),r=this.apiClient.getApiVersion(),l=B_(this.apiClient.getDefaultHeaders()),u=this.apiClient.getApiKey(),c=`${i}/ws/google.ai.generativelanguage.${r}.GenerativeService.BidiGenerateMusic?key=${u}`;let d=()=>{};const f=new Promise(y=>{d=y}),m=e.callbacks,p=function(){d({})},h=this.apiClient,E={onopen:p,onmessage:y=>{F_(h,m.onmessage,y)},onerror:(n=m==null?void 0:m.onerror)!==null&&n!==void 0?n:function(y){},onclose:(o=m==null?void 0:m.onclose)!==null&&o!==void 0?o:function(y){}},_=this.webSocketFactory.create(c,H_(l),E);_.connect(),await f;const g={setup:{model:H(this.apiClient,e.model)}};return _.send(JSON.stringify(g)),new G_(_,this.apiClient)}}class G_{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=c0(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=u0(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(En.PLAY)}pause(){this.sendPlaybackControl(En.PAUSE)}stop(){this.sendPlaybackControl(En.STOP)}resetContext(){this.sendPlaybackControl(En.RESET_CONTEXT)}close(){this.conn.close()}}function H_(t){const e={};return t.forEach((n,o)=>{e[o]=n}),e}function B_(t){const e=new Headers;for(const[n,o]of Object.entries(t))e.append(n,o);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const q_="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function z_(t,e,n){const o=new iv;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const r=JSON.parse(i);if(t.isVertexAI()){const l=p0(r);Object.assign(o,l)}else Object.assign(o,r);e(o)}class $_{constructor(e,n,o){this.apiClient=e,this.auth=n,this.webSocketFactory=o,this.music=new V_(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,o,i,r,l,u;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const c=this.apiClient.getWebsocketBaseUrl(),d=this.apiClient.getApiVersion();let f;const m=this.apiClient.getHeaders();e.config&&e.config.tools&&Np(e.config.tools)&&Pp(m);const p=K_(m);if(this.apiClient.isVertexAI())f=`${c}/ws/google.cloud.aiplatform.${d}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(p,f);else{const x=this.apiClient.getApiKey();let k="BidiGenerateContent",B="key";x!=null&&x.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),d!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),k="BidiGenerateContentConstrained",B="access_token"),f=`${c}/ws/google.ai.generativelanguage.${d}.GenerativeService.${k}?${B}=${x}`}let h=()=>{};const E=new Promise(x=>{h=x}),_=e.callbacks,T=function(){var x;(x=_==null?void 0:_.onopen)===null||x===void 0||x.call(_),h({})},v=this.apiClient,g={onopen:T,onmessage:x=>{z_(v,_.onmessage,x)},onerror:(n=_==null?void 0:_.onerror)!==null&&n!==void 0?n:function(x){},onclose:(o=_==null?void 0:_.onclose)!==null&&o!==void 0?o:function(x){}},y=this.webSocketFactory.create(f,W_(p),g);y.connect(),await E;let S=H(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&S.startsWith("publishers/")){const x=this.apiClient.getProject(),k=this.apiClient.getLocation();S=`projects/${x}/locations/${k}/`+S}let C={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Ji.AUDIO]}:e.config.responseModalities=[Ji.AUDIO]),!((r=e.config)===null||r===void 0)&&r.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const w=(u=(l=e.config)===null||l===void 0?void 0:l.tools)!==null&&u!==void 0?u:[],I=[];for(const x of w)if(this.isCallableTool(x)){const k=x;I.push(await k.tool())}else I.push(x);I.length>0&&(e.config.tools=I);const N={model:S,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?C=a0(this.apiClient,N):C=l0(this.apiClient,N),delete C.config,y.send(JSON.stringify(C)),new O_(y,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const J_={turnComplete:!0};class O_{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let o=[];try{o=Ge(n.turns),e.isVertexAI()||(o=o.map(i=>pr(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:o,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let o=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?o=n.functionResponses:o=[n.functionResponses],o.length===0)throw new Error("functionResponses is required.");for(const r of o){if(typeof r!="object"||r===null||!("name"in r)||!("response"in r))throw new Error(`Could not parse function response, type '${typeof r}'.`);if(!e.isVertexAI()&&!("id"in r))throw new Error(q_)}return{toolResponse:{functionResponses:o}}}sendClientContent(e){e=Object.assign(Object.assign({},J_),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:f0(e)}:n={realtimeInput:d0(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function W_(t){const e={};return t.forEach((n,o)=>{e[o]=n}),e}function K_(t){const e=new Headers;for(const[n,o]of Object.entries(t))e.append(n,o);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Lc=10;function Uc(t){var e,n,o;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const l of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(Nn(l)){i=!0;break}if(!i)return!0;const r=(o=t==null?void 0:t.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls;return r&&(r<0||!Number.isInteger(r))||r==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",r),!0):!1}function Nn(t){return"callTool"in t&&typeof t.callTool=="function"}function Y_(t){var e,n,o;return(o=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>Nn(i)))!==null&&o!==void 0?o:!1}function Fc(t){var e;const n=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((o,i)=>{if(Nn(o))return;const r=o;r.functionDeclarations&&r.functionDeclarations.length>0&&n.push(i)}),n}function Vc(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Q_ extends mt{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var o,i,r,l,u;const c=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!Y_(n)||Uc(n.config))return await this.generateContentInternal(c);const d=Fc(n);if(d.length>0){const _=d.map(T=>`tools[${T}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${_}.`)}let f,m;const p=Ge(c.contents),h=(r=(i=(o=c.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&r!==void 0?r:Lc;let E=0;for(;E<h&&(f=await this.generateContentInternal(c),!(!f.functionCalls||f.functionCalls.length===0));){const _=f.candidates[0].content,T=[];for(const v of(u=(l=n.config)===null||l===void 0?void 0:l.tools)!==null&&u!==void 0?u:[])if(Nn(v)){const y=await v.callTool(f.functionCalls);T.push(...y)}E++,m={role:"user",parts:T},c.contents=Ge(c.contents),c.contents.push(_),c.contents.push(m),Vc(c.config)&&(p.push(_),p.push(m))}return Vc(c.config)&&(f.automaticFunctionCallingHistory=p),f},this.generateContentStream=async n=>{var o,i,r,l,u;if(this.maybeMoveToResponseJsonSchem(n),Uc(n.config)){const m=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(m)}const c=Fc(n);if(c.length>0){const m=c.map(p=>`tools[${p}]`).join(", ");throw new Error(`Incompatible tools found at ${m}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const d=(r=(i=(o=n==null?void 0:n.config)===null||o===void 0?void 0:o.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||r===void 0?void 0:r.streamFunctionCallArguments,f=(u=(l=n==null?void 0:n.config)===null||l===void 0?void 0:l.automaticFunctionCalling)===null||u===void 0?void 0:u.disable;if(d&&!f)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(o=>{var i;let r;const l=[];if(o!=null&&o.generatedImages)for(const c of o.generatedImages)c&&(c!=null&&c.safetyAttributes)&&((i=c==null?void 0:c.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?r=c==null?void 0:c.safetyAttributes:l.push(c);let u;return r?u={generatedImages:l,positivePromptSafetyAttributes:r,sdkHttpResponse:o.sdkHttpResponse}:u={generatedImages:l,sdkHttpResponse:o.sdkHttpResponse},u}),this.list=async n=>{var o;const l={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!l.config.queryBase){if(!((o=l.config)===null||o===void 0)&&o.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");l.config.filter="labels.tune-type:*"}return new on(ft.PAGED_ITEM_MODELS,u=>this.listInternal(u),await this.listInternal(l),l)},this.editImage=async n=>{const o={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(o.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(o)},this.upscaleImage=async n=>{let o={numberOfImages:1,mode:"upscale"};n.config&&(o=Object.assign(Object.assign({},o),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:o};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{var o,i,r,l,u,c;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((o=n.video)===null||o===void 0)&&o.uri&&(!((i=n.video)===null||i===void 0)&&i.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((l=(r=n.source)===null||r===void 0?void 0:r.video)===null||l===void 0)&&l.uri&&(!((c=(u=n.source)===null||u===void 0?void 0:u.video)===null||c===void 0)&&c.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,o,i;const r=(n=e.config)===null||n===void 0?void 0:n.tools;if(!r)return e;const l=await Promise.all(r.map(async c=>Nn(c)?await c.tool():c)),u={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:l})};if(u.config.tools=l,e.config&&e.config.tools&&Np(e.config.tools)){const c=(i=(o=e.config.httpOptions)===null||o===void 0?void 0:o.headers)!==null&&i!==void 0?i:{};let d=Object.assign({},c);Object.keys(d).length===0&&(d=this.apiClient.getDefaultHeaders()),Pp(d),u.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:d})}return u}async initAfcToolsMap(e){var n,o,i;const r=new Map;for(const l of(o=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&o!==void 0?o:[])if(Nn(l)){const u=l,c=await u.tool();for(const d of(i=c.functionDeclarations)!==null&&i!==void 0?i:[]){if(!d.name)throw new Error("Function declaration name is required.");if(r.has(d.name))throw new Error(`Duplicate tool declaration name: ${d.name}`);r.set(d.name,u)}}return r}async processAfcStream(e){var n,o,i;const r=(i=(o=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&i!==void 0?i:Lc;let l=!1,u=0;const c=await this.initAfcToolsMap(e);return function(d,f,m){return Ye(this,arguments,function*(){for(var p,h,E,_,T,v;u<r;){l&&(u++,l=!1);const C=yield L(d.processParamsMaybeAddMcpUsage(m)),w=yield L(d.generateContentStreamInternal(C)),I=[],N=[];try{for(var g=!0,y=(h=void 0,Qe(w)),S;S=yield L(y.next()),p=S.done,!p;g=!0){_=S.value,g=!1;const x=_;if(yield yield L(x),x.candidates&&(!((T=x.candidates[0])===null||T===void 0)&&T.content)){N.push(x.candidates[0].content);for(const k of(v=x.candidates[0].content.parts)!==null&&v!==void 0?v:[])if(u<r&&k.functionCall){if(!k.functionCall.name)throw new Error("Function call name was not returned by the model.");if(f.has(k.functionCall.name)){const B=yield L(f.get(k.functionCall.name).callTool([k.functionCall]));I.push(...B)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${f.keys()}, mising tool: ${k.functionCall.name}`)}}}}catch(x){h={error:x}}finally{try{!g&&!p&&(E=y.return)&&(yield L(E.call(y)))}finally{if(h)throw h.error}}if(I.length>0){l=!0;const x=new Xn;x.candidates=[{content:{role:"user",parts:I}}],yield yield L(x);const k=[];k.push(...N),k.push({role:"user",parts:I});const B=Ge(m.contents).concat(k);m.contents=B}else break}})}(this,c,e)}async generateContentInternal(e){var n,o,i,r;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=xc(this.apiClient,e);return u=P("{model}:generateContent",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const m=kc(f),p=new Xn;return Object.assign(p,m),p})}else{const d=Pc(this.apiClient,e);return u=P("{model}:generateContent",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const m=Mc(f),p=new Xn;return Object.assign(p,m),p})}}async generateContentStreamInternal(e){var n,o,i,r;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=xc(this.apiClient,e);return u=P("{model}:streamGenerateContent?alt=sse",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.requestStream({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),l.then(function(m){return Ye(this,arguments,function*(){var p,h,E,_;try{for(var T=!0,v=Qe(m),g;g=yield L(v.next()),p=g.done,!p;T=!0){_=g.value,T=!1;const y=_,S=kc(yield L(y.json()));S.sdkHttpResponse={headers:y.headers};const C=new Xn;Object.assign(C,S),yield yield L(C)}}catch(y){h={error:y}}finally{try{!T&&!p&&(E=v.return)&&(yield L(E.call(v)))}finally{if(h)throw h.error}}})})}else{const d=Pc(this.apiClient,e);return u=P("{model}:streamGenerateContent?alt=sse",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.requestStream({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),l.then(function(m){return Ye(this,arguments,function*(){var p,h,E,_;try{for(var T=!0,v=Qe(m),g;g=yield L(v.next()),p=g.done,!p;T=!0){_=g.value,T=!1;const y=_,S=Mc(yield L(y.json()));S.sdkHttpResponse={headers:y.headers};const C=new Xn;Object.assign(C,S),yield yield L(C)}}catch(y){h={error:y}}finally{try{!T&&!p&&(E=v.return)&&(yield L(E.call(v)))}finally{if(h)throw h.error}}})})}}async embedContent(e){var n,o,i,r;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=$0(this.apiClient,e);return u=P("{model}:predict",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const m=O0(f),p=new fc;return Object.assign(p,m),p})}else{const d=z0(this.apiClient,e);return u=P("{model}:batchEmbedContents",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const m=J0(f),p=new fc;return Object.assign(p,m),p})}}async generateImagesInternal(e){var n,o,i,r;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=nE(this.apiClient,e);return u=P("{model}:predict",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const m=iE(f),p=new pc;return Object.assign(p,m),p})}else{const d=tE(this.apiClient,e);return u=P("{model}:predict",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const m=oE(f),p=new pc;return Object.assign(p,m),p})}}async editImageInternal(e){var n,o;let i,r="",l={};if(this.apiClient.isVertexAI()){const u=G0(this.apiClient,e);return r=P("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),i.then(c=>{const d=H0(c),f=new Kg;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,o;let i,r="",l={};if(this.apiClient.isVertexAI()){const u=n_(this.apiClient,e);return r=P("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),i.then(c=>{const d=o_(c),f=new Yg;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,o;let i,r="",l={};if(this.apiClient.isVertexAI()){const u=VE(this.apiClient,e);return r=P("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),i.then(c=>{const d=GE(c),f=new Qg;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,o;let i,r="",l={};if(this.apiClient.isVertexAI()){const u=JE(this.apiClient,e);return r=P("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),i.then(c=>{const d=OE(c),f=new Xg;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,o,i,r;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=TE(this.apiClient,e);return u=P("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>Ks(f))}else{const d=_E(this.apiClient,e);return u=P("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),l.then(f=>Ws(f))}}async listInternal(e){var n,o,i,r;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=xE(this.apiClient,e);return u=P("{models_url}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const m=kE(f),p=new mc;return Object.assign(p,m),p})}else{const d=PE(this.apiClient,e);return u=P("{models_url}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const m=ME(f),p=new mc;return Object.assign(p,m),p})}}async update(e){var n,o,i,r;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=e_(this.apiClient,e);return u=P("{model}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>Ks(f))}else{const d=jE(this.apiClient,e);return u=P("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),l.then(f=>Ws(f))}}async delete(e){var n,o,i,r;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=L0(this.apiClient,e);return u=P("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const m=F0(f),p=new hc;return Object.assign(p,m),p})}else{const d=D0(this.apiClient,e);return u=P("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const m=U0(f),p=new hc;return Object.assign(p,m),p})}}async countTokens(e){var n,o,i,r;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=x0(this.apiClient,e);return u=P("{model}:countTokens",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const m=k0(f),p=new gc;return Object.assign(p,m),p})}else{const d=P0(this.apiClient,e);return u=P("{model}:countTokens",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const m=M0(f),p=new gc;return Object.assign(p,m),p})}}async computeTokens(e){var n,o;let i,r="",l={};if(this.apiClient.isVertexAI()){const u=S0(this.apiClient,e);return r=P("{model}:computeTokens",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),i.then(c=>{const d=C0(c),f=new Zg;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,o,i,r;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=cE(this.apiClient,e);return u=P("{model}:predictLongRunning",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>{const m=aE(f),p=new Oi;return Object.assign(p,m),p})}else{const d=uE(this.apiClient,e);return u=P("{model}:predictLongRunning",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),l.then(f=>{const m=lE(f),p=new Oi;return Object.assign(p,m),p})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class X_ extends mt{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,o=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let r;o&&"httpOptions"in o&&(r=o.httpOptions);const l=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:r}});return n._fromAPIResponse({apiResponse:l,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:o});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(e){const n=e.operation,o=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let r;o&&"httpOptions"in o&&(r=o.httpOptions);const l=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:r}});return n._fromAPIResponse({apiResponse:l,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:o});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,o,i,r;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=qg(e);return u=P("{operationName}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l}else{const d=Bg(e);return u=P("{operationName}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),l}}async fetchPredictVideosOperationInternal(e){var n,o;let i,r="",l={};if(this.apiClient.isVertexAI()){const u=Dg(e);return r=P("{resourceName}:fetchPredictOperation",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Z_(t){const e={},n=s(t,["data"]);if(n!=null&&a(e,["data"],n),s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(t,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function b_(t){const e={},n=s(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>lT(r))),a(e,["parts"],i)}const o=s(t,["role"]);return o!=null&&a(e,["role"],o),e}function j_(t,e,n){const o={},i=s(e,["expireTime"]);n!==void 0&&i!=null&&a(n,["expireTime"],i);const r=s(e,["newSessionExpireTime"]);n!==void 0&&r!=null&&a(n,["newSessionExpireTime"],r);const l=s(e,["uses"]);n!==void 0&&l!=null&&a(n,["uses"],l);const u=s(e,["liveConnectConstraints"]);n!==void 0&&u!=null&&a(n,["bidiGenerateContentSetup"],sT(t,u));const c=s(e,["lockAdditionalFields"]);return n!==void 0&&c!=null&&a(n,["fieldMask"],c),o}function eT(t,e){const n={},o=s(e,["config"]);return o!=null&&a(n,["config"],j_(t,o,n)),n}function tT(t){const e={};if(s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=s(t,["fileUri"]);n!=null&&a(e,["fileUri"],n);const o=s(t,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function nT(t){const e={},n=s(t,["id"]);n!=null&&a(e,["id"],n);const o=s(t,["args"]);o!=null&&a(e,["args"],o);const i=s(t,["name"]);if(i!=null&&a(e,["name"],i),s(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(s(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function oT(t){const e={};if(s(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=s(t,["enableWidget"]);return n!=null&&a(e,["enableWidget"],n),e}function iT(t){const e={};if(s(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(s(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=s(t,["timeRangeFilter"]);return n!=null&&a(e,["timeRangeFilter"],n),e}function rT(t,e){const n={},o=s(t,["generationConfig"]);e!==void 0&&o!=null&&a(e,["setup","generationConfig"],o);const i=s(t,["responseModalities"]);e!==void 0&&i!=null&&a(e,["setup","generationConfig","responseModalities"],i);const r=s(t,["temperature"]);e!==void 0&&r!=null&&a(e,["setup","generationConfig","temperature"],r);const l=s(t,["topP"]);e!==void 0&&l!=null&&a(e,["setup","generationConfig","topP"],l);const u=s(t,["topK"]);e!==void 0&&u!=null&&a(e,["setup","generationConfig","topK"],u);const c=s(t,["maxOutputTokens"]);e!==void 0&&c!=null&&a(e,["setup","generationConfig","maxOutputTokens"],c);const d=s(t,["mediaResolution"]);e!==void 0&&d!=null&&a(e,["setup","generationConfig","mediaResolution"],d);const f=s(t,["seed"]);e!==void 0&&f!=null&&a(e,["setup","generationConfig","seed"],f);const m=s(t,["speechConfig"]);e!==void 0&&m!=null&&a(e,["setup","generationConfig","speechConfig"],ta(m));const p=s(t,["thinkingConfig"]);e!==void 0&&p!=null&&a(e,["setup","generationConfig","thinkingConfig"],p);const h=s(t,["enableAffectiveDialog"]);e!==void 0&&h!=null&&a(e,["setup","generationConfig","enableAffectiveDialog"],h);const E=s(t,["systemInstruction"]);e!==void 0&&E!=null&&a(e,["setup","systemInstruction"],b_(fe(E)));const _=s(t,["tools"]);if(e!==void 0&&_!=null){let w=Bn(_);Array.isArray(w)&&(w=w.map(I=>uT(Hn(I)))),a(e,["setup","tools"],w)}const T=s(t,["sessionResumption"]);e!==void 0&&T!=null&&a(e,["setup","sessionResumption"],aT(T));const v=s(t,["inputAudioTranscription"]);e!==void 0&&v!=null&&a(e,["setup","inputAudioTranscription"],v);const g=s(t,["outputAudioTranscription"]);e!==void 0&&g!=null&&a(e,["setup","outputAudioTranscription"],g);const y=s(t,["realtimeInputConfig"]);e!==void 0&&y!=null&&a(e,["setup","realtimeInputConfig"],y);const S=s(t,["contextWindowCompression"]);e!==void 0&&S!=null&&a(e,["setup","contextWindowCompression"],S);const C=s(t,["proactivity"]);if(e!==void 0&&C!=null&&a(e,["setup","proactivity"],C),s(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function sT(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["setup","model"],H(t,o));const i=s(e,["config"]);return i!=null&&a(n,["config"],rT(i,n)),n}function lT(t){const e={},n=s(t,["mediaResolution"]);n!=null&&a(e,["mediaResolution"],n);const o=s(t,["codeExecutionResult"]);o!=null&&a(e,["codeExecutionResult"],o);const i=s(t,["executableCode"]);i!=null&&a(e,["executableCode"],i);const r=s(t,["fileData"]);r!=null&&a(e,["fileData"],tT(r));const l=s(t,["functionCall"]);l!=null&&a(e,["functionCall"],nT(l));const u=s(t,["functionResponse"]);u!=null&&a(e,["functionResponse"],u);const c=s(t,["inlineData"]);c!=null&&a(e,["inlineData"],Z_(c));const d=s(t,["text"]);d!=null&&a(e,["text"],d);const f=s(t,["thought"]);f!=null&&a(e,["thought"],f);const m=s(t,["thoughtSignature"]);m!=null&&a(e,["thoughtSignature"],m);const p=s(t,["videoMetadata"]);return p!=null&&a(e,["videoMetadata"],p),e}function aT(t){const e={},n=s(t,["handle"]);if(n!=null&&a(e,["handle"],n),s(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function uT(t){const e={},n=s(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(m=>m)),a(e,["functionDeclarations"],f)}if(s(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=s(t,["googleSearchRetrieval"]);o!=null&&a(e,["googleSearchRetrieval"],o);const i=s(t,["computerUse"]);i!=null&&a(e,["computerUse"],i);const r=s(t,["fileSearch"]);r!=null&&a(e,["fileSearch"],r);const l=s(t,["codeExecution"]);if(l!=null&&a(e,["codeExecution"],l),s(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=s(t,["googleMaps"]);u!=null&&a(e,["googleMaps"],oT(u));const c=s(t,["googleSearch"]);c!=null&&a(e,["googleSearch"],iT(c));const d=s(t,["urlContext"]);return d!=null&&a(e,["urlContext"],d),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function cT(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const o=t[n];if(typeof o=="object"&&o!=null&&Object.keys(o).length>0){const i=Object.keys(o).map(r=>`${n}.${r}`);e.push(...i)}else e.push(n)}return e.join(",")}function dT(t,e){let n=null;const o=t.bidiGenerateContentSetup;if(typeof o=="object"&&o!==null&&"setup"in o){const r=o.setup;typeof r=="object"&&r!==null?(t.bidiGenerateContentSetup=r,n=r):delete t.bidiGenerateContentSetup}else o!==void 0&&delete t.bidiGenerateContentSetup;const i=t.fieldMask;if(n){const r=cT(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)r?t.fieldMask=r:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const l=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let u=[];i.length>0&&(u=i.map(d=>l.includes(d)?`generationConfig.${d}`:d));const c=[];r&&c.push(r),u.length>0&&c.push(...u),c.length>0?t.fieldMask=c.join(","):delete t.fieldMask}else delete t.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?t.fieldMask=i.join(","):delete t.fieldMask;return t}class fT extends mt{constructor(e){super(),this.apiClient=e}async create(e){var n,o;let i,r="",l={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const u=eT(this.apiClient,e);r=P("auth_tokens",u._url),l=u._query,delete u.config,delete u._url,delete u._query;const c=dT(u,e.config);return i=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),i.then(d=>d)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function pT(t,e){const n={},o=s(t,["force"]);return e!==void 0&&o!=null&&a(e,["_query","force"],o),n}function mT(t){const e={},n=s(t,["name"]);n!=null&&a(e,["_url","name"],n);const o=s(t,["config"]);return o!=null&&pT(o,e),e}function hT(t){const e={},n=s(t,["name"]);return n!=null&&a(e,["_url","name"],n),e}function gT(t,e){const n={},o=s(t,["pageSize"]);e!==void 0&&o!=null&&a(e,["_query","pageSize"],o);const i=s(t,["pageToken"]);return e!==void 0&&i!=null&&a(e,["_query","pageToken"],i),n}function vT(t){const e={},n=s(t,["parent"]);n!=null&&a(e,["_url","parent"],n);const o=s(t,["config"]);return o!=null&&gT(o,e),e}function yT(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["nextPageToken"]);o!=null&&a(e,["nextPageToken"],o);const i=s(t,["documents"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(l=>l)),a(e,["documents"],r)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ET extends mt{constructor(e){super(),this.apiClient=e,this.list=async n=>new on(ft.PAGED_ITEM_DOCUMENTS,o=>this.listInternal({parent:n.parent,config:o.config}),await this.listInternal(n),n)}async get(e){var n,o;let i,r="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=hT(e);return r=P("{name}",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async delete(e){var n,o;let i="",r={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=mT(e);i=P("{name}",l._url),r=l._query,delete l._url,delete l._query,await this.apiClient.request({path:i,queryParams:r,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var n,o;let i,r="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=vT(e);return r=P("{parent}/documents",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),i.then(c=>{const d=yT(c),f=new bg;return Object.assign(f,d),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class _T extends mt{constructor(e,n=new ET(e)){super(),this.apiClient=e,this.documents=n,this.list=async(o={})=>new on(ft.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(o),o)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,o;let i,r="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=c_(e);return r=P("fileSearchStores",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async get(e){var n,o;let i,r="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=p_(e);return r=P("{name}",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async delete(e){var n,o;let i="",r={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=f_(e);i=P("{name}",l._url),r=l._query,delete l._url,delete l._query,await this.apiClient.request({path:i,queryParams:r,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var n,o;let i,r="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=E_(e);return r=P("fileSearchStores",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),i.then(c=>{const d=__(c),f=new jg;return Object.assign(f,d),f})}}async uploadToFileSearchStoreInternal(e){var n,o;let i,r="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=T_(e);return r=P("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),i.then(c=>{const d=S_(c),f=new ev;return Object.assign(f,d),f})}}async importFile(e){var n,o;let i,r="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=g_(e);return r=P("{file_search_store_name}:importFile",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),i.then(c=>{const d=h_(c),f=new Xl;return Object.assign(f,d),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let xp=function(){const{crypto:t}=globalThis;if(t!=null&&t.randomUUID)return xp=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),n=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,o=>(+o^n()&15>>+o/4).toString(16))};const TT=()=>xp();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Qs(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const Xs=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class qe extends Error{}class ve extends qe{constructor(e,n,o,i){super(`${ve.makeMessage(e,n,o)}`),this.status=e,this.headers=i,this.error=n}static makeMessage(e,n,o){const i=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):o;return e&&i?`${e} ${i}`:e?`${e} status code (no body)`:i||"(no status code or body)"}static generate(e,n,o,i){if(!e||!i)return new gr({message:o,cause:Xs(n)});const r=n;return e===400?new kp(e,r,o,i):e===401?new Dp(e,r,o,i):e===403?new Lp(e,r,o,i):e===404?new Up(e,r,o,i):e===409?new Fp(e,r,o,i):e===422?new Vp(e,r,o,i):e===429?new Gp(e,r,o,i):e>=500?new Hp(e,r,o,i):new ve(e,r,o,i)}}class Zs extends ve{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class gr extends ve{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}}class Mp extends gr{constructor({message:e}={}){super({message:e??"Request timed out."})}}class kp extends ve{}class Dp extends ve{}class Lp extends ve{}class Up extends ve{}class Fp extends ve{}class Vp extends ve{}class Gp extends ve{}class Hp extends ve{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ST=/^[a-z][a-z0-9+.-]*:/i,CT=t=>ST.test(t);let bs=t=>(bs=Array.isArray,bs(t));const IT=bs;let wT=IT;const Gc=wT;function AT(t){if(!t)return!0;for(const e in t)return!1;return!0}function RT(t,e){return Object.prototype.hasOwnProperty.call(t,e)}const NT=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new qe(`${t} must be an integer`);if(e<0)throw new qe(`${t} must be a positive integer`);return e},PT=t=>{try{return JSON.parse(t)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const xT=t=>new Promise(e=>setTimeout(e,t));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const sn="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function MT(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const kT=()=>{var t,e,n,o,i;const r=MT();if(r==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":sn,"X-Stainless-OS":Bc(Deno.build.os),"X-Stainless-Arch":Hc(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(t=Deno.version)===null||t===void 0?void 0:t.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":sn,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(r==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":sn,"X-Stainless-OS":Bc((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":Hc((o=globalThis.process.arch)!==null&&o!==void 0?o:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(i=globalThis.process.version)!==null&&i!==void 0?i:"unknown"};const l=DT();return l?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":sn,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${l.browser}`,"X-Stainless-Runtime-Version":l.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":sn,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function DT(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const o=n.exec(navigator.userAgent);if(o){const i=o[1]||0,r=o[2]||0,l=o[3]||0;return{browser:e,version:`${i}.${r}.${l}`}}}return null}const Hc=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",Bc=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let ti;const LT=()=>ti??(ti=kT());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function UT(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function Bp(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function FT(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return Bp({start(){},async pull(n){const{done:o,value:i}=await e.next();o?n.close():n.enqueue(i)},async cancel(){var n;await((n=e.return)===null||n===void 0?void 0:n.call(e))}})}function qp(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n!=null&&n.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function VT(t){var e,n;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((n=(e=t[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(e));return}const o=t.getReader(),i=o.cancel();o.releaseLock(),await i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const GT=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const zp=()=>{var t;if(typeof File>"u"){const{process:e}=globalThis,n=typeof((t=e==null?void 0:e.versions)===null||t===void 0?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Wr(t,e,n){return zp(),new File(t,e??"unknown_file",n)}function HT(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const BT=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const $p=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",qT=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&$p(t),zT=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function $T(t,e,n){if(zp(),t=await t,qT(t))return t instanceof File?t:Wr([await t.arrayBuffer()],t.name);if(zT(t)){const i=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),Wr(await js(i),e,n)}const o=await js(t);if(e||(e=HT(t)),!(n!=null&&n.type)){const i=o.find(r=>typeof r=="object"&&"type"in r&&r.type);typeof i=="string"&&(n=Object.assign(Object.assign({},n),{type:i}))}return Wr(o,e,n)}async function js(t){var e,n,o,i,r;let l=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)l.push(t);else if($p(t))l.push(t instanceof Blob?t:await t.arrayBuffer());else if(BT(t))try{for(var u=!0,c=Qe(t),d;d=await c.next(),e=d.done,!e;u=!0){i=d.value,u=!1;const f=i;l.push(...await js(f))}}catch(f){n={error:f}}finally{try{!u&&!e&&(o=c.return)&&await o.call(c)}finally{if(n)throw n.error}}else{const f=(r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name;throw new Error(`Unexpected data type: ${typeof t}${f?`; constructor: ${f}`:""}${JT(t)}`)}return l}function JT(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Jp{constructor(e){this._client=e}}Jp._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Op(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const qc=Object.freeze(Object.create(null)),OT=(t=Op)=>function(n,...o){if(n.length===1)return n[0];let i=!1;const r=[],l=n.reduce((f,m,p)=>{var h,E,_;/[?#]/.test(m)&&(i=!0);const T=o[p];let v=(i?encodeURIComponent:t)(""+T);return p!==o.length&&(T==null||typeof T=="object"&&T.toString===((_=Object.getPrototypeOf((E=Object.getPrototypeOf((h=T.hasOwnProperty)!==null&&h!==void 0?h:qc))!==null&&E!==void 0?E:qc))===null||_===void 0?void 0:_.toString))&&(v=T+"",r.push({start:f.length+m.length,length:v.length,error:`Value of type ${Object.prototype.toString.call(T).slice(8,-1)} is not a valid path parameter`})),f+m+(p===o.length?"":v)},""),u=l.split(/[?#]/,1)[0],c=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let d;for(;(d=c.exec(u))!==null;)r.push({start:d.index,length:d[0].length,error:`Value "${d[0]}" can't be safely passed as a path parameter`});if(r.sort((f,m)=>f.start-m.start),r.length>0){let f=0;const m=r.reduce((p,h)=>{const E=" ".repeat(h.start-f),_="^".repeat(h.length);return f=h.start+h.length,p+E+_},"");throw new qe(`Path parameters result in path with invalid segments:
${r.map(p=>p.error).join(`
`)}
${l}
${m}`)}return l},ni=OT(Op);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Wp extends Jp{create(e,n){var o;const{api_version:i=this._client.apiVersion}=e,r=Ki(e,["api_version"]);if("model"in r&&"agent_config"in r)throw new qe("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in r&&"generation_config"in r)throw new qe("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(ni`/${i}/interactions`,Object.assign(Object.assign({body:r},n),{stream:(o=e.stream)!==null&&o!==void 0?o:!1}))}delete(e,n={},o){const{api_version:i=this._client.apiVersion}=n??{};return this._client.delete(ni`/${i}/interactions/${e}`,o)}cancel(e,n={},o){const{api_version:i=this._client.apiVersion}=n??{};return this._client.post(ni`/${i}/interactions/${e}/cancel`,o)}get(e,n={},o){var i;const r=n??{},{api_version:l=this._client.apiVersion}=r,u=Ki(r,["api_version"]);return this._client.get(ni`/${l}/interactions/${e}`,Object.assign(Object.assign({query:u},o),{stream:(i=n==null?void 0:n.stream)!==null&&i!==void 0?i:!1}))}}Wp._key=Object.freeze(["interactions"]);class Kp extends Wp{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function WT(t){let e=0;for(const i of t)e+=i.length;const n=new Uint8Array(e);let o=0;for(const i of t)n.set(i,o),o+=i.length;return n}let oi;function oa(t){let e;return(oi??(e=new globalThis.TextEncoder,oi=e.encode.bind(e)))(t)}let ii;function zc(t){let e;return(ii??(e=new globalThis.TextDecoder,ii=e.decode.bind(e)))(t)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class vr{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?oa(e):e;this.buffer=WT([this.buffer,n]);const o=[];let i;for(;(i=KT(this.buffer,this.carriageReturnIndex))!=null;){if(i.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=i.index;continue}if(this.carriageReturnIndex!=null&&(i.index!==this.carriageReturnIndex+1||i.carriage)){o.push(zc(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const r=this.carriageReturnIndex!==null?i.preceding-1:i.preceding,l=zc(this.buffer.subarray(0,r));o.push(l),this.buffer=this.buffer.subarray(i.index),this.carriageReturnIndex=null}return o}flush(){return this.buffer.length?this.decode(`
`):[]}}vr.NEWLINE_CHARS=new Set([`
`,"\r"]);vr.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function KT(t,e){for(let i=e??0;i<t.length;i++){if(t[i]===10)return{preceding:i,index:i+1,carriage:!1};if(t[i]===13)return{preceding:i,index:i+1,carriage:!0}}return null}function YT(t){for(let o=0;o<t.length-1;o++){if(t[o]===10&&t[o+1]===10||t[o]===13&&t[o+1]===13)return o+2;if(t[o]===13&&t[o+1]===10&&o+3<t.length&&t[o+2]===13&&t[o+3]===10)return o+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Yi={off:0,error:200,warn:300,info:400,debug:500},$c=(t,e,n)=>{if(t){if(RT(Yi,t))return t;me(n).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(Yi))}`)}};function no(){}function ri(t,e,n){return!e||Yi[t]>Yi[n]?no:e[t].bind(e)}const QT={error:no,warn:no,info:no,debug:no};let Jc=new WeakMap;function me(t){var e;const n=t.logger,o=(e=t.logLevel)!==null&&e!==void 0?e:"off";if(!n)return QT;const i=Jc.get(n);if(i&&i[0]===o)return i[1];const r={error:ri("error",n,o),warn:ri("warn",n,o),info:ri("info",n,o),debug:ri("debug",n,o)};return Jc.set(n,[o,r]),r}const Jt=t=>(t.options&&(t.options=Object.assign({},t.options),delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,n])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class _n{constructor(e,n,o){this.iterator=e,this.controller=n,this.client=o}static fromSSEResponse(e,n,o){let i=!1;const r=o?me(o):console;function l(){return Ye(this,arguments,function*(){var c,d,f,m;if(i)throw new qe("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let p=!1;try{try{for(var h=!0,E=Qe(XT(e,n)),_;_=yield L(E.next()),c=_.done,!c;h=!0){m=_.value,h=!1;const T=m;if(!p)if(T.data.startsWith("[DONE]")){p=!0;continue}else try{yield yield L(JSON.parse(T.data))}catch(v){throw r.error("Could not parse message into JSON:",T.data),r.error("From chunk:",T.raw),v}}}catch(T){d={error:T}}finally{try{!h&&!c&&(f=E.return)&&(yield L(f.call(E)))}finally{if(d)throw d.error}}p=!0}catch(T){if(Qs(T))return yield L(void 0);throw T}finally{p||n.abort()}})}return new _n(l,n,o)}static fromReadableStream(e,n,o){let i=!1;function r(){return Ye(this,arguments,function*(){var c,d,f,m;const p=new vr,h=qp(e);try{for(var E=!0,_=Qe(h),T;T=yield L(_.next()),c=T.done,!c;E=!0){m=T.value,E=!1;const v=m;for(const g of p.decode(v))yield yield L(g)}}catch(v){d={error:v}}finally{try{!E&&!c&&(f=_.return)&&(yield L(f.call(_)))}finally{if(d)throw d.error}}for(const v of p.flush())yield yield L(v)})}function l(){return Ye(this,arguments,function*(){var c,d,f,m;if(i)throw new qe("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let p=!1;try{try{for(var h=!0,E=Qe(r()),_;_=yield L(E.next()),c=_.done,!c;h=!0){m=_.value,h=!1;const T=m;p||T&&(yield yield L(JSON.parse(T)))}}catch(T){d={error:T}}finally{try{!h&&!c&&(f=E.return)&&(yield L(f.call(E)))}finally{if(d)throw d.error}}p=!0}catch(T){if(Qs(T))return yield L(void 0);throw T}finally{p||n.abort()}})}return new _n(l,n,o)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],o=this.iterator(),i=r=>({next:()=>{if(r.length===0){const l=o.next();e.push(l),n.push(l)}return r.shift()}});return[new _n(()=>i(e),this.controller,this.client),new _n(()=>i(n),this.controller,this.client)]}toReadableStream(){const e=this;let n;return Bp({async start(){n=e[Symbol.asyncIterator]()},async pull(o){try{const{value:i,done:r}=await n.next();if(r)return o.close();const l=oa(JSON.stringify(i)+`
`);o.enqueue(l)}catch(i){o.error(i)}},async cancel(){var o;await((o=n.return)===null||o===void 0?void 0:o.call(n))}})}}function XT(t,e){return Ye(this,arguments,function*(){var o,i,r,l;if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new qe("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new qe("Attempted to iterate over a response with no body");const u=new bT,c=new vr,d=qp(t.body);try{for(var f=!0,m=Qe(ZT(d)),p;p=yield L(m.next()),o=p.done,!o;f=!0){l=p.value,f=!1;const h=l;for(const E of c.decode(h)){const _=u.decode(E);_&&(yield yield L(_))}}}catch(h){i={error:h}}finally{try{!f&&!o&&(r=m.return)&&(yield L(r.call(m)))}finally{if(i)throw i.error}}for(const h of c.flush()){const E=u.decode(h);E&&(yield yield L(E))}})}function ZT(t){return Ye(this,arguments,function*(){var n,o,i,r;let l=new Uint8Array;try{for(var u=!0,c=Qe(t),d;d=yield L(c.next()),n=d.done,!n;u=!0){r=d.value,u=!1;const f=r;if(f==null)continue;const m=f instanceof ArrayBuffer?new Uint8Array(f):typeof f=="string"?oa(f):f;let p=new Uint8Array(l.length+m.length);p.set(l),p.set(m,l.length),l=p;let h;for(;(h=YT(l))!==-1;)yield yield L(l.slice(0,h)),l=l.slice(h)}}catch(f){o={error:f}}finally{try{!u&&!n&&(i=c.return)&&(yield L(i.call(c)))}finally{if(o)throw o.error}}l.length>0&&(yield yield L(l))})}class bT{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const r={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],r}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,o,i]=jT(e,":");return i.startsWith(" ")&&(i=i.substring(1)),n==="event"?this.event=i:n==="data"&&this.data.push(i),null}}function jT(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function eS(t,e){const{response:n,requestLogID:o,retryOfRequestLogID:i,startTime:r}=e,l=await(async()=>{var u;if(e.options.stream)return me(t).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller,t):_n.fromSSEResponse(n,e.controller,t);if(n.status===204)return null;if(e.options.__binaryResponse)return n;const c=n.headers.get("content-type"),d=(u=c==null?void 0:c.split(";")[0])===null||u===void 0?void 0:u.trim();return(d==null?void 0:d.includes("application/json"))||(d==null?void 0:d.endsWith("+json"))?await n.json():await n.text()})();return me(t).debug(`[${o}] response parsed`,Jt({retryOfRequestLogID:i,url:n.url,status:n.status,body:l,durationMs:Date.now()-r})),l}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ia extends Promise{constructor(e,n,o=eS){super(i=>{i(null)}),this.responsePromise=n,this.parseResponse=o,this.client=e}_thenUnwrap(e){return new ia(this.client,this.responsePromise,async(n,o)=>e(await this.parseResponse(n,o),o))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Yp=Symbol("brand.privateNullableHeaders");function*tS(t){if(!t)return;if(Yp in t){const{values:o,nulls:i}=t;yield*o.entries();for(const r of i)yield[r,null];return}let e=!1,n;t instanceof Headers?n=t.entries():Gc(t)?n=t:(e=!0,n=Object.entries(t??{}));for(let o of n){const i=o[0];if(typeof i!="string")throw new TypeError("expected header name to be a string");const r=Gc(o[1])?o[1]:[o[1]];let l=!1;for(const u of r)u!==void 0&&(e&&!l&&(l=!0,yield[i,null]),yield[i,u])}}const Zn=t=>{const e=new Headers,n=new Set;for(const o of t){const i=new Set;for(const[r,l]of tS(o)){const u=r.toLowerCase();i.has(u)||(e.delete(r),i.add(u)),l===null?(e.delete(r),n.add(u)):(e.append(r,l),n.delete(u))}}return{[Yp]:!0,values:e,nulls:n}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Kr=t=>{var e,n,o,i,r,l;if(typeof globalThis.process<"u")return(o=(n=(e=Rg)===null||e===void 0?void 0:e[t])===null||n===void 0?void 0:n.trim())!==null&&o!==void 0?o:void 0;if(typeof globalThis.Deno<"u")return(l=(r=(i=globalThis.Deno.env)===null||i===void 0?void 0:i.get)===null||r===void 0?void 0:r.call(i,t))===null||l===void 0?void 0:l.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Qp;class yr{constructor(e){var n,o,i,r,l,u,c,{baseURL:d=Kr("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:f=(n=Kr("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:m="v1beta"}=e,p=Ki(e,["baseURL","apiKey","apiVersion"]);const h=Object.assign(Object.assign({apiKey:f,apiVersion:m},p),{baseURL:d||"https://generativelanguage.googleapis.com"});this.baseURL=h.baseURL,this.timeout=(o=h.timeout)!==null&&o!==void 0?o:yr.DEFAULT_TIMEOUT,this.logger=(i=h.logger)!==null&&i!==void 0?i:console;const E="warn";this.logLevel=E,this.logLevel=(l=(r=$c(h.logLevel,"ClientOptions.logLevel",this))!==null&&r!==void 0?r:$c(Kr("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&l!==void 0?l:E,this.fetchOptions=h.fetchOptions,this.maxRetries=(u=h.maxRetries)!==null&&u!==void 0?u:2,this.fetch=(c=h.fetch)!==null&&c!==void 0?c:UT(),this.encoder=GT,this._options=h,this.apiKey=f,this.apiVersion=m,this.clientAdapter=h.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:n}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const n=Zn([e.headers]);if(!(n.values.has("authorization")||n.values.has("x-goog-api-key"))){if(this.apiKey)return Zn([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return Zn([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([n,o])=>typeof o<"u").map(([n,o])=>{if(typeof o=="string"||typeof o=="number"||typeof o=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(o)}`;if(o===null)return`${encodeURIComponent(n)}=`;throw new qe(`Cannot stringify type ${typeof o}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${sn}`}defaultIdempotencyKey(){return`stainless-node-retry-${TT()}`}makeStatusError(e,n,o,i){return ve.generate(e,n,o,i)}buildURL(e,n,o){const i=!this.baseURLOverridden()&&o||this.baseURL,r=CT(e)?new URL(e):new URL(i+(i.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),l=this.defaultQuery();return AT(l)||(n=Object.assign(Object.assign({},l),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(r.search=this.stringifyQuery(n)),r.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const n=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${n}`}}async prepareRequest(e,{url:n,options:o}){}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,o){return this.request(Promise.resolve(o).then(i=>Object.assign({method:e,path:n},i)))}request(e,n=null){return new ia(this,this.makeRequest(e,n,void 0))}async makeRequest(e,n,o){var i,r,l;const u=await e,c=(i=u.maxRetries)!==null&&i!==void 0?i:this.maxRetries;n==null&&(n=c),await this.prepareOptions(u);const{req:d,url:f,timeout:m}=await this.buildRequest(u,{retryCount:c-n});await this.prepareRequest(d,{url:f,options:u});const p="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),h=o===void 0?"":`, retryOf: ${o}`,E=Date.now();if(me(this).debug(`[${p}] sending request`,Jt({retryOfRequestLogID:o,method:u.method,url:f,options:u,headers:d.headers})),!((r=u.signal)===null||r===void 0)&&r.aborted)throw new Zs;const _=new AbortController,T=await this.fetchWithTimeout(f,d,m,_).catch(Xs),v=Date.now();if(T instanceof globalThis.Error){const y=`retrying, ${n} attempts remaining`;if(!((l=u.signal)===null||l===void 0)&&l.aborted)throw new Zs;const S=Qs(T)||/timed? ?out/i.test(String(T)+("cause"in T?String(T.cause):""));if(n)return me(this).info(`[${p}] connection ${S?"timed out":"failed"} - ${y}`),me(this).debug(`[${p}] connection ${S?"timed out":"failed"} (${y})`,Jt({retryOfRequestLogID:o,url:f,durationMs:v-E,message:T.message})),this.retryRequest(u,n,o??p);throw me(this).info(`[${p}] connection ${S?"timed out":"failed"} - error; no more retries left`),me(this).debug(`[${p}] connection ${S?"timed out":"failed"} (error; no more retries left)`,Jt({retryOfRequestLogID:o,url:f,durationMs:v-E,message:T.message})),S?new Mp:new gr({cause:T})}const g=`[${p}${h}] ${d.method} ${f} ${T.ok?"succeeded":"failed"} with status ${T.status} in ${v-E}ms`;if(!T.ok){const y=await this.shouldRetry(T);if(n&&y){const x=`retrying, ${n} attempts remaining`;return await VT(T.body),me(this).info(`${g} - ${x}`),me(this).debug(`[${p}] response error (${x})`,Jt({retryOfRequestLogID:o,url:T.url,status:T.status,headers:T.headers,durationMs:v-E})),this.retryRequest(u,n,o??p,T.headers)}const S=y?"error; no more retries left":"error; not retryable";me(this).info(`${g} - ${S}`);const C=await T.text().catch(x=>Xs(x).message),w=PT(C),I=w?void 0:C;throw me(this).debug(`[${p}] response error (${S})`,Jt({retryOfRequestLogID:o,url:T.url,status:T.status,headers:T.headers,message:I,durationMs:Date.now()-E})),this.makeStatusError(T.status,w,I,T.headers)}return me(this).info(g),me(this).debug(`[${p}] response start`,Jt({retryOfRequestLogID:o,url:T.url,status:T.status,headers:T.headers,durationMs:v-E})),{response:T,options:u,controller:_,requestLogID:p,retryOfRequestLogID:o,startTime:E}}async fetchWithTimeout(e,n,o,i){const r=n||{},{signal:l,method:u}=r,c=Ki(r,["signal","method"]);l&&l.addEventListener("abort",()=>i.abort());const d=setTimeout(()=>i.abort(),o),f=globalThis.ReadableStream&&c.body instanceof globalThis.ReadableStream||typeof c.body=="object"&&c.body!==null&&Symbol.asyncIterator in c.body,m=Object.assign(Object.assign(Object.assign({signal:i.signal},f?{duplex:"half"}:{}),{method:"GET"}),c);u&&(m.method=u.toUpperCase());try{return await this.fetch.call(void 0,e,m)}finally{clearTimeout(d)}}async shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,o,i){var r;let l;const u=i==null?void 0:i.get("retry-after-ms");if(u){const d=parseFloat(u);Number.isNaN(d)||(l=d)}const c=i==null?void 0:i.get("retry-after");if(c&&!l){const d=parseFloat(c);Number.isNaN(d)?l=Date.parse(c)-Date.now():l=d*1e3}if(!(l&&0<=l&&l<60*1e3)){const d=(r=e.maxRetries)!==null&&r!==void 0?r:this.maxRetries;l=this.calculateDefaultRetryTimeoutMillis(n,d)}return await xT(l),this.makeRequest(e,n-1,o)}calculateDefaultRetryTimeoutMillis(e,n){const r=n-e,l=Math.min(.5*Math.pow(2,r),8),u=1-Math.random()*.25;return l*u*1e3}async buildRequest(e,{retryCount:n=0}={}){var o,i,r;const l=Object.assign({},e),{method:u,path:c,query:d,defaultBaseURL:f}=l,m=this.buildURL(c,d,f);"timeout"in l&&NT("timeout",l.timeout),l.timeout=(o=l.timeout)!==null&&o!==void 0?o:this.timeout;const{bodyHeaders:p,body:h}=this.buildBody({options:l}),E=await this.buildHeaders({options:e,method:u,bodyHeaders:p,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:u,headers:E},l.signal&&{signal:l.signal}),globalThis.ReadableStream&&h instanceof globalThis.ReadableStream&&{duplex:"half"}),h&&{body:h}),(i=this.fetchOptions)!==null&&i!==void 0?i:{}),(r=l.fetchOptions)!==null&&r!==void 0?r:{}),url:m,timeout:l.timeout}}async buildHeaders({options:e,method:n,bodyHeaders:o,retryCount:i}){let r={};this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),r[this.idempotencyHeader]=e.idempotencyKey);const l=await this.authHeaders(e);let u=Zn([r,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(i)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),LT()),this._options.defaultHeaders,o,e.headers,l]);return this.validateHeaders(u),u.values}buildBody({options:{body:e,headers:n}}){if(!e)return{bodyHeaders:void 0,body:void 0};const o=Zn([n]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&o.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:FT(e)}:this.encoder({body:e,headers:o})}}yr.DEFAULT_TIMEOUT=6e4;class re extends yr{constructor(){super(...arguments),this.interactions=new Kp(this)}}Qp=re;re.GeminiNextGenAPIClient=Qp;re.GeminiNextGenAPIClientError=qe;re.APIError=ve;re.APIConnectionError=gr;re.APIConnectionTimeoutError=Mp;re.APIUserAbortError=Zs;re.NotFoundError=Up;re.ConflictError=Fp;re.RateLimitError=Gp;re.BadRequestError=kp;re.AuthenticationError=Dp;re.InternalServerError=Hp;re.PermissionDeniedError=Lp;re.UnprocessableEntityError=Vp;re.toFile=$T;re.Interactions=Kp;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function nS(t,e){const n={},o=s(t,["name"]);return o!=null&&a(n,["_url","name"],o),n}function oS(t,e){const n={},o=s(t,["name"]);return o!=null&&a(n,["_url","name"],o),n}function iS(t,e){const n={},o=s(t,["sdkHttpResponse"]);return o!=null&&a(n,["sdkHttpResponse"],o),n}function rS(t,e){const n={},o=s(t,["sdkHttpResponse"]);return o!=null&&a(n,["sdkHttpResponse"],o),n}function sS(t,e,n){const o={};if(s(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=s(t,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&a(e,["displayName"],i),s(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const r=s(t,["epochCount"]);e!==void 0&&r!=null&&a(e,["tuningTask","hyperparameters","epochCount"],r);const l=s(t,["learningRateMultiplier"]);if(l!=null&&a(o,["tuningTask","hyperparameters","learningRateMultiplier"],l),s(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(s(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(s(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const u=s(t,["batchSize"]);e!==void 0&&u!=null&&a(e,["tuningTask","hyperparameters","batchSize"],u);const c=s(t,["learningRate"]);if(e!==void 0&&c!=null&&a(e,["tuningTask","hyperparameters","learningRate"],c),s(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(s(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return o}function lS(t,e,n){const o={};let i=s(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const h=s(t,["validationDataset"]);e!==void 0&&h!=null&&a(e,["supervisedTuningSpec"],Oc(h))}else if(i==="PREFERENCE_TUNING"){const h=s(t,["validationDataset"]);e!==void 0&&h!=null&&a(e,["preferenceOptimizationSpec"],Oc(h))}const r=s(t,["tunedModelDisplayName"]);e!==void 0&&r!=null&&a(e,["tunedModelDisplayName"],r);const l=s(t,["description"]);e!==void 0&&l!=null&&a(e,["description"],l);let u=s(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const h=s(t,["epochCount"]);e!==void 0&&h!=null&&a(e,["supervisedTuningSpec","hyperParameters","epochCount"],h)}else if(u==="PREFERENCE_TUNING"){const h=s(t,["epochCount"]);e!==void 0&&h!=null&&a(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],h)}let c=s(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const h=s(t,["learningRateMultiplier"]);e!==void 0&&h!=null&&a(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],h)}else if(c==="PREFERENCE_TUNING"){const h=s(t,["learningRateMultiplier"]);e!==void 0&&h!=null&&a(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],h)}let d=s(n,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const h=s(t,["exportLastCheckpointOnly"]);e!==void 0&&h!=null&&a(e,["supervisedTuningSpec","exportLastCheckpointOnly"],h)}else if(d==="PREFERENCE_TUNING"){const h=s(t,["exportLastCheckpointOnly"]);e!==void 0&&h!=null&&a(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],h)}let f=s(n,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const h=s(t,["adapterSize"]);e!==void 0&&h!=null&&a(e,["supervisedTuningSpec","hyperParameters","adapterSize"],h)}else if(f==="PREFERENCE_TUNING"){const h=s(t,["adapterSize"]);e!==void 0&&h!=null&&a(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],h)}if(s(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(s(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const m=s(t,["labels"]);e!==void 0&&m!=null&&a(e,["labels"],m);const p=s(t,["beta"]);return e!==void 0&&p!=null&&a(e,["preferenceOptimizationSpec","hyperParameters","beta"],p),o}function aS(t,e){const n={},o=s(t,["baseModel"]);o!=null&&a(n,["baseModel"],o);const i=s(t,["preTunedModel"]);i!=null&&a(n,["preTunedModel"],i);const r=s(t,["trainingDataset"]);r!=null&&ES(r);const l=s(t,["config"]);return l!=null&&sS(l,n),n}function uS(t,e){const n={},o=s(t,["baseModel"]);o!=null&&a(n,["baseModel"],o);const i=s(t,["preTunedModel"]);i!=null&&a(n,["preTunedModel"],i);const r=s(t,["trainingDataset"]);r!=null&&_S(r,n,e);const l=s(t,["config"]);return l!=null&&lS(l,n,e),n}function cS(t,e){const n={},o=s(t,["name"]);return o!=null&&a(n,["_url","name"],o),n}function dS(t,e){const n={},o=s(t,["name"]);return o!=null&&a(n,["_url","name"],o),n}function fS(t,e,n){const o={},i=s(t,["pageSize"]);e!==void 0&&i!=null&&a(e,["_query","pageSize"],i);const r=s(t,["pageToken"]);e!==void 0&&r!=null&&a(e,["_query","pageToken"],r);const l=s(t,["filter"]);return e!==void 0&&l!=null&&a(e,["_query","filter"],l),o}function pS(t,e,n){const o={},i=s(t,["pageSize"]);e!==void 0&&i!=null&&a(e,["_query","pageSize"],i);const r=s(t,["pageToken"]);e!==void 0&&r!=null&&a(e,["_query","pageToken"],r);const l=s(t,["filter"]);return e!==void 0&&l!=null&&a(e,["_query","filter"],l),o}function mS(t,e){const n={},o=s(t,["config"]);return o!=null&&fS(o,n),n}function hS(t,e){const n={},o=s(t,["config"]);return o!=null&&pS(o,n),n}function gS(t,e){const n={},o=s(t,["sdkHttpResponse"]);o!=null&&a(n,["sdkHttpResponse"],o);const i=s(t,["nextPageToken"]);i!=null&&a(n,["nextPageToken"],i);const r=s(t,["tunedModels"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>Xp(u))),a(n,["tuningJobs"],l)}return n}function vS(t,e){const n={},o=s(t,["sdkHttpResponse"]);o!=null&&a(n,["sdkHttpResponse"],o);const i=s(t,["nextPageToken"]);i!=null&&a(n,["nextPageToken"],i);const r=s(t,["tuningJobs"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>el(u))),a(n,["tuningJobs"],l)}return n}function yS(t,e){const n={},o=s(t,["name"]);o!=null&&a(n,["model"],o);const i=s(t,["name"]);return i!=null&&a(n,["endpoint"],i),n}function ES(t,e){const n={};if(s(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(s(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const o=s(t,["examples"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(r=>r)),a(n,["examples","examples"],i)}return n}function _S(t,e,n){const o={};let i=s(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const l=s(t,["gcsUri"]);e!==void 0&&l!=null&&a(e,["supervisedTuningSpec","trainingDatasetUri"],l)}else if(i==="PREFERENCE_TUNING"){const l=s(t,["gcsUri"]);e!==void 0&&l!=null&&a(e,["preferenceOptimizationSpec","trainingDatasetUri"],l)}let r=s(n,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const l=s(t,["vertexDatasetResource"]);e!==void 0&&l!=null&&a(e,["supervisedTuningSpec","trainingDatasetUri"],l)}else if(r==="PREFERENCE_TUNING"){const l=s(t,["vertexDatasetResource"]);e!==void 0&&l!=null&&a(e,["preferenceOptimizationSpec","trainingDatasetUri"],l)}if(s(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return o}function Xp(t,e){const n={},o=s(t,["sdkHttpResponse"]);o!=null&&a(n,["sdkHttpResponse"],o);const i=s(t,["name"]);i!=null&&a(n,["name"],i);const r=s(t,["state"]);r!=null&&a(n,["state"],fp(r));const l=s(t,["createTime"]);l!=null&&a(n,["createTime"],l);const u=s(t,["tuningTask","startTime"]);u!=null&&a(n,["startTime"],u);const c=s(t,["tuningTask","completeTime"]);c!=null&&a(n,["endTime"],c);const d=s(t,["updateTime"]);d!=null&&a(n,["updateTime"],d);const f=s(t,["description"]);f!=null&&a(n,["description"],f);const m=s(t,["baseModel"]);m!=null&&a(n,["baseModel"],m);const p=s(t,["_self"]);return p!=null&&a(n,["tunedModel"],yS(p)),n}function el(t,e){const n={},o=s(t,["sdkHttpResponse"]);o!=null&&a(n,["sdkHttpResponse"],o);const i=s(t,["name"]);i!=null&&a(n,["name"],i);const r=s(t,["state"]);r!=null&&a(n,["state"],fp(r));const l=s(t,["createTime"]);l!=null&&a(n,["createTime"],l);const u=s(t,["startTime"]);u!=null&&a(n,["startTime"],u);const c=s(t,["endTime"]);c!=null&&a(n,["endTime"],c);const d=s(t,["updateTime"]);d!=null&&a(n,["updateTime"],d);const f=s(t,["error"]);f!=null&&a(n,["error"],f);const m=s(t,["description"]);m!=null&&a(n,["description"],m);const p=s(t,["baseModel"]);p!=null&&a(n,["baseModel"],p);const h=s(t,["tunedModel"]);h!=null&&a(n,["tunedModel"],h);const E=s(t,["preTunedModel"]);E!=null&&a(n,["preTunedModel"],E);const _=s(t,["supervisedTuningSpec"]);_!=null&&a(n,["supervisedTuningSpec"],_);const T=s(t,["preferenceOptimizationSpec"]);T!=null&&a(n,["preferenceOptimizationSpec"],T);const v=s(t,["tuningDataStats"]);v!=null&&a(n,["tuningDataStats"],v);const g=s(t,["encryptionSpec"]);g!=null&&a(n,["encryptionSpec"],g);const y=s(t,["partnerModelTuningSpec"]);y!=null&&a(n,["partnerModelTuningSpec"],y);const S=s(t,["customBaseModel"]);S!=null&&a(n,["customBaseModel"],S);const C=s(t,["experiment"]);C!=null&&a(n,["experiment"],C);const w=s(t,["labels"]);w!=null&&a(n,["labels"],w);const I=s(t,["outputUri"]);I!=null&&a(n,["outputUri"],I);const N=s(t,["pipelineJob"]);N!=null&&a(n,["pipelineJob"],N);const x=s(t,["serviceAccount"]);x!=null&&a(n,["serviceAccount"],x);const k=s(t,["tunedModelDisplayName"]);k!=null&&a(n,["tunedModelDisplayName"],k);const B=s(t,["veoTuningSpec"]);return B!=null&&a(n,["veoTuningSpec"],B),n}function TS(t,e){const n={},o=s(t,["sdkHttpResponse"]);o!=null&&a(n,["sdkHttpResponse"],o);const i=s(t,["name"]);i!=null&&a(n,["name"],i);const r=s(t,["metadata"]);r!=null&&a(n,["metadata"],r);const l=s(t,["done"]);l!=null&&a(n,["done"],l);const u=s(t,["error"]);return u!=null&&a(n,["error"],u),n}function Oc(t,e){const n={},o=s(t,["gcsUri"]);o!=null&&a(n,["validationDatasetUri"],o);const i=s(t,["vertexDatasetResource"]);return i!=null&&a(n,["validationDatasetUri"],i),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class SS extends mt{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new on(ft.PAGED_ITEM_TUNING_JOBS,o=>this.listInternal(o),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var o;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel};!((o=n.config)===null||o===void 0)&&o.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);const r=Object.assign(Object.assign({},n),{preTunedModel:i});return r.baseModel=void 0,await this.tuneInternal(r)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),r=await this.tuneMldevInternal(i);let l="";return r.metadata!==void 0&&r.metadata.tunedModel!==void 0?l=r.metadata.tunedModel:r.name!==void 0&&r.name.includes("/operations/")&&(l=r.name.split("/operations/")[0]),{name:l,state:zs.JOB_STATE_QUEUED}}}}async getInternal(e){var n,o,i,r;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=dS(e);return u=P("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>el(f))}else{const d=cS(e);return u=P("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>Xp(f))}}async listInternal(e){var n,o,i,r;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=hS(e);return u=P("tuningJobs",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const m=vS(f),p=new vc;return Object.assign(p,m),p})}else{const d=mS(e);return u=P("tunedModels",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const m=gS(f),p=new vc;return Object.assign(p,m),p})}}async cancel(e){var n,o,i,r;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=oS(e);return u=P("{name}:cancel",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const m=rS(f),p=new yc;return Object.assign(p,m),p})}else{const d=nS(e);return u=P("{name}:cancel",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const m=iS(f),p=new yc;return Object.assign(p,m),p})}}async tuneInternal(e){var n,o;let i,r="",l={};if(this.apiClient.isVertexAI()){const u=uS(e,e);return r=P("tuningJobs",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),i.then(c=>el(c))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,o;let i,r="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=aS(e);return r=P("tunedModels",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),i.then(c=>TS(c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class CS{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const IS=1024*1024*8,wS=3,AS=1e3,RS=2,Qi="x-goog-upload-status";async function NS(t,e,n){var o;const i=await Zp(t,e,n),r=await(i==null?void 0:i.json());if(((o=i==null?void 0:i.headers)===null||o===void 0?void 0:o[Qi])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return r.file}async function PS(t,e,n){var o;const i=await Zp(t,e,n),r=await(i==null?void 0:i.json());if(((o=i==null?void 0:i.headers)===null||o===void 0?void 0:o[Qi])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const l=sp(r),u=new Zl;return Object.assign(u,l),u}async function Zp(t,e,n){var o,i;let r=0,l=0,u=new $s(new Response),c="upload";for(r=t.size;l<r;){const d=Math.min(IS,r-l),f=t.slice(l,l+d);l+d>=r&&(c+=", finalize");let m=0,p=AS;for(;m<wS&&(u=await n.request({path:"",body:f,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":c,"X-Goog-Upload-Offset":String(l),"Content-Length":String(d)}}}),!(!((o=u==null?void 0:u.headers)===null||o===void 0)&&o[Qi]));)m++,await MS(p),p=p*RS;if(l+=d,((i=u==null?void 0:u.headers)===null||i===void 0?void 0:i[Qi])!=="active")break;if(r<=l)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return u}async function xS(t){return{size:t.size,type:t.type}}function MS(t){return new Promise(e=>setTimeout(e,t))}class kS{async upload(e,n,o){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await NS(e,n,o)}async uploadToFileSearchStore(e,n,o){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await PS(e,n,o)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await xS(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class DS{create(e,n,o){return new LS(e,n,o)}}class LS{constructor(e,n,o){this.url=e,this.headers=n,this.callbacks=o}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Wc="x-goog-api-key";class US{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(Wc)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(Wc,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const FS="gl-node/";class VS{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const e=this.httpOptions;e!=null&&e.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const n=new re({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e==null?void 0:e.timeout});return this._interactions=n.interactions,this._interactions}constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const o=Mg(e.httpOptions,e.vertexai,void 0,void 0);o&&(e.httpOptions?e.httpOptions.baseUrl=o:e.httpOptions={baseUrl:o}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const i=new US(this.apiKey);this.apiClient=new x_({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:FS+"web",uploader:new kS,downloader:new CS}),this.models=new Q_(this.apiClient),this.live=new $_(this.apiClient,i,new DS),this.batches=new sy(this.apiClient),this.chats=new qy(this.models,this.apiClient),this.caches=new Gy(this.apiClient),this.files=new Zy(this.apiClient),this.operations=new X_(this.apiClient),this.authTokens=new fT(this.apiClient),this.tunings=new SS(this.apiClient),this.fileSearchStores=new _T(this.apiClient)}}async function GS(t,e,n){try{const o="";if(!o)throw new Error("API Key is missing. Please check your .env file.");const i=new VS({apiKey:o});try{}catch(f){console.error("Failed to list models:",f)}const r={inlineData:{data:t,mimeType:e}},l={text:n},u=await i.models.generateContent({model:"gemini-2.0-flash-lite",contents:{parts:[l,r]}});let c=null,d=null;if(u.candidates&&u.candidates[0].content.parts)for(const f of u.candidates[0].content.parts)f.inlineData?c=`data:image/png;base64,${f.inlineData.data}`:f.text&&(d=f.text);return{imageUrl:c,description:d}}catch(o){throw console.error("Gemini API Error:",o),new Error(o instanceof Error?o.message:"Failed to generate image.")}}const HS=({onUpload:t})=>{const e=Tt.useRef(null),n=i=>{var l;const r=(l=i.target.files)==null?void 0:l[0];if(r){const u=new FileReader;u.onloadend=()=>{const c=u.result.split(",")[1];t({file:r,preview:u.result,base64:c,mimeType:r.type})},u.readAsDataURL(r)}},o=()=>{var i;(i=e.current)==null||i.click()};return R.jsxs("div",{onClick:o,className:"group relative cursor-pointer",children:[R.jsx("input",{type:"file",ref:e,onChange:n,className:"hidden",accept:"image/*"}),R.jsx("div",{className:"border-2 border-dashed border-slate-700 group-hover:border-indigo-500/50 rounded-[40px] p-12 transition-all duration-300 bg-slate-900/30 group-hover:bg-slate-800/40",children:R.jsxs("div",{className:"flex flex-col items-center",children:[R.jsx("div",{className:"w-20 h-20 bg-slate-800 rounded-3xl flex items-center justify-center mb-6 shadow-inner group-hover:scale-110 transition-transform duration-300",children:R.jsx("i",{className:"fas fa-cloud-arrow-up text-3xl text-indigo-400"})}),R.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Select a photo to style"}),R.jsx("p",{className:"text-slate-500",children:"JPG, PNG or WEBP up to 10MB"}),R.jsx("button",{className:"mt-8 bg-white text-slate-900 px-8 py-3 rounded-2xl font-bold shadow-xl shadow-white/5 hover:bg-slate-100 transition-colors",children:"Choose File"})]})}),R.jsx("div",{className:"absolute -top-10 -left-10 w-40 h-40 bg-indigo-600/10 rounded-full blur-3xl pointer-events-none"}),R.jsx("div",{className:"absolute -bottom-10 -right-10 w-40 h-40 bg-purple-600/10 rounded-full blur-3xl pointer-events-none"})]})},BS=({styles:t,selectedStyle:e,onSelect:n,isLoading:o})=>R.jsx("div",{className:"grid grid-cols-2 gap-3",children:t.map(i=>R.jsxs("button",{disabled:o,onClick:()=>n(i),className:`relative group flex flex-col items-center p-4 rounded-2xl border transition-all duration-300 ${(e==null?void 0:e.id)===i.id?"border-indigo-500 bg-indigo-500/10 shadow-[0_0_20px_rgba(99,102,241,0.2)]":"border-white/5 bg-slate-900/40 hover:border-white/20 hover:bg-slate-900/60"} disabled:opacity-50 disabled:cursor-not-allowed`,children:[R.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center mb-3 ${i.color} text-white shadow-lg`,children:R.jsx("i",{className:`fas ${i.icon}`})}),R.jsx("span",{className:"text-sm font-bold text-white mb-1",children:i.name}),R.jsx("span",{className:"text-[10px] text-slate-500 text-center leading-tight",children:i.description}),(e==null?void 0:e.id)===i.id&&!o&&R.jsx("div",{className:"absolute top-2 right-2",children:R.jsx("i",{className:"fas fa-check-circle text-indigo-500 text-xs"})})]},i.id))}),qS=({processing:t,originalImage:e})=>!t.isLoading&&!t.resultImageUrl&&!t.error?R.jsxs("div",{className:"flex flex-col items-center justify-center h-full min-h-[500px] border-2 border-dashed border-white/5 rounded-[40px] bg-slate-900/20",children:[R.jsx("div",{className:"w-16 h-16 bg-slate-800/50 rounded-full flex items-center justify-center mb-4",children:R.jsx("i",{className:"fas fa-magic text-slate-600 text-2xl"})}),R.jsx("p",{className:"text-slate-500 font-medium",children:"Select a style to generate result"})]}):R.jsxs("div",{className:"space-y-6",children:[R.jsx("div",{className:"glass-effect rounded-[40px] overflow-hidden shadow-2xl relative min-h-[500px] flex items-center justify-center",children:t.isLoading?R.jsxs("div",{className:"flex flex-col items-center text-center p-12",children:[R.jsxs("div",{className:"relative mb-8",children:[R.jsx("div",{className:"w-24 h-24 border-4 border-indigo-500/20 border-t-indigo-500 rounded-full animate-spin"}),R.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 text-indigo-500",children:R.jsx("i",{className:"fas fa-bolt text-2xl animate-pulse"})})]}),R.jsx("h4",{className:"text-2xl font-bold mb-2",children:"Gemini is styling your photo..."}),R.jsx("p",{className:"text-slate-400",children:"Reimagining pixels through neural networks"})]}):t.error?R.jsxs("div",{className:"flex flex-col items-center text-center p-12",children:[R.jsx("div",{className:"w-20 h-20 bg-red-500/10 rounded-full flex items-center justify-center mb-6",children:R.jsx("i",{className:"fas fa-circle-exclamation text-red-500 text-3xl"})}),R.jsx("h4",{className:"text-xl font-bold text-white mb-2",children:"Something went wrong"}),R.jsx("p",{className:"text-red-400 max-w-sm mb-6",children:t.error}),R.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-slate-800 hover:bg-slate-700 rounded-xl text-sm font-medium transition-colors",children:"Try Again"})]}):R.jsxs("div",{className:"w-full h-full group",children:[R.jsx("img",{src:t.resultImageUrl||"",alt:"Generated Result",className:"w-full h-auto object-contain animate-in fade-in zoom-in duration-500"}),t.resultImageUrl&&R.jsxs("a",{href:t.resultImageUrl,download:"styled-image.png",className:"absolute bottom-6 right-6 bg-white/10 hover:bg-white/20 backdrop-blur-md text-white p-4 rounded-2xl flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:[R.jsx("i",{className:"fas fa-download"}),R.jsx("span",{className:"font-bold",children:"Download Result"})]})]})}),t.resultDescription&&!t.isLoading&&R.jsxs("div",{className:"glass-effect p-6 rounded-3xl animate-in slide-in-from-bottom duration-500",children:[R.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[R.jsx("i",{className:"fas fa-quote-left text-indigo-400 text-xs"}),R.jsx("span",{className:"text-xs font-bold text-slate-500 uppercase tracking-widest",children:"AI Concept Note"})]}),R.jsx("p",{className:"text-slate-300 italic leading-relaxed",children:t.resultDescription})]})]}),zS=[{id:"cyberpunk",name:"Cyberpunk",description:"Neon-lit futuristic vibe",prompt:"Transform this image into a high-contrast cyberpunk city style. Use vibrant neon purples, electric blues, and pinks. Add glowing lights, digital artifacts, and a futuristic sci-fi aesthetic.",icon:"fa-microchip",color:"bg-purple-600"},{id:"ghibli",name:"Studio Ghibli",description:"Whimsical anime style",prompt:"Redraw this image in the soft, whimsical, and hand-painted animation style of Studio Ghibli. Use lush green landscapes, soft lighting, and high-saturation natural colors.",icon:"fa-leaf",color:"bg-green-500"},{id:"oil-painting",name:"Impressionist",description:"Rich brushstroke texture",prompt:"Convert this photo into a classical Impressionist oil painting. Emphasize visible, expressive brushstrokes, rich textures, and play with light and color like Claude Monet.",icon:"fa-palette",color:"bg-orange-500"},{id:"sketch",name:"Pencil Sketch",description:"Detailed hand-drawn art",prompt:"Create a detailed pencil sketch of this image. Use realistic shading, fine cross-hatching, and graphite textures on a slightly textured off-white paper background.",icon:"fa-pencil-alt",color:"bg-gray-600"},{id:"retro-wave",name:"Retro Wave",description:"80s synthwave aesthetic",prompt:"Apply a 1980s Retro Wave / Synthwave aesthetic. Add chrome reflections, grid patterns in the distance, a massive glowing sun, and a warm, saturated sunset color palette.",icon:"fa-sun",color:"bg-pink-500"},{id:"voxel",name:"Voxel Art",description:"3D blocky geometry",prompt:"Convert this image into a 3D voxel art style, similar to Minecraft. Everything should be made of tiny colorful cubes. Maintain the original composition but interpret it entirely through blocky, voxelized geometry.",icon:"fa-cube",color:"bg-indigo-500"},{id:"stained-glass",name:"Stained Glass",description:"Cathedral window mosaic",prompt:"Reimagine this photo as a vibrant stained glass window. Use thick black lead outlines separating sections of glowing, translucent colored glass. The light should seem to be passing through it from behind.",icon:"fa-th-large",color:"bg-yellow-500"},{id:"paper-cutout",name:"Paper Cutout",description:"Layered craft style",prompt:"Transform this image into a multi-layered paper cutout art style. Each element should look like a distinct piece of textured cardstock layered on top of another, with subtle drop shadows between layers to create a 3D depth effect.",icon:"fa-scissors",color:"bg-rose-400"},{id:"ukiyo-e",name:"Ukiyo-e",description:"Japanese woodblock",prompt:"Redraw this image in the style of traditional Japanese Ukiyo-e woodblock prints. Use flat areas of color, bold outlines, and traditional textures reminiscent of Hokusai or Hiroshige. Include stylized elements if appropriate.",icon:"fa-torii-gate",color:"bg-red-600"},{id:"blueprint",name:"Blueprint",description:"Technical schematic",prompt:"Turn this image into a detailed architectural blueprint. Use a deep cyan background with crisp white technical lines, grid patterns, and faint handwritten annotations or measurements.",icon:"fa-ruler-combined",color:"bg-blue-700"}],$S=()=>{const[t,e]=Tt.useState(null),[n,o]=Tt.useState(null),[i,r]=Tt.useState(""),[l,u]=Tt.useState({isLoading:!1,error:null,resultImageUrl:null,resultDescription:null}),c=m=>{e(m),u(p=>({...p,resultImageUrl:null,resultDescription:null,error:null}))},d=async m=>{if(t){u({isLoading:!0,error:null,resultImageUrl:null,resultDescription:null});try{const p=typeof m=="string"?m:m.prompt,{imageUrl:h,description:E}=await GS(t.base64,t.mimeType,p);u({isLoading:!1,error:null,resultImageUrl:h,resultDescription:E})}catch(p){u({isLoading:!1,error:p instanceof Error?p.message:"An unknown error occurred",resultImageUrl:null,resultDescription:null})}}},f=()=>{e(null),o(null),r(""),u({isLoading:!1,error:null,resultImageUrl:null,resultDescription:null})};return R.jsxs("div",{className:"min-h-screen pb-20",children:[R.jsx("header",{className:"sticky top-0 z-50 glass-effect p-4 border-b border-white/10 mb-8",children:R.jsxs("div",{className:"max-w-6xl mx-auto flex items-center justify-between",children:[R.jsxs("div",{className:"flex items-center gap-3",children:[R.jsx("div",{className:"w-10 h-10 bg-indigo-600 rounded-xl flex items-center justify-center shadow-lg shadow-indigo-500/20",children:R.jsx("i",{className:"fas fa-magic text-white text-xl"})}),R.jsx("h1",{className:"text-2xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-indigo-400 to-purple-400",children:"VisionStyle AI"})]}),t&&R.jsx("button",{onClick:f,className:"text-sm font-medium text-slate-400 hover:text-white transition-colors",children:"Start Over"})]})}),R.jsx("main",{className:"max-w-6xl mx-auto px-4",children:t?R.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8 items-start",children:[R.jsxs("div",{className:"lg:col-span-5 space-y-6",children:[R.jsxs("div",{className:"glass-effect rounded-3xl p-6",children:[R.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[R.jsx("i",{className:"fas fa-sliders text-indigo-400"}),"Choose a Style"]}),R.jsx(BS,{styles:zS,selectedStyle:n,onSelect:m=>{o(m),d(m)},isLoading:l.isLoading}),R.jsxs("div",{className:"mt-8",children:[R.jsx("h3",{className:"text-sm font-medium text-slate-400 mb-3 uppercase tracking-wider",children:"Or Use Custom Instructions"}),R.jsxs("div",{className:"relative",children:[R.jsx("textarea",{value:i,onChange:m=>r(m.target.value),placeholder:'e.g., "Add a snowy winter atmosphere" or "Make it look like a vintage 1920s photo"',className:"w-full bg-slate-900/50 border border-white/10 rounded-2xl p-4 text-white placeholder:text-slate-600 focus:outline-none focus:ring-2 focus:ring-indigo-500 transition-all resize-none h-28"}),R.jsxs("button",{disabled:!i.trim()||l.isLoading,onClick:()=>d(i),className:"absolute bottom-3 right-3 bg-indigo-600 hover:bg-indigo-500 disabled:bg-slate-700 disabled:text-slate-400 px-4 py-2 rounded-xl text-sm font-bold shadow-lg shadow-indigo-500/20 transition-all flex items-center gap-2",children:[l.isLoading?R.jsx("i",{className:"fas fa-spinner fa-spin"}):R.jsx("i",{className:"fas fa-paper-plane"}),"Apply"]})]})]})]}),R.jsxs("div",{className:"glass-effect rounded-3xl p-4 overflow-hidden",children:[R.jsx("p",{className:"text-xs font-bold text-slate-500 uppercase mb-3 px-2",children:"Original Reference"}),R.jsx("img",{src:t.preview,alt:"Original",className:"w-full rounded-2xl object-cover max-h-[300px]"})]})]}),R.jsx("div",{className:"lg:col-span-7",children:R.jsx(qS,{processing:l,originalImage:t.preview})})]}):R.jsxs("div",{className:"max-w-2xl mx-auto text-center py-12",children:[R.jsx("h2",{className:"text-4xl font-extrabold mb-4",children:"Transform Your Photos Instantly"}),R.jsx("p",{className:"text-slate-400 text-lg mb-10",children:"Upload an image and let Gemini 2.5 Flash Image reimagine it in any style you can dream of."}),R.jsx(HS,{onUpload:c})]})})]})},bp=document.getElementById("root");if(!bp)throw new Error("Could not find root element to mount to");const JS=Yr.createRoot(bp);JS.render(R.jsx(hm.StrictMode,{children:R.jsx($S,{})}));
